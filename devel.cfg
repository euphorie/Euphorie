[buildout]
allow-picked-versions = true
show-picked-versions = true
extends =
    buildout.cfg
parts =
    instance
    pythontools
    test
    sphinx
    code-analysis
    createcoverage
auto-checkout =
    NuPlone

[pythontools]
recipe = zc.recipe.egg
interpreter = pythontools
dependent-scripts = true
eggs =
    ${test:eggs}
    i18ndude

[instance]
debug-mode = on
eggs +=
    Products.PDBDebugMode
environment-vars =
    PREFER_Z3C_PT 1
    CHAMELEON_DEBUG 1
    zope_i18n_compile_mo_files 1

[code-analysis]
recipe = plone.recipe.codeanalysis
directory = ${buildout:directory}/src/euphorie
flake8-exclude = bootstrap.py,bootstrap-buildout.py,docs,*.egg.,omelette
flake8-max-line-length = 88
flake8-ignore = E203,W503,W504,Q000,C812,C901,T000
return-status-codes = True

[createcoverage]
recipe = zc.recipe.egg
eggs = createcoverage

[test]
recipe = collective.xmltestreport
defaults = ['--auto-color', '--auto-progress']
eggs =
    Euphorie [tests]
    Pillow

[versions]
check-manifest = 0.46
flake8 = 3.8.4
mccabe = 0.6.1
plone.recipe.codeanalysis = 3.0.1
pycodestyle = 2.6.0
pyflakes = 2.2.0

[versions:python27]
importlib-resources = 3.3.1
