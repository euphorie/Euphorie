{"version":3,"file":"chunks/8047.e7ea8d74ef1e05becd06.min.js","mappings":";iNAIaA,EAAU,WACnB,OAAOC,EAAAA,KAAAA,OAAY,CACfC,KAAM,SAENC,WAHe,WAIX,MAAO,CACHC,eAAgB,CAAC,EAExB,EAEDC,MAAO,QACPC,QAAS,oBAETC,gBAAgB,EAChBC,WAAW,EACXC,WAAW,EACXC,YAAY,EAEZC,UAjBe,WAkBX,MAAO,CACH,CACIC,IAAK,UAGhB,EAEDC,WAzBe,YAyBgB,IAAlBT,EAAkB,EAAlBA,eACT,MAAO,CACH,UACAU,EAAAA,EAAAA,iBAAgBC,KAAKC,QAAQZ,eAAgBA,GAC7C,EAEP,EAEDa,sBAjCe,WAiCS,WACpB,MAAO,CACH,IAAIC,EAAAA,GAAO,CACPC,MAAO,CACHC,gBAAiB,CAEbC,UAAW,SAACC,EAAMC,GACd,IAAKA,EAAMC,OACP,OAAO,EAGX,IAAMC,EAAMH,EAAKI,SAASH,EAAMC,OAAQ,GAOxC,OANaF,EAAKK,MAAMC,IAAIC,QAAQJ,GAE3BK,OAAOC,OAAS,EAAKA,MAC1BR,EAAMS,kBAGH,CACV,MAKpB,GAER,C","sources":["webpack://@patternslib/patternslib/./node_modules/@patternslib/pat-tiptap/src/extensions/figure.js"],"sourcesContent":["// From: tiptap/demos/src/Experiments/GenericFigure/Vue/figure.ts\nimport { Node, mergeAttributes } from \"@tiptap/core\";\nimport { Plugin } from \"prosemirror-state\";\n\nexport const factory = () => {\n    return Node.create({\n        name: \"figure\",\n\n        addOptions() {\n            return {\n                HTMLAttributes: {},\n            };\n        },\n\n        group: \"block\",\n        content: \"block figcaption?\",\n\n        allowGapCursor: true,\n        draggable: true,\n        isolating: true,\n        selectable: true,\n\n        parseHTML() {\n            return [\n                {\n                    tag: `figure`,\n                },\n            ];\n        },\n\n        renderHTML({ HTMLAttributes }) {\n            return [\n                \"figure\",\n                mergeAttributes(this.options.HTMLAttributes, HTMLAttributes),\n                0,\n            ];\n        },\n\n        addProseMirrorPlugins() {\n            return [\n                new Plugin({\n                    props: {\n                        handleDOMEvents: {\n                            // prevent dragging nodes out of the figure\n                            dragstart: (view, event) => {\n                                if (!event.target) {\n                                    return false;\n                                }\n\n                                const pos = view.posAtDOM(event.target, 0);\n                                const $pos = view.state.doc.resolve(pos);\n\n                                if ($pos.parent.type === this.type) {\n                                    event.preventDefault();\n                                }\n\n                                return false;\n                            },\n                        },\n                    },\n                }),\n            ];\n        },\n    });\n};\n"],"names":["factory","Node","name","addOptions","HTMLAttributes","group","content","allowGapCursor","draggable","isolating","selectable","parseHTML","tag","renderHTML","mergeAttributes","this","options","addProseMirrorPlugins","Plugin","props","handleDOMEvents","dragstart","view","event","target","pos","posAtDOM","state","doc","resolve","parent","type","preventDefault"],"sourceRoot":""}