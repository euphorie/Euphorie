(self.webpackChunk_patternslib_patternslib=self.webpackChunk_patternslib_patternslib||[]).push([[29912],{27561:function(t,e,s){var i={"./af.global.js":[71590,7,71590],"./af.js":[22495,9,22495],"./ar-dz.global.js":[10997,7,10997],"./ar-dz.js":[2526,9,2526],"./ar-kw.global.js":[39749,7,39749],"./ar-kw.js":[66350,9,66350],"./ar-ly.global.js":[87594,7,87594],"./ar-ly.js":[45587,9,45587],"./ar-ma.global.js":[30817,7,30817],"./ar-ma.js":[83674,9,83674],"./ar-sa.global.js":[64427,7,64427],"./ar-sa.js":[56784,9,56784],"./ar-tn.global.js":[80297,7,80297],"./ar-tn.js":[22194,9,22194],"./ar.global.js":[1234,7,1234],"./ar.js":[55179,9,55179],"./az.global.js":[19802,7,19802],"./az.js":[78627,9,78627],"./bg.global.js":[66602,7,66602],"./bg.js":[21427,9,21427],"./bn.global.js":[80143,7,80143],"./bn.js":[16532,9,16532],"./bs.global.js":[89918,7,89918],"./bs.js":[33575,9,33575],"./ca.global.js":[12555,7,12555],"./ca.js":[39088,9,39088],"./cs.global.js":[32689,7,32689],"./cs.js":[73578,9,73578],"./cy.global.js":[77363,7,77363],"./cy.js":[72456,9,72456],"./da.global.js":[95018,7,95018],"./da.js":[24019,9,24019],"./de-at.global.js":[51520,7,51520],"./de-at.js":[36629,9,36629],"./de.global.js":[11790,7,11790],"./de.js":[5431,9,5431],"./el.global.js":[94160,7,94160],"./el.js":[27781,9,27781],"./en-au.global.js":[57649,7,57649],"./en-au.js":[8874,9,8874],"./en-gb.global.js":[32288,7,32288],"./en-gb.js":[44853,9,44853],"./en-nz.global.js":[57575,7,57575],"./en-nz.js":[30140,9,30140],"./eo.global.js":[47975,7,47975],"./eo.js":[63356,9,63356],"./es-us.global.js":[16640,7,16640],"./es-us.js":[39637,9,39637],"./es.global.js":[27251,7,27251],"./es.js":[51368,9,51368],"./et.global.js":[64312,7,64312],"./et.js":[31581,9,31581],"./eu.global.js":[78517,7,78517],"./eu.js":[98366,9,98366],"./fa.global.js":[3800,7,3800],"./fa.js":[78333,9,714],"./fi.global.js":[8096,7,8096],"./fi.js":[44053,9,44053],"./fr-ca.global.js":[25536,7,25536],"./fr-ca.js":[21,9,21],"./fr-ch.global.js":[35445,7,35445],"./fr-ch.js":[1086,9,1086],"./fr.global.js":[15007,7,15007],"./fr.js":[26500,9,26500],"./gl.global.js":[46558,7,46558],"./gl.js":[87271,9,87271],"./he.global.js":[22890,7,22890],"./he.js":[19795,9,19795],"./hi.global.js":[3110,7,3110],"./hi.js":[90719,9,90719],"./hr.global.js":[94273,7,94273],"./hr.js":[85690,9,85690],"./hu.global.js":[57050,7,57050],"./hu.js":[89379,9,89379],"./hy-am.global.js":[50845,7,50845],"./hy-am.js":[27030,9,27030],"./id.global.js":[87060,7,87060],"./id.js":[70409,9,70409],"./is.global.js":[97335,7,97335],"./is.js":[49196,9,49196],"./it.global.js":[58340,7,58340],"./it.js":[84729,9,84729],"./ja.global.js":[6972,7,6972],"./ja.js":[93793,9,93793],"./ka.global.js":[58787,7,58787],"./ka.js":[98488,9,98488],"./kk.global.js":[96577,7,96577],"./kk.js":[93722,9,93722],"./km.global.js":[93255,7,93255],"./km.js":[73244,9,73244],"./ko.global.js":[42477,7,42477],"./ko.js":[49478,9,49478],"./ku.global.js":[85135,7,85135],"./ku.js":[3700,9,3700],"./lb.global.js":[18485,7,18485],"./lb.js":[38654,9,38654],"./lt.global.js":[98275,7,98275],"./lt.js":[28888,9,28888],"./lv.global.js":[82361,7,82361],"./lv.js":[75330,9,75330],"./mk.global.js":[38195,7,38195],"./mk.js":[6376,9,6376],"./ms.global.js":[73387,7,73387],"./ms.js":[56656,9,56656],"./nb.global.js":[52967,7,52967],"./nb.js":[50524,9,50524],"./ne.global.js":[34644,7,34644],"./ne.js":[98985,9,98985],"./nl.global.js":[30457,7,30457],"./nl.js":[45506,9,45506],"./nn.global.js":[11971,7,11971],"./nn.js":[56536,9,56536],"./pl.global.js":[5463,7,5463],"./pl.js":[41868,9,41868],"./pt-br.global.js":[51552,7,51552],"./pt-br.js":[98357,9,98357],"./pt.global.js":[90111,7,90111],"./pt.js":[4836,9,4836],"./ro.global.js":[47474,7,47474],"./ro.js":[80683,9,80683],"./ru.global.js":[2784,7,2784],"./ru.js":[92565,9,92565],"./si-lk.global.js":[23475,7,23475],"./si-lk.js":[60936,9,60936],"./sk.global.js":[5865,7,5865],"./sk.js":[36914,9,36914],"./sl.global.js":[2594,7,2594],"./sl.js":[92827,9,92827],"./sm.global.js":[53487,7,53487],"./sm.js":[35828,9,35828],"./sq.global.js":[19115,7,19115],"./sq.js":[52944,9,52944],"./sr-cyrl.global.js":[60211,7,60211],"./sr-cyrl.js":[24072,9,24072],"./sr.global.js":[86964,7,86964],"./sr.js":[37481,9,37481],"./sv.global.js":[51472,7,51472],"./sv.js":[53445,9,53445],"./ta-in.global.js":[33774,7,33774],"./ta-in.js":[83415,9,83415],"./th.global.js":[1279,7,1279],"./th.js":[51428,9,51428],"./tr.global.js":[79421,7,79421],"./tr.js":[214,9,214],"./ug.global.js":[15119,7,15119],"./ug.js":[70772,9,70772],"./uk.global.js":[71803,7,71803],"./uk.js":[15776,9,15776],"./uz.global.js":[20222,7,20222],"./uz.js":[12935,9,12935],"./vi.global.js":[23056,7,23056],"./vi.js":[84773,9,84773],"./zh-cn.global.js":[43673,7,43673],"./zh-cn.js":[1730,9,1730],"./zh-tw.global.js":[69725,7,69725],"./zh-tw.js":[37686,9,37686]};function n(t){if(!s.o(i,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=i[t],n=e[0];return s.e(e[2]).then((function(){return s.t(n,16|e[1])}))}n.keys=function(){return Object.keys(i)},n.id=27561,t.exports=n},70245:function(t,e,s){"use strict";s.d(e,{A:function(){return u}});var i=s(35686),n=s.n(i),a=s(30566),o=s(4828),r={getOptions(t,e,s){s=s||{},0===t.length||n().nodeName(t[0],"body")||(s=this.getOptions(t.parent(),e,s));let i={};if(0!==t.length&&(i=t.data("pat-"+e),i&&"string"==typeof i)){const t={};n().each(i.split(";"),(function(e,s){(s=s.split(":")).reverse();let i=s.pop();i=i.replace(/^\s+|\s+$/g,""),s.reverse();let n=s.join(":");n=n.replace(/^\s+|\s+$/g,""),t[i]=n})),i=t}return n().extend(!0,{},s,i)}};const l=o.A.getLogger("Patternslib Base"),c=function(t,e,s){t.jquery||(t=n()(t));const i=this.prototype.name,l=o.A.getLogger(`pat.${i}`);let c=t.data(`pattern-${i}`);if(void 0===c&&a.A.patterns[i])try{t.data(`pattern-${i}`,"initializing"),e="mockup"===this.prototype.parser?r.getOptions(t,i,e):e,c=new a.A.patterns[i](t,e,s)}catch(t){l.error(`Failed while initializing ${i} pattern.`,t)}return c},d=async function(t,e,s){t?.jquery&&0===t.length||!t?l.warn("No element given to pattern."):(t.jquery||(t=n()(t)),this.$el=t,this.el=t[0],this.options=n().extend(!0,{},this.defaults||{},e||{}),this.emit("pre-init"),await this.init(t,e,s),this.$el.data(`pattern-${this.name}`,this),this.el[`pattern-${this.name}`]=this,this.emit("init"))};d.prototype={constructor:d,on(t,e){this.$el.on(`${t}.${this.name}.patterns`,e)},one(t,e){this.$el.one(`${t}.${this.name}.patterns`,e)},emit(t,e){void 0===e&&(e=[]),this.$el.trigger(`${t}.${this.name}.patterns`,e)}},d.extend=function(t){const e=this;let s;if(!t)throw new Error("Pattern configuration properties required when calling Base.extend");s=Object.hasOwnProperty.call(t,"constructor")?t.constructor:function(){e.apply(this,arguments)},s.extend=d.extend,s.init=c,s.jquery_plugin=!0,s.trigger=t.trigger,s.parser=t?.parser||null;var i=function(){this.constructor=s};return i.prototype=e.prototype,s.prototype=new i,n().extend(!0,s.prototype,t),s.__super__=e.prototype,t.name?t.trigger?!1!==t.autoregister&&a.A.register(s,t.name):l.warn(`The pattern ${t.name} does not have a trigger attribute, it will not be registered.`):l.warn("This pattern without a name attribute will not be registered!"),s};var u=d},13744:function(t,e,s){"use strict";s.d(e,{m:function(){return r}});var i=s(2232),n=s(4828),a=s(34114);const o=n.A.getLogger("basepattern");class r{static name;static trigger;static parser;parser_group_options=!0;parser_multiple=void 0;parser_inherit=!0;constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.name=this.constructor.name,this.trigger=this.constructor.trigger,this.parser=this.constructor.parser,t?(t.jquery&&(t=t[0]),this.el=t,this.uuid=(0,a.A)(),this.el.dispatchEvent(new Event(`pre-init.${this.name}.patterns`,{bubbles:!0,cancelable:!0})),window.setTimeout((async()=>{if(void 0!==this.el[`pattern-${this.name}`])return o.debug(`Not reinstatiating the pattern ${this.name}.`,this.el),void this.el.dispatchEvent(new Event(`not-init.${this.name}.patterns`,{bubbles:!0,cancelable:!1}));this.options=this.parser?.parse(this.el,e,this.parser_multiple,this.parser_inherit,this.parser_group_options)??e,this.el[`pattern-${this.name}`]=this,await this.init(),this.el.dispatchEvent(new Event(`init.${this.name}.patterns`,{bubbles:!0,cancelable:!0}))}),0)):o.warn(`No element given to pattern ${this.name}.`)}async init(){}one(t,e){i.A.add_event_listener(this.el,`${t}.${this.name}.patterns`,`basepattern-one--${t}.${this.name}.patterns`,e,{once:!0})}destroy(){delete this.el[`pattern-${this.name}`]}}},80717:function(t,e,s){"use strict";var i=s(2232),n=s(4828),a=s(34114);const o=n.A.getLogger("core dom"),r="__patternslib__data_prefix__",l="__patternslib__style__display",c="input, select, textarea, button",d=(t,e)=>{if(!t||!t.querySelectorAll)return[];const s=[...t.querySelectorAll(e)];return t.matches(e)&&s.unshift(t),s};function u(t,e){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=window.getComputedStyle(t).getPropertyValue(e);return(s||i)&&(n=parseFloat(n)||0),s&&!i&&(n=parseInt(Math.round(n),10)),n}const h=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body;e===window&&(e=document.body);const s=Math.abs(t.getBoundingClientRect().left+e.scrollLeft-e.getBoundingClientRect().left-m.get_css_value(e,"border-left-width",!0));return{top:Math.abs(t.getBoundingClientRect().top+e.scrollTop-e.getBoundingClientRect().top-m.get_css_value(e,"border-top-width",!0)),left:s}},p=(t,e,s)=>t[`${r}${e}`]||s,g=(t,e,s)=>{t[`${r}${e}`]=s},m={document_ready:t=>{const e=(0,a.A)(),s=()=>{"loading"!==document.readyState&&(i.A.remove_event_listener(document,e),setTimeout(t,1))};i.A.add_event_listener(document,"readystatechange",e,s),s()},toNodeArray:t=>(t.jquery||t instanceof NodeList?t=[...t]:t instanceof Array==!1&&(t=[t]),t),querySelectorAllAndMe:d,wrap:(t,e)=>{t.parentNode.insertBefore(e,t),e.appendChild(t)},hide:t=>{"none"!==t.style.display&&(t.style.display&&(t[l]=t.style.display),t.style.display="none")},show:t=>{const e=t[l]||null;t.style.display=e,delete t[l]},find_inputs:t=>d(t,c),find_parents:(t,e)=>{const s=[];let i=t;for(;i;)i=i.parentNode?.closest?.(e),i&&s.push(i);return s},find_scoped:(t,e)=>(0===e.indexOf("#")?document:t).querySelectorAll(e),get_parents:t=>{const e=[];let s=t?.parentNode;for(;s;)e.push(s),s=s?.parentNode,s=s instanceof HTMLElement?s:null;return e},acquire_attribute:function(t,e){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=t;const a=[];for(;n;){const t=n.getAttribute(e);if(t||s&&""===t){if(!i)return t;a.push(t)}n=n.parentElement}if(i)return a},is_visible:t=>t.offsetWidth>0&&t.offsetHeight>0,is_input:t=>/^(?:input|select|textarea|button)$/i.test(t.nodeName),create_from_string:t=>document.createRange().createContextualFragment(t.trim()),get_css_value:u,find_scroll_container:function(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.body;for(;t&&t!==document.body;){if(!e||"y"===e){let e=u(t,"overflow-y");if(["auto","scroll"].includes(e))return t}if(!e||"x"===e){let e=u(t,"overflow-x");if(["auto","scroll"].includes(e))return t}t=t.parentElement}return s},get_scroll_x:t=>void 0!==t.scrollLeft?t.scrollLeft:t.scrollX,get_scroll_y:t=>void 0!==t.scrollTop?t.scrollTop:t.scrollY,get_relative_position:h,scroll_to_element:function(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"top";const n=h(t,e),a={behavior:"auto"};"top"!==i&&"both"!==i||(a.top=n.top-s),"left"!==i&&"both"!==i||(a.left=n.left-s),e.scrollTo(a)},scroll_to_top:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t.scrollTo({top:0-e,behavior:"auto"})},scroll_to_bottom:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const s=(t===window?document.body:t).scrollHeight;t.scrollTo({top:s-e,behavior:"auto"})},get_data:p,set_data:g,delete_data:(t,e)=>{delete t[`${r}${e}`]},template:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.warn("Using dom.template is not recommended due to a problem with Content-Security-Policy."),new Function("return `"+t+"`;").call(e)},get_visible_ratio:(t,e)=>{if(!t)return 0;const s=t.getBoundingClientRect(),i=e!==window?e.getBoundingClientRect():{top:0,bottom:window.innerHeight};let n=0;if(s.top<i.bottom&&s.bottom>i.top){const t=s.bottom-s.top;n=(Math.min(s.bottom,i.bottom)-Math.max(s.top,i.top))/t}return n},escape_css_id:t=>`#${CSS.escape(t.split("#")[1])}`,element_uuid:t=>(p(t,"uuid",!1)||g(t,"uuid",(0,a.A)()),p(t,"uuid")),find_form:t=>t.closest(".pat-subform")||t.form||t.querySelector(c)?.form||t.closest("form")};e.A=m},2232:function(t,e,s){"use strict";var i=s(49264);const n=new Map,a=(t,e)=>{const s=t?[t]:n.keys();for(const t of s){if(!t?.removeEventListener)return;const s=n.get(t);if(!s)return;let a;a=e?[...s.entries()].filter((t=>i.A.regexp_from_wildcard(e).test(t[0]))):s.entries();for(const e of a||[])t.removeEventListener(e[1][0],e[1][1],e[1][2]),n.get(t).delete(e[0]),n.get(t).size||n.delete(t)}};e.A={add_event_listener:function(t,e,s,i){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(!t?.addEventListener)return;a(t,s),n.has(t)||n.set(t,new Map);let r=i;!0===o?.once&&(r=e=>{n.get(t)?.delete(s),i(e)}),n.get(t).set(s,[e,r,o.capture?o:void 0]),t.addEventListener(e,r,o)},remove_event_listener:a,await_event:(t,e)=>new Promise((s=>t.addEventListener(e,s,{once:!0}))),await_pattern_init:t=>new Promise(((e,s)=>{t.one("init",(s=>{s.target===t.el&&(a(t.el,`basepattern-one--not-init.${t.name}.patterns`),e())})),t.one("not-init",(e=>{e.target===t.el&&(a(t.el,`basepattern-one--init.${t.name}.patterns`),s())}))})).catch((()=>{throw new Error(`Pattern "${t.name}" not initialized.`)})),generic_event:t=>new Event(t,{bubbles:!0,cancelable:!0}),blur_event:()=>new Event("blur",{bubbles:!1,cancelable:!1}),click_event:()=>new Event("click",{bubbles:!0,cancelable:!0}),change_event:()=>new Event("change",{bubbles:!0,cancelable:!1}),focus_event:()=>new Event("focus",{bubbles:!1,cancelable:!1}),input_event:()=>new Event("input",{bubbles:!0,cancelable:!1}),mousedown_event:()=>new Event("mousedown",{bubbles:!0,cancelable:!0}),mouseup_event:()=>new Event("mouseup",{bubbles:!0,cancelable:!0}),scroll_event:()=>new Event("scroll",{bubbles:!0,cancelable:!1}),submit_event:function(){let{submitter:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{submitter:void 0};const e=new Event("submit",{bubbles:!0,cancelable:!0});return e.submitter=t,e},dragstart_event:()=>new Event("dragstart",{bubbles:!0,cancelable:!0}),dragend_event:()=>new Event("dragend",{bubbles:!0,cancelable:!0})}},67545:function(t,e,s){"use strict";function i(t){return t}s.d(e,{A:function(){return i}})},4828:function(t,e){"use strict";var s,i;Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),s=this,i=function(){},n=function(){return s.apply(this instanceof i&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return i.prototype=this.prototype,n.prototype=new i,n});var n={DEBUG:10,INFO:20,WARN:30,ERROR:40,FATAL:50};function a(){}function o(t,e){this._loggers={},this.name=t||"",this._parent=e||null,e||(this._enabled=!0,this._level=n.WARN)}function r(t){i=t}a.prototype={output:function(t,e,s){t&&s.unshift(t+":"),e<=n.DEBUG?(s.unshift("[DEBUG]"),console.log.apply(console,s)):e<=n.INFO?console.info.apply(console,s):e<=n.WARN?console.warn.apply(console,s):console.error.apply(console,s)}},o.prototype={getLogger:function(t){for(var e=t.split("."),s=this,i=this.name?[this.name]:[];e.length;){var n=e.shift();i.push(n),n in s._loggers||(s._loggers[n]=new o(i.join("."),s)),s=s._loggers[n]}return s},_getFlag:function(t){var e=this;for(t="_"+t;null!==e;){if(void 0!==e[t])return e[t];e=e._parent}return null},setEnabled:function(t){this._enabled=!!t},isEnabled:function(){this._getFlag("enabled")},setLevel:function(t){"number"==typeof t?this._level=t:"string"==typeof t&&(t=t.toUpperCase())in n&&(this._level=n[t])},getLevel:function(){return this._getFlag("level")},log:function(t,e){!e.length||!this._getFlag("enabled")||t<this._getFlag("level")||(e=Array.prototype.slice.call(e),i.output(this.name,t,e))},debug:function(){this.log(n.DEBUG,arguments)},info:function(){this.log(n.INFO,arguments)},warn:function(){this.log(n.WARN,arguments)},error:function(){this.log(n.ERROR,arguments)},fatal:function(){this.log(n.FATAL,arguments)}},r(new a),s=new o;for(var l,c=/loglevel(|-[^=]+)=([^&]+)/g;null!==(l=c.exec(window.location.search));){(""===l[1]?s:s.getLogger(l[1].slice(1))).setLevel(l[2].toUpperCase())}var d={Level:n,getLogger:s.getLogger.bind(s),setEnabled:s.setEnabled.bind(s),isEnabled:s.isEnabled.bind(s),setLevel:s.setLevel.bind(s),getLevel:s.getLevel.bind(s),debug:s.debug.bind(s),info:s.info.bind(s),warn:s.warn.bind(s),error:s.error.bind(s),fatal:s.fatal.bind(s),getWriter:function(){return i},setWriter:r};e.A=d},74314:function(t,e,s){"use strict";var i=s(35686),n=s.n(i),a=s(49264),o=s(4828);class r{constructor(t){this.order=[],this.parameters={},this.attribute="data-pat-"+t,this.enum_values={},this.enum_conflicts=[],this.groups={},this.possible_groups={},this.log=o.A.getLogger(t+".parser"),this.group_pattern=/([a-z][a-z0-9]*)-([A-Z][a-z0-0\-]*)/i,this.json_param_pattern=/^\s*\[?\s*{/i,this.named_param_pattern=/^\s*([a-z][a-z0-9\-]*)\s*:(.*)/is,this.token_pattern=/((["']).*?(?!\\)\2)|\s*(\S+)\s*/g}_camelCase(t){return t.replace(/\-([a-z])/g,((t,e)=>e.toUpperCase()))}addAlias(t,e){if(!this.parameters[e])throw`Attempted to add an alias "${t}" for a non-existing parser argument "${e}".`;this.parameters[e].alias=t}addGroupToSpec(t){const e=t.name.match(this.group_pattern);if(e){const s=e[1],i=e[2];if(s in this.possible_groups){const t=this.possible_groups[s],e=t.name.match(this.group_pattern)[2];t.group=s,t.dest=e,this.groups[s]=new r,this.groups[s].addArgument(e,t.value,t.choices,t.multiple),delete this.possible_groups[s]}s in this.groups?(this.groups[s].addArgument(i,t.value,t.choices,t.multiple),t.group=s,t.dest=i):(this.possible_groups[s]=t,t.dest=this._camelCase(t.name))}return t}addJSONArgument(t,e){this.order.push(t),this.parameters[t]=this.addGroupToSpec({name:t,value:e,dest:t,group:null,type:"json"})}addArgument(t,e,s,i){const n={name:t,value:i&&!Array.isArray(e)?[e]:e,multiple:i,dest:t,group:null};if(s&&Array.isArray(s)&&s.length){n.choices=s,n.type=this._typeof(s[0]);for(const e of s)-1===this.enum_conflicts.indexOf(e)&&(e in this.enum_values?(this.enum_conflicts.push(e),delete this.enum_values[e]):this.enum_values[e]=t)}else"string"==typeof n.value&&"$"===n.value.slice(0,1)?n.type=this.parameters[n.value.slice(1)].type:n.type=this._typeof(i?n.value[0]:n.value);this.order.push(t),this.parameters[t]=this.addGroupToSpec(n)}_typeof(t){return null===t?"null":typeof t}_coerce(t,e){const s=this.parameters[t];if(typeof e!==s.type)try{switch(s.type){case"json":e=JSON.parse(e);break;case"boolean":if("string"==typeof e){e=e.toLowerCase();const t=parseInt(e,10);e=isNaN(t)?"true"===e||"y"===e||"yes"===e||"y"===e||"on"===e:!!t}else{if("number"!=typeof e)throw`Cannot convert value for ${t} to boolean.`;e=!!e}break;case"number":if("string"==typeof e){if(e=parseInt(e,10),isNaN(e))throw`Cannot convert value for ${t} to number.`}else{if("boolean"!=typeof e)throw`Cannot convert value for ${t} to number.`;e+=0}break;case"string":e=e.toString();break;case"null":case"undefined":break;default:throw`Do not know how to convert value for ${t} of type ${typeof e} to ${s.type}.`}}catch(t){return this.log.warn(t),null}return s.choices&&-1===s.choices.indexOf(e)?(this.log.warn(`Illegal value for ${t}: ${e}.`),null):e}_set(t,e,s){if(!(e in this.parameters))return void this.log.debug(`Ignoring value for unknown argument: ${e}.`);let i;if(this.parameters[e].multiple){i="string"==typeof s?s.split(/,+/):s,s=[];for(const t of i){const i=this._coerce(e,t.trim());null!==i&&s.push(i)}}else if(null===(s=this._coerce(e,s)))return;t[e]=s}_split(t){const e=[];return t.replace(this.token_pattern,((t,s,i,n)=>{s?e.push(s):n&&e.push(n)})),e}_parseExtendedNotation(t){const e={},s=t.replace(/;;/g,"\0x1f").replace(/&amp;/g,"&amp\0x1f").split(/;/).map((t=>t.replace(new RegExp("\0x1f","g"),";")));for(const i of s){if(!i)continue;const s=i.match(this.named_param_pattern);if(!s){this.log.warn(`Invalid parameter: ${i}: ${t}.`);continue}const n=s[1],a=s[2].trim(),o=Object.values(this.parameters).filter((t=>t.alias===n));if(1===o.length)this._set(e,o[0].name,a);else if(n in this.parameters)this._set(e,n,a);else{if(!(n in this.groups)){this.log.warn(`Unknown named parameter: ${s[1]}.`);continue}{const t=this.groups[n]._parseShorthandNotation(a);for(const s in t)this._set(e,n+"-"+s,t[s])}}}return e}_parseShorthandNotation(t){const e=this._split(t),s={};let i=0;for(;e.length;){const t=e.shift().trim();let n,a,o=!0;if("no-"===t.slice(0,3)?(n=!1,a=t.slice(3)):(n=!0,a=t),a in this.parameters&&"boolean"===this.parameters[a].type)o=!1,this._set(s,a,n);else if(a in this.enum_values)o=!1,this._set(s,this.enum_values[a],a);else{if(!o){e.unshift(t);break}this._set(s,this.order[i],t)}if(i++,i>=this.order.length)break}return e.length&&this.log.warn(`Ignore extra arguments: ${e.join(" ")}.`),s}_parse(t){if(!t)return{};if(t.match(this.json_param_pattern))try{return JSON.parse(t)}catch(e){this.log.warn(`Invalid JSON argument found: ${t}.`)}if(t.match(this.named_param_pattern))return this._parseExtendedNotation(t);const e=t.indexOf(";");if(-1===e)return this._parseShorthandNotation(t);const s=this._parseShorthandNotation(t.slice(0,e)),i=this._parseExtendedNotation(t.slice(e+1));for(const t in i)s[t]=i[t];return s}_defaults(t){const e={};for(const s in this.parameters)if("function"==typeof this.parameters[s].value)try{e[s]=this.parameters[s].value(t,s),this.parameters[s].type=typeof e[s]}catch(t){this.log.error(`Default function for ${s} failed.`)}else e[s]=this.parameters[s].value;return e}_cleanupOptions(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];for(const e of Object.keys(t)){const s=this.parameters[e];void 0!==s&&(t[e]===s.value&&"string"==typeof s.value&&"$"===s.value.slice(0,1)&&(t[e]=t[s.value.slice(1)]))}if(e)for(const e of Object.keys(t)){const s=this.parameters[e];let i;void 0!==s&&(s.group?("object"!=typeof t[s.group]&&(t[s.group]={}),i=t[s.group]):i=t,s.dest!==e&&(i[s.dest]=t[e],delete t[e]))}return t}parse(t,e,s){let i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];t.jquery||(t=n()(t)),"boolean"==typeof e&&void 0===s&&(s=e,e={});const r=i?[[this._defaults(t)]]:[[{}]];let l,c=1;l=!i||t.hasClass("pat-modal")&&"data-pat-inject"===this.attribute?t:t.parents(`[${this.attribute}]`).addBack();for(const t of l){let e;const s=(n()(t).attr(this.attribute)||"").trim();if(!s)continue;const i=this._parse.bind(this);e=s.match(/&&/)?s.split(/\s*&&\s*/).map(i):i(s),Array.isArray(e)||(e=[e]),c=Math.max(e.length,c),r.push(e)}"object"==typeof e&&(Array.isArray(e)?(r.push(e),c=Math.max(e.length,c)):r.push([e])),s||(c=1);const d=a.A.removeDuplicateObjects(a.A.mergeStack(r,c)).map((t=>this._cleanupOptions(t,o)));return s?d:d[0]}}r.prototype.add_argument=r.prototype.addArgument,e.A=r},14225:function(){!function(){let t=null;const e='button, input[type="button"], input[type="submit"], input[type="image"]';document.addEventListener("click",(function(s){s.target.closest&&(t=s.target.closest(e))}),!0),document.addEventListener("submit",(function(s){if("submitter"in s)return;const i=[document.activeElement,t];t=null;for(const t of i)if(t&&t.form&&t.matches(e))return void(s.submitter=t);s.submitter=s.target.querySelector(e)}),!0)}()},30566:function(t,e,s){"use strict";var i=s(35686),n=s.n(i),a=s(80717),o=s(4828),r=s(49264);const l=o.A.getLogger("registry"),c=/patterns-disable=([^&]+)/g,d=/patterns-dont-catch/g,u={};let h,p=!1;for(;null!==(h=c.exec(window.location.search));)u[h[1]]=!0,l.info("Pattern disabled via url config:",h[1]);for(;null!==(h=d.exec(window.location.search));)p=!0,l.info("I will not catch init exceptions");void 0===window.__patternslib_registry&&(window.__patternslib_registry={});const g=window.__patternslib_registry;void 0===window.__patternslib_registry_initialized&&(window.__patternslib_registry_initialized=!1);const m={patterns:g,init(){a.A.document_ready((()=>{window.__patternslib_registry_initialized||(window.__patternslib_registry_initialized=!0,l.debug("Loaded: "+Object.keys(m.patterns).sort().join(", ")),m.scan(document.body),l.debug("Finished initial scan."))}))},clear(){for(const t in m.patterns)delete m.patterns[t]},transformPattern(t,e){if(u[t])return void l.debug(`Skipping disabled pattern: ${t}.`);const s=m.patterns[t],i=s.transform||s.prototype?.transform;if(i)try{i(n()(e))}catch(e){if(p)throw e;l.error(`Transform error for pattern ${t}.`,e)}},initPattern(t,e,s){const i=n()(e),a=m.patterns[t],r=o.A.getLogger(`pat.${t}`);if(e.matches(a.trigger)){r.debug("Initialising.",e);try{a.init?a.init(i,null,s):new a(i,null,s),r.debug("done.")}catch(t){if(p)throw t;r.error("Caught error:",t)}}},orderPatterns(t){return t.includes("validation")&&(t.splice(t.indexOf("validation"),1),t.unshift("validation")),t.includes("clone-code")&&(t.splice(t.indexOf("clone-code"),1),t.unshift("clone-code")),t},scan(t,e,s){if(!t)return;if("string"==typeof t)t=document.querySelector(t);else{if(t instanceof Text)return;t.jquery&&(t=t[0])}const i=[];e=this.orderPatterns(e||Object.keys(m.patterns));for(const s of e){this.transformPattern(s,t);const e=m.patterns[s];e.trigger&&i.unshift(e.trigger)}let n=a.A.querySelectorAllAndMe(t,i.map((t=>t.trim().replace(/,$/,""))).join(","));n=n.filter((t=>!t?.closest?.(".disable-patterns")&&!t?.parentNode?.closest?.("pre")&&!t?.closest?.(".cant-touch-this")));for(const t of n.reverse())for(const i of e)this.initPattern(i,t,s);document.body.classList.add("patterns-loaded")},register(t,e){if(!(e=e||t.name))return l.error("Pattern lacks a name.",t),!1;if(m.patterns[e])return l.debug(`Already have a pattern called ${e}.`),!1;if(m.patterns[e]=t,t.jquery_plugin){const s=("pat-"+e).replace(/-([a-zA-Z])/g,(function(t,e){return e.toUpperCase()}));n().fn[s]=r.A.jqueryPlugin(t),n().fn[s.replace(/^pat/,"pattern")]=n().fn[s]}return l.debug(`Registered pattern ${e}`,t),window.__patternslib_registry_initialized&&(m.scan(document.body,[e]),l.debug(`Re-scanned dom with newly registered pattern ${e}.`)),!0}};e.A=m},2380:function(t,e,s){"use strict";const i=s(4828).A.getLogger("Patternslib Store");function n(t,e){this.prefix=e,this.backend=t}function a(t,e){this.store=t,this.name=e}n.prototype._key=function(t){return this.prefix+":"+t},n.prototype._allKeys=function(){var t,e,s=[],i=this.prefix+":",n=i.length;for(e=0;e<this.backend.length;e++)(t=this.backend.key(e)).slice(0,n)===i&&s.push(t);return s},n.prototype.get=function(t){var e=this._key(t),s=this.backend.getItem(e);if(null!==s)try{s=JSON.parse(s)}catch{return void i.warn(`Cannot parse storage value for key ${e}`)}return s},n.prototype.set=function(t,e){var s=this._key(t);return this.backend.setItem(s,JSON.stringify(e))},n.prototype.remove=function(t){var e=this._key(t);return this.backend.removeItem(e)},n.prototype.clear=function(){for(var t=this._allKeys(),e=0;e<t.length;e++)this.backend.removeItem(t[e])},n.prototype.all=function(){for(var t=this._allKeys(),e=this.prefix.length+1,s={},i=0;i<t.length;i++)s[t[i].slice(e)]=JSON.parse(this.backend.getItem(t[i]));return s},a.prototype.get=function(){return this.store.get(this.name)},a.prototype.set=function(t){return this.store.set(this.name,t)},a.prototype.remove=function(){return this.store.remove(this.name)};var o={supported:!1,local:function(t){return new n(window.localStorage,t)},session:function(t){return new n(window.sessionStorage,t)},ValueStorage:a,updateOptions:function(t,e){return"none"!==e.store&&(t.id?o.supported||(i.warn("state persistance requested, but browser does not support webstorage"),e.store="none"):(i.warn("state persistance requested, but element has no id"),e.store="none")),e}};try{o.supported=void 0!==window.sessionStorage}catch(t){}e.A=o},49264:function(t,e,s){"use strict";var i=s(35686),n=s.n(i),a=s(80717);n().fn.safeClone=function(){return this.clone()},Array.prototype.forEach||(Array.prototype.forEach=function(t,e){var s,i;if(null===this)throw new TypeError(" this is null or not defined");var n=Object(this),a=n.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(arguments.length>1&&(s=e),i=0;i<a;){var o;i in n&&(o=n[i],t.call(s,o,i,n)),i++}});var o=function(t,e,s){return this.each((function(){var i,a=n()(this);if(i=t.init(a,s),e){if(void 0===i[e])return n().error("Method "+e+" does not exist on jQuery."+t.name),!1;if("_"===e.charAt(0))return n().error("Method "+e+" is private on jQuery."+t.name),!1;i[e].apply(i,[s])}})),this},r=function(t,e,s){var i=this;if(e){if(t[e])return t[e].apply(i,[i].concat([s]));n().error("Method "+e+" does not exist on jQuery."+t.name)}else t.init.apply(i,[i].concat([s]));return i};function l(t){var e=typeof t;return"function"===e||"object"===e&&!!t}function c(t){let e=t.replace(/[\-\[\]{}()+?.,\\\^$|#\s]/g,"\\$&");return e=e.replace(/[*]/g,".*"),e=new RegExp(`^${e}$`),e}function d(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t instanceof n()&&(t=t[0]);const i=t.getBoundingClientRect();return![i.top,i.bottom,i.left,i.right].every((t=>0===t))&&(e?i.top<=0+s&&i.bottom>=0+s:i.top>=0&&i.left>=0&&i.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&i.right<=(window.innerWidth||document.documentElement.clientWidth))}var u={jqueryPlugin:function(t){return function(e,s){return 0===this.length?this:("object"==typeof e&&(s=e,e=void 0),"function"==typeof t?o.call(this,t,e,s):r.call(this,t,e,s))}},escapeRegExp:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isObject:l,extend:function(t){if(!l(t))return t;for(var e,s,i=1,n=arguments.length;i<n;i++)for(s in e=arguments[i])hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t},findLabel:function(t){for(var e,s=t.parentNode;s&&11!==s.nodeType;s=s.parentNode)if("LABEL"===s.tagName)return s;return t.id&&(e=n()('label[for="'+t.id+'"]')),e&&0===e.length&&t.form&&(e=n()('label[for="'+t.name+'"]',t.form)),e&&e.length?e[0]:null},regexp_from_wildcard:c,removeWildcardClass:function(t,e){if(t=u.ensureArray(t),-1===e.indexOf("*"))for(const s of t)s.classList.remove(e);else{const s=c(e);for(const e of t){const t=(e.getAttribute("class")||"").split(/\s+/);if(!t.length)continue;const i=t.filter((t=>!s.test(t)));i.length?e.setAttribute("class",i.join(" ")):e.removeAttribute("class")}}},hideOrShow:(t,e,s,i)=>{t=a.A.toNodeArray(t);const o={none:{hide:"hide",show:"show"},fade:{hide:"fadeOut",show:"fadeIn"},slide:{hide:"slideUp",show:"slideDown"}},r="css"===s.transition||"none"===s.transition?null:s.effect.duration,l=t=>{t.classList.remove("in-progress"),t.classList.add(e?"visible":"hidden"),n()(t).trigger("pat-update",{pattern:i,action:"attribute-changed",dom:t,transition:"complete"})};for(const c of t)if(c.classList.remove("visible"),c.classList.remove("hidden"),c.classList.remove("in-progress"),r){const t=o[s.transition];c.classList.add("in-progress"),n()(c).trigger("pat-update",{pattern:i,action:"attribute-changed",dom:c,transition:"start"}),n()(c)[e?t.show:t.hide]({duration:r,easing:s.effect.easing,complete:()=>l(c)})}else"css"!==s.transition&&a.A[e?"show":"hide"](c),l(c)},addURLQueryParameter:function(t,e,s){var i=new RegExp("(\\?|\\&)"+e+"=.*?(?=(&|$))"),n=t.toString().split("#"),a=n[0],o=n[1],r=a;return r=i.test(a)?a.replace(i,"$1"+e+"="+s):/\?.+$/.test(a)?a+"&"+e+"="+s:a+"?"+e+"="+s,o&&(r+="#"+o),r},removeDuplicateObjects:function(t){const e=function(t,e){return this[t]===e};return t.reduce((function(t,s){let i=!1;for(const n of t)i=Object.keys(n).length===Object.keys(s).length&&0===Object.entries(n).filter((t=>!e.bind(s)(t[0],t[1]))).length;return i||t.push(s),t}),[])},mergeStack:function(t,e){const s=[];for(let t=0;t<e;t++)s.push({});for(const i of t){const t=i.length-1;for(let a=0;a<e;a++)s[a]=n().extend(s[a]||{},i[a>t?t:a])}return s},isElementInViewport:d,hasValue:function(t){return"INPUT"===t.tagName?"checkbox"===t.type||"radio"===t.type?t.checked:""!==t.value:"SELECT"===t.tagName?-1!==t.selectedIndex:"TEXTAREA"===t.tagName&&""!==t.value},parseTime:function(t){var e=/^(\d+(?:\.\d+)?)\s*(\w*)/.exec(t);if(!e)throw new Error("Invalid time");var s=parseFloat(e[1]);switch(e[2]){case"s":return Math.round(1e3*s);case"m":return Math.round(1e3*s*60);default:return Math.round(s)}},parseLength:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const s=/^(\d+(?:\.\d+)?)\s*(\%?\w*)/.exec(t);if(!s)throw new Error("Invalid length");const i=parseFloat(s[1]);switch(s[2]){case"px":default:return Math.round(i);case"%":return e?e/100*Math.round(i):0;case"vw":return Math.round(i*window.innerWidth/100);case"vh":return Math.round(i*window.innerHeight/100);case"vmin":return Math.round(i*Math.min(window.innerWidth,window.innerHeight)/100);case"vmax":return Math.round(i*Math.max(window.innerWidth,window.innerHeight)/100)}},findRelatives:function(t){var e=n()(t),s=n()(t),i=n()();if(s=(s=s.add(e.closest("label"))).add(e.closest("fieldset")),t.id&&(i=n()("label[for='"+t.id+"']")),!i.length){var a=e.closest("form");a.length||(a=n()(document.body)),i=a.find("label[for='"+t.name+"']")}return s=s.add(i)},get_bounds:function(t){const e=t.getBoundingClientRect();return{x:parseInt(Math.round(e.x),10)||0,y:parseInt(Math.round(e.y),10)||0,top:parseInt(Math.round(e.top),10)||0,bottom:parseInt(Math.round(e.bottom),10)||0,left:parseInt(Math.round(e.left),10)||0,right:parseInt(Math.round(e.right),10)||0,width:parseInt(Math.round(e.width),10)||0,height:parseInt(Math.round(e.height),10)||0}},checkInputSupport:function(t,e){let s=!1;const i=document.createElement("input");return i.setAttribute("type",t),s=i.type==t,void 0!==e&&(i.setAttribute("value",e),s=i.value!==e),s},checkCSSFeature:function(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"div";s=document.createElement(s);let i=void 0!==s.style[t];return i&&void 0!==e&&(s.style[t]=e,i=s.style[t]===e),i},animation_frame:()=>new Promise(window.requestAnimationFrame),timeout:t=>new Promise((e=>setTimeout(e,t))),debounce:function(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{timer:null},i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return s.last_run=0,function(){const n=arguments;!i&&s.timer&&Date.now()-s.last_run<=e||(clearTimeout(s.timer),s.last_run=Date.now(),s.timer=setTimeout((()=>{t.apply(this,n)}),e))}},isIE:()=>!!document.documentMode,jqToNode:t=>(t.jquery&&(t=t[0]),t),ensureArray:(t,e)=>!!(NodeList.prototype.isPrototypeOf(t)||Array.isArray(t)||t.jquery)?e?[...t]:t:[t],localized_isodate:t=>{const e=t.getDate().toString().padStart(2,"0"),s=(t.getMonth()+1).toString().padStart(2,"0");return`${t.getFullYear().toString()}-${s}-${e}`},escape_html:t=>{if(!t)return"";const e=document.createElement("div");return e.appendChild(document.createTextNode(t)),e.innerHTML.replace(/"/g,"&quot;")},unescape_html:t=>{if(!t)return"";return(new DOMParser).parseFromString(t,"text/html").documentElement.textContent.replace(/&quot;/g,'"')},is_iso_date_time:function(t){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1]?/^\d{4}-[01]\d-[0-3]\d(T[0-2]\d:[0-5]\d)?$/:/^\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d$/).test(t)},is_iso_date:t=>/^\d{4}-[01]\d-[0-3]\d$/.test(t),date_diff:(t,e)=>{const s=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()),i=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate());return Math.floor((s-i)/864e5)},threshold_list:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=[];for(let s=1;s<=t;s++)e.push(s/t);return e.push(0),e.sort()},is_option_truthy:t=>![void 0,null,"none",!1,"false",""].includes(t),elementInViewport:t=>(console.warn("Deprecated. Use utils.isElementInViewport"),d(t))};e.A=u},34114:function(t,e){"use strict";e.A=()=>{let t;if(window.crypto.randomUUID)t=window.crypto.randomUUID();else{const e=new Uint32Array(4);t=window.crypto.getRandomValues(e).join("")}return t}},49328:function(t,e,s){"use strict";var i=s(70245),n=s(2232),a=s(49264);i.A.extend({name:"close-panel",trigger:".close-panel",init(){const t=this.el.closest("dialog");t&&n.A.add_event_listener(t,"close-panel","close-panel--dialog",(()=>{t.close()})),this.el.addEventListener("click",(async t=>{await a.A.timeout(0),t.target.matches(":not([formnovalidate])")&&t.target.matches("[type=submit], button:not([type=button])")&&!1===this.el.closest("form")?.checkValidity()||this.el.dispatchEvent(new Event("close-panel",{bubbles:!0,cancelable:!0}))}))}})},11604:function(t,e,s){"use strict";s.r(e),s.d(e,{parser:function(){return p},storage:function(){return g}});var i=s(35686),n=s.n(i),a=s(70245),o=s(4828),r=s(74314),l=s(80717),c=s(2232),d=s(2380),u=s(49264);const h=o.A.getLogger("date-picker"),p=new r.A("date-picker");p.addArgument("behavior","styled",["native","styled"]),p.addArgument("week-numbers",[],["show","hide"]),p.addArgument("i18n"),p.addArgument("first-day",0),p.addArgument("after"),p.addArgument("offset-days",0),p.add_argument("output-format",null),p.add_argument("locale",null),p.addAlias("behaviour","behavior");const g=d.A.session("pat-date-picker");e.default=a.A.extend({name:"date-picker",trigger:".pat-date-picker",parser:p,format:"YYYY-MM-DD",async init(){const t=this.el,e=this.el.disabled;if(this.options=n().extend(p.parse(t),this.options),!e&&this.options.after){const t=document.querySelectorAll(this.options.after);for(const e of t)e.addEventListener("change",(t=>{let e=t.target.value;if(e=e?new Date(e):null,!e)return;let s=this.el.value;if(s=s?new Date(s):null,!s||s<e){const t=this.options.offsetDays||0;e.setDate(e.getDate()+t),this.el.value=e.toISOString().substring(0,10),this.dispatch_change_event()}}))}let i;if("styled"===this.options.behavior){l.A.hide(t),i=document.createElement("time"),i.setAttribute("class","output-field"),i.setAttribute("datetime",t.value),e&&i.classList.add("disabled"),t.insertAdjacentElement("beforebegin",i);const a=i.closest("label");let o;if(a&&c.A.add_event_listener(a,"click","pat-date-picker--label",(t=>{t.preventDefault()})),this.options.outputFormat){const t=(await Promise.resolve().then(s.bind(s,79742))).default,e={format:this.format};this.options.outputFormat&&(e["output-format"]=this.options.outputFormat),this.options.locale&&(e.locale=this.options.locale),o=new t(i,e)}else this.el.value&&(i.textContent=t.value);const r=()=>{this.add_clear_button(i),!this.el.value&&this.el.placeholder&&(i.innerHTML=`<span class="placeholder">${this.el.placeholder}</span>`)};if(o?n()(i).on("init.display-time.patterns",(()=>{r()})):r(),this.el.addEventListener("change",(()=>{i.setAttribute("datetime",this.el.value),o&&this.el.value?o.format():i.textContent=this.el.value,r()})),e)return}else{if(e)return;if(u.A.checkInputSupport("date","invalid date"))return;"date"===t.getAttribute("type")&&t.setAttribute("type","text")}window.__patternslib_import_styles&&s.e(45391).then(s.bind(s,45391));const a=(await s.e(95463).then(s.t.bind(s,95463,23))).default,o={field:t,trigger:i||t,format:this.format,firstDay:this.options.firstDay,showWeekNumber:"show"===this.options.weekNumbers,onSelect:()=>this.dispatch_change_event(),onClose:()=>{"styled"!==this.options.behavior||this.el.value||t.dispatchEvent(c.A.blur_event())}};if(t.getAttribute("min")&&(o.minDate=new Date(t.getAttribute("min"))),t.getAttribute("max")&&(o.maxDate=new Date(t.getAttribute("max"))),this.options.i18n){let t=g.get(this.options.i18n);if(!t)try{const e=await fetch(this.options.i18n);t=await e.json(),g.set(this.options.i18n,t)}catch{h.error(`date-picker could not load i18n for ${this.options.i18n}`)}t&&(o.i18n=t)}this.pikaday=new a(o)},add_clear_button(t){if(!this.el.disabled&&!this.el.required&&this.el.value){const e=document.createElement("span");e.setAttribute("class","cancel-button"),e.addEventListener("click",(t=>{t.stopPropagation(),this.el.value=null,this.dispatch_change_event()})),t.appendChild(e)}},dispatch_change_event(){const t=new Event("change",{bubbles:!0,cancelable:!0});t.firedBy=this.pikaday,this.el.dispatchEvent(t),n()(this.el).trigger("input-change"),n()(this.el.form).trigger("input-change")}})},79742:function(t,e,s){"use strict";s.r(e),s.d(e,{parser:function(){return d}});var i=s(70245),n=s(74314),a=s(80717),o=s(4828),r=s(49264);let l;const c=o.A.getLogger("pat-display-time"),d=new n.A("display-time");d.add_argument("format",""),d.add_argument("locale",null),d.add_argument("strict",!1),d.add_argument("from-now",!1),d.add_argument("no-suffix",!1),d.add_argument("output-format",null),e.default=i.A.extend({name:"display-time",trigger:".pat-display-time",async init(){l=(await s.e(38761).then(s.t.bind(s,38761,23))).default,this.options=d.parse(this.el,this.options);let t=this.options.locale||a.A.acquire_attribute(this.el,"lang")||"en";t=t.substr(0,2).toLowerCase();try{await s(89595)(`./${t}.js`),l.locale(t),this.lang=t}catch{l.locale("en"),this.lang="en"}c.debug(`Moment.js language used: ${t}.`),this.format()},format(){const t=this.el.getAttribute("datetime");let e="";if(t){const s=l(t,this.options.format,this.options.strict);if(e=s,!0===this.options.fromNow)if(r.A.is_iso_date(t)){const t=new Intl.RelativeTimeFormat(this.lang,{numeric:"auto"}),i=r.A.date_diff(s.toDate(),new Date);e=s.calendar(null,{lastWeek:`[${t.format(i,"day")}]`,lastDay:`[${t.format(-1,"day")}]`,sameDay:`[${t.format(0,"day")}]`,nextDay:`[${t.format(1,"day")}]`,nextWeek:"dddd",sameElse:()=>`[${t.format(i,"day")}]`})}else e=s.fromNow(this.options.noSuffix);else this.options.outputFormat&&(e=s.format(this.options.outputFormat))}this.el.textContent=e}})},55028:function(t,e,s){"use strict";s.r(e),s.d(e,{Pattern:function(){return h},parser:function(){return u}});var i=s(13744),n=s(80717),a=s(2232),o=s(4828),r=s(74314),l=s(30566),c=s(49264);const d=o.A.getLogger("scroll"),u=new r.A("scroll");u.addArgument("trigger","click",["click","auto","manual"]),u.addArgument("direction","top",["top","left"]),u.addArgument("selector"),u.addArgument("offset",0),u.addArgument("delay");class h extends i.m{static name="scroll";static trigger=".pat-scroll";static parser=(()=>u)();parser_group_options=!1;async init(){if(this.options.delay&&(this.options.delay=c.A.parseTime(this.options.delay)),"auto"===this.options.trigger){(0,(await s.e(81849).then(s.t.bind(s,81849,23))).default)(document.body,this.scrollTo.bind(this))}"auto"!==this.options.trigger&&"click"!==this.options.trigger||this.el.addEventListener("click",this.scrollTo.bind(this))}get_target(){const t=this.options.selector;return!t&&this.el.href?.includes("#")?document.querySelector(`#${this.el.href.split("#").pop()}`):!t||["self","top","bottom"].includes(t)?this.el:document.querySelector(t)}async scrollTo(){this.options.delay&&await c.A.timeout(this.options.delay);const t=this.get_target(),e=n.A.find_scroll_container(t.parentElement,"top"===this.options.direction?"y":"x",window);this.el.classList.add("pat-scroll-animated");const s=c.A.debounce((()=>{this.el.classList.remove("pat-scroll-animated"),a.A.remove_event_listener(this.el,"pat-scroll__scroll_end"),d.debug("scroll_end")}),100);a.A.add_event_listener(e===window?document:e,"scroll","pat-scroll__scroll_end",s.bind(this)),s(),"top"===this.options.selector?n.A.scroll_to_top(e,this.options.offset):"bottom"===this.options.selector?n.A.scroll_to_bottom(e,this.options.offset):n.A.scroll_to_element(t,e,this.options.offset,this.options.direction)}}l.A.register(h),e.default=h},93392:function(t,e,s){"use strict";var i=s(35686),n=s.n(i),a=s(13744),o=s(4828),r=s(74314),l=s(2232),c=s(30566),d=s(49264);s(49328);const u=o.A.getLogger("pat-tooltip"),h=new r.A("tooltip");h.addArgument("position-list",[],["tl","tm","tr","rt","rm","rb","br","bm","bl","lb","lm","lt"],!0),h.addArgument("position-policy","auto",["auto","force"]),h.addArgument("trigger","click",["click","hover","none"]),h.addArgument("source","title",["ajax","content","title"]),h.addArgument("ajax-data-type","html",["html","markdown"]),h.addArgument("closing","auto",["auto","sticky","close-button"]),h.addArgument("delay"),h.addArgument("mark-inactive",!0),h.addArgument("class"),h.addArgument("target","body"),h.addArgument("arrow-padding",null),h.addArgument("url",null);class p extends a.m{static name="tooltip";static trigger=".pat-tooltip, .pat-tooltip-ng";static parser=(()=>h)();tippy=null;active_class="tooltip-active-hover";inactive_class="tooltip-inactive";async init(){const t=this.el;window.__patternslib_import_styles&&s.e(41615).then(s.bind(s,41615));const e=(await s.e(56805).then(s.t.bind(s,56805,23))).default;this.tippy_options=this.parseOptionsForTippy(this.options);const i={animation:!1,arrow:!0,hideOnClick:"close-button"!==this.options.closing,ignoreAttributes:!0,interactive:!0,onHide:this._onHide.bind(this),onShow:this._onShow.bind(this),trigger:"click"};e.setDefaultProps(i),this.tippy=new e(t,this.tippy_options),"title"===this.options.source&&t.removeAttribute("title"),"click"===this.options.trigger&&"ajax"===this.options.source&&l.A.add_event_listener(t,"click","pat-tooltip--click-prevent-default",(t=>{t.preventDefault(),t.stopPropagation()})),"click"===this.options.trigger&&(this.active_class="tooltip-active-click"),this.options.markInactive&&t.classList.add(this.inactive_class)}show(){this.tippy.show()}async hide(){await d.A.timeout(1),this.tippy.hide()}destroy(){super.destroy(),this.tippy.destroy()}parseOptionsForTippy(t){const e=t=>{return`${s=t[0],{t:"bottom",r:"left",b:"top",l:"right"}[s]}${e=t[1],{l:"-start",r:"-end",m:"",t:"-start",b:"-end"}[e]}`;var e,s},s={popperOptions:{modifiers:[]}};null!==t.arrowPadding&&s.popperOptions.modifiers.push({name:"arrow",options:{padding:parseInt(t.arrowPadding,10)}});const i={position:()=>{if(!t.position?.list?.length)return;s.placement=e(t.position.list[0]);const i={name:"flip",enabled:!0};if("force"===t.position.policy)i.enabled=!1;else if(t.position.length>1){const s=t.position.list.slice(1).map(e);i.fallbackPlacements=s}s.popperOptions.modifiers.push(i)},trigger(){"hover"===t.trigger?s.trigger="mouseenter focus":"none"===t.trigger&&(s.trigger="manual",s.hideOnClick=!1)},source:()=>{let e;"title"===t.source?e=this.el.getAttribute("title"):"content"===t.source?(e=this.el.innerHTML,s.allowHTML=!0):"ajax"===t.source&&(e=document.createElement("progress"),s.allowHTML=!0),s.content=e},delay(){t.delay&&(s.delay=[d.A.parseTime(t.delay),0])},target:()=>{t.target&&("parent"===t.target?s.appendTo="parent":"body"===t.target?s.appendTo=document.body:s.appendTo=document.querySelector(t.target))}};for(let e in t){switch(e){case"ajax-data-type":e="ajaxDataType";break;case"mark-inactive":e="markInactive"}i[e]&&i[e](e)}return s}_initialize_content(){c.A.scan(this.tippy.popper)}async _onShow(){const t=[];if(this.options.class&&t.push(...this.options.class.split(" ")),t.push("tooltip-container"),"close-button"===this.options.closing){for(const t of this.tippy.popper.querySelectorAll(".pat-tooltip--close-button"))t.remove();const t=document.createElement("button");t.setAttribute("class","close-panel pat-tooltip--close-button");const e=this.tippy.popper.querySelector(".tippy-content");e.parentNode.insertBefore(t,e)}l.A.add_event_listener(this.tippy.popper,"close-panel","pat-tooltip--close-panel",(()=>this.hide())),this.tippy.popper.classList.add(...t),this.options.markInactive&&(this.el.classList.remove(this.inactive_class),this.el.classList.add(this.active_class)),"auto"!==this.options.closing&&"hover"===this.options.trigger&&this.tippy.setProps({trigger:"click"}),"ajax"===this.options.source&&await this._get_content(),n()(this.tippy.popper).trigger("patterns-injected",[{skipPatInjectHandler:!0},this.el,this.tippy.popper]),this._initialize_content()}_onHide(){this.options.markInactive&&(this.el.classList.remove(this.active_class),this.el.classList.add(this.inactive_class)),"auto"!==this.options.closing&&"hover"===this.options.trigger&&this.tippy.setProps({trigger:"mouseenter focus"}),"ajax"===this.options.source&&this.tippy.setContent(document.createElement("progress"))}async _get_content(){let t,e,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.url;if(({url:s,selector:t}=this.get_url_parts(s||this.el.getAttribute("href"))),s){const i=this.data_type_handlers[this.options.ajaxDataType];try{const n=await fetch(s,{headers:{Accept:"text/html,application/xhtml+xml,application/xml"}}),a=await n.text();e=await i(a,s,t)}catch(t){u.error("Error on ajax request. ${e}")}}else t&&(e=document.querySelector(t),e=e?.innerHTML||void 0);e&&(this.tippy.setContent(e),await d.A.timeout(1),this.tippy.popperInstance.forceUpdate())}async get_content(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.url;await this._get_content(t),this._initialize_content()}get_url_parts(t){let e,s,i;return t?([e,s]=t.split("#"),s&&(s=`#${s}`,[s,i]=s.split("?")),i&&(e=`${e}?${i}`),{url:e,selector:s}):{url:e,selector:s}}static data_type_handlers={html(t,e,s){let i=document.createElement("div");return i.innerHTML=t,s&&(i=i.querySelector(s)),i?.innerHTML||""},async markdown(t,e,s){const i=c.A.patterns.markdown;if(!i)return t;const a=new i(n()("<div/>"));await l.A.await_pattern_init(a);const o={url:e};s&&(o.source=s);return(await a.renderForInjection(o,t))[0]}};static register_type_handler(t,e){p.data_type_handlers[t]=e}constructor(){super(...arguments),this.register_type_handler=this.constructor.register_type_handler,this.data_type_handlers=this.constructor.data_type_handlers}}c.A.register(p),e.Ay=p},52128:function(t,e,s){"use strict";var i=s(30566),n=s(4828);const a=n.A.getLogger("core push kit"),o={async init(){const t=document.querySelector("meta[name=patterns-push-url]")?.content,e=document.querySelector("meta[name=patterns-push-exchange]")?.content;if(!t||!e)return;const i=document.querySelector("meta[name=patterns-push-filter]")?.content,n=document.querySelector("meta[name=patterns-push-login]")?.content,o=document.querySelector("meta[name=patterns-push-password]")?.content,r=new((await s.e(63748).then(s.t.bind(s,63748,23))).Client)({brokerURL:t,connectHeaders:{login:n,passcode:o},debug:function(t){a.debug(t)},reconnectDelay:5e3,heartbeatIncoming:0,heartbeatOutgoing:2e4});r.onConnect=()=>{e&&r.subscribe(`/exchange/${e}/${i}.#`,this.on_push_marker.bind(this))},r.onStompError=t=>{a.error("Broker reported error: "+t.headers.message),a.debug("Additional details: "+t.body)},r.activate(),a.debug("StompJS push support initialised on "+t)},on_push_marker(t){a.debug("Received push marker: ",t),t&&t.body&&document.body.dispatchEvent(new CustomEvent("push",{detail:{body:t.body}}))}};o.init();s(14225);var r=s(35686),l=s.n(r),c=s(74314);const d=n.A.getLogger("pat.ajax"),u=new c.A("ajax");u.addArgument("accept","text/html"),u.addArgument("url",(function(t){const e=t[0];return(("A"===e.tagName?e.getAttribute("href"):"FORM"===e.tagName?e.getAttribute("action"):"")||"").split("#")[0]})),u.addArgument("browser-cache","no-cache",["cache","no-cache"]);const h={get:function(t){return void 0!==this[t]?this[t]:0},inc:function(t){return this[t]=this.get(t)+1,this.get(t)}},p={name:"ajax",trigger:".pat-ajax",parser:u,init(t){return t.off(".pat-ajax"),t.filter("a").on("click.pat-ajax",p.onTriggerEvents),t.filter("form").on("submit.pat-ajax",p.onTriggerEvents).on("click.pat-ajax","[type=submit]",p.onClickSubmit),t.filter(":not(form,a)").each((function(){d.warn("Unsupported element:",this)})),t},destroy(t){t.off(".pat-ajax")},onClickSubmit(t){const e=t.submitter||t.target,s=e.form,i={};e.name&&(i[e.name]=e.value),l()(s).data("pat-ajax.clicked-data",i)},onTriggerEvents(t){t&&t.preventDefault(),p.request(l()(this))},request(t,e){return t.each((function(){p._request(l()(this),e)}))},_request(t,e){const s=p.parser.parse(t,e),i=h.inc(s.url),n=t.data("pat-ajax.clicked-data"),a=n?l().param(n):"",o={context:t,data:[t.serialize(),a].filter(Boolean).join("&"),headers:{},url:s.url,method:t.attr("method")?t.attr("method"):"GET",cache:"cache"===s.browserCache};if(s.accept&&(o.headers.Accept=s.accept),t.is("form")&&t.attr("method")&&"POST"==t.attr("method").toUpperCase()){const e=new FormData(t[0]);for(const t in n)e.append(t,n[t]);o.method="POST",o.data=e,o.cache=!1,o.contentType=!1,o.processData=!1,o.type="POST"}t.removeData("pat-ajax.clicked-data"),d.debug("request:",o,t[0]);const r=l().ajax(o);r&&r.done((function(e,n,a){d.debug("success: jqxhr:",a),i===h.get(s.url)&&t.trigger({type:"pat-ajax-success",jqxhr:a})})).fail((function(e,i,n){d.error("load error for "+s.url+":",n,e),t.trigger({type:"pat-ajax-error",jqxhr:e})}))}};i.A.register(p);var g=p,m=s(70245),f=s(49264);const b=new c.A("auto-scale");b.addArgument("method","scale",["scale","zoom"]),b.addArgument("size","width",["width","height","contain","cover"]),b.addArgument("min-width",0),b.addArgument("max-width",1e6),b.addArgument("min-height",0),b.addArgument("max-height",1e6);m.A.extend({name:"autoscale",trigger:".pat-auto-scale",force_method:null,init:function(t,e){return this.options=b.parse(this.$el,e),null!==this.force_method&&(this.options.method=this.force_method),this._setup().scale(),this.$el},_setup:function(){f.A.checkCSSFeature("zoom")||(this.force_method="scale");var t=f.A.debounce(this.scale.bind(this),250);return l()(window).on("resize.autoscale",t),l()(document).on("pat-update.autoscale",t),this},scale:function(){var t,e,s,i,n;if(n="BODY"===this.$el[0].tagName?this.$el[0]:0!=this.$el.closest(".auto-scale-wrapper").length?this.$el.closest(".auto-scale-wrapper").parent()[0]:this.$el.parent()[0]){var a=window.getComputedStyle(n);switch((t={width:parseInt(a.width,10),height:parseInt(a.height,10)}).width=Math.min(t.width,this.options.max.width),t.width=Math.max(t.width,this.options.min.width),t.height=Math.min(t.height,this.options.max.height),t.height=Math.max(t.height,this.options.min.height),this.options.size){case"width":e=t.width/this.$el.outerWidth();break;case"height":e=t.height/this.$el.outerHeight();break;case"contain":e=Math.min(t.width/this.$el.outerWidth(),t.height/this.$el.outerHeight());break;case"cover":e=Math.max(t.width/this.$el.outerWidth(),t.height/this.$el.outerHeight());break;default:return}switch(s=this.$el.outerHeight()*e,i=this.$el.outerWidth()*e,this.options.method){case"scale":this.$el.css("transform","scale("+e+")"),(void 0===this.$el.parent().attr("class")||null!=this.$el.parent().attr("class")&&-1===l().inArray("auto-scale-wrapper",this.$el.parent().attr("class").split(/\s+/)))&&this.$el.wrap("<div class='auto-scale-wrapper'></div>"),this.$el.parent().height(s).width(i);break;case"zoom":this.$el.css("zoom",e)}return this.$el.addClass("scaled"),this}}});var _={init:function(t){var e={time:3,initialTime:8,exceptionAreas:[]};return this.each((function(){var s=l()(this);s.data("timeout")||(t&&l().extend(e,t),s.data("timeout",{lastEvent:new Date,trueTime:e.time,time:e.initialTime,untouched:!0,inExceptionArea:!1}),s.on("mouseover.timeout",_.mouseMoved),s.on("mouseenter.timeout",_.mouseMoved),l()(e.exceptionAreas).each((function(){s.find(this).live("mouseover.timeout",{parent:s},_.enteredException).live("mouseleave.timeout",{parent:s},_.leftException)})),e.initialTime>0?s.timeout("startTimer"):s.addClass("timeout"))}))},enteredException:function(t){var e=t.data.parent.data("timeout");e.inExceptionArea=!0,t.data.parent.data("timeout",e),t.data.parent.trigger("mouseover")},leftException:function(t){var e=t.data.parent.data("timeout");e.inExceptionArea=!1,t.data.parent.data("timeout",e)},destroy:function(){return this.each((function(){var t=l()(this),e=t.data("timeout");l()(window).off(".timeout"),e.timeout.remove(),t.removeData("timeout")}))},mouseMoved:function(){var t=l()(this),e=t.data("timeout");t.hasClass("timeout")?(t.removeClass("timeout"),t.timeout("startTimer")):e.untouched&&(e.untouched=!1,e.time=e.trueTime),e.lastEvent=new Date,t.data("timeout",e)},startTimer:function(){var t=l()(this),e=t.data("timeout"),s=function(){var e=t.data("timeout");if(e&&e.lastEvent)if(e.inExceptionArea)setTimeout(s,Math.floor(1e3*e.time));else{var i=new Date,n=Math.floor(1e3*e.time)-(i-e.lastEvent);n>0?setTimeout(s,n+100):t.addClass("timeout")}};setTimeout(s,Math.floor(1e3*e.time))}};l().fn.timeout=function(t){return _[t]?_[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void l().error("Method "+t+" does not exist on jQuery.timeout"):_.init.apply(this,arguments)},l().extend(l().expr[":"],{scrollable:function(t){return"scroll"===l()(t).css("overflow")||"scroll"===l()(t).css("overflowX")||"scroll"===l()(t).css("overflowY")||(t.clientHeight<t.scrollHeight&&(-1!==l().inArray(l()(t).css("overflowY"),["scroll","auto"])||-1!==l().inArray(l()(t).css("overflow"),["scroll","auto"]))||t.clientWidth<t.scrollWidth&&(-1!==l().inArray(l()(t).css("overflowX"),["scroll","auto"])||-1!==l().inArray(l()(t).css("overflow"),["scroll","auto"])))}}),l().fn.makeVisibleInScroll=function(t){var e=null;return"string"==typeof t?e=l()("#"+t):t&&(e=l()(t)),this.each((function(){var t,s=l()(this);t=e||((t=s.parents(":scrollable")).length>0?l()(t[0]):l()(window));var i=s.position().top,n=s.height()+i,a=t.scrollTop(),o=t.height()+a;i<a?t.scrollTop(i):n>o-t.height()/2&&t.scrollTop(i-(t.height()-s.height())/2)}))},l().fn.safeOffset=function(){var t,e=this[0],s={top:0,left:0};return e&&e.nodeType?(t=(e.ownerDocument||document).documentElement,l().contains(t,e)?l().fn.offset.apply(this,arguments):s):s},l().fn.setPositionAbsolute=function(t,e,s){return this.each((function(){var i=l()(this),n=l()(this).width(),a=t.safeOffset(),o=t.width(),r=t.height(),c=a.left+o-n+s,d=a.top+r+e;i.css({"z-index":1,position:"absolute",marginLeft:0,marginTop:0,left:c+"px",top:d+"px",width:n}),i.remove().appendTo("body").show()}))},l().fn.positionAncestor=function(t){var e=0,s=0;return this.each((function(){var i=l()(this).closest(t);if(i.length&&"static"!==i.css("position")){var n=l()(this),a=n.safeOffset().left-parseInt(n.css("marginLeft"),10),o=n.safeOffset().top-parseInt(n.css("marginTop"),10),r=i.safeOffset().left+parseInt(i.css("borderLeftWidth"),10),c=i.safeOffset().top+parseInt(i.css("borderTopWidth"),10);return e=a-r,s=o-c,!1}})),{left:e,top:s}},l().fn.findInclusive=function(t){return this.find("*").addBack().filter(t)},l().fn.slideIn=function(t,e,s){return this.animate({width:"show"},t,e,s)},l().fn.slideOut=function(t,e,s){return this.animate({width:"hide"},t,e,s)},l().expr[":"].Contains=function(t,e,s){return l()(t).text().toUpperCase().indexOf(s[3].toUpperCase())>=0},l().fn.scopedFind=function(t){return 0===t.indexOf("#")?l()(t):this.find(t)};var v=s(80717),y=s(2232);const w="input-change-events",A=n.A.getLogger(w),j={setup:function(t,e){if(!e)return void A.error("The name of the calling pattern has to be set.");const s=t.data(w)||[];A.debug("setup handlers for "+e),s.length||(A.debug("installing handlers"),j.setupInputHandlers(t),t.on("patterns-injected."+w,(function(t){j.setupInputHandlers(l()(t.target))}))),-1===s.indexOf(e)&&(s.push(e),t.data(w,s))},setupInputHandlers:function(t){t.is(":input")?j.registerHandlersForElement.bind(t)():t.findInclusive(":input").each(j.registerHandlersForElement)},registerHandlersForElement:function(){const t=l()(this),e=t.is("input[type=number]"),s=t.is("input:text, input[type=search], textarea");e&&"onkeyup"in window&&t.on("keyup."+w,(function(){A.debug("translating keyup"),t.trigger("input-change")})),s||e?t.on("input."+w,(function(){A.debug("translating input"),t.trigger("input-change")})):t.on("change."+w,(function(){A.debug("translating change"),t.trigger("input-change")})),t.on("blur",(function(){t.trigger("input-defocus")}))},remove:function(t,e){let s=t.data(w)||[];-1===s.indexOf(e)?A.warn("input-change-events were never installed for "+e):(s=s.filter((function(t){return t!==e})),s.length?t.data(w,s):(A.debug("remove handlers"),t.removeData(w),t.find(":input").off("."+w),t.off("."+w)))}};var k=j;const x=n.A.getLogger("autosubmit"),$=new c.A("autosubmit");$.addArgument("delay","400ms");m.A.extend({name:"autosubmit",trigger:".pat-autosubmit, .pat-auto-submit",init(){this.options=$.parse(this.el,this.options),"defocus"!==this.options.delay&&(this.options.delay=parseInt(this.options.delay.replace(/[^\d]*/g,""),10)),k.setup(this.$el,"autosubmit"),this.registerListeners(),this.registerTriggers()},registerListeners(){y.A.add_event_listener(this.el,"input-change-delayed","pat-autosubmit--input-change-delayed",this.onInputChange.bind(this)),this.registerSubformListeners(),this.$el.on("patterns-injected",this.refreshListeners.bind(this)),this.$el.on("pat-update",((t,e)=>{"clone"===e?.pattern&&"removed"===e?.action||"sortable"===e?.pattern?(v.A.find_form(this.el).dispatchEvent(y.A.submit_event()),x.debug(`triggered by pat-update, pattern: ${e.pattern}, action: ${e.action}`)):"clone"===e?.pattern&&this.refreshListeners(t,null,null,e.dom)}))},registerSubformListeners(t){const e=(void 0!==t?t.target:this.el).querySelectorAll(".pat-subform:not(.pat-autosubmit):not(.pat-auto-submit)");for(const t of e)y.A.add_event_listener(t,"input-change-delayed","pat-autosubmit--input-change-delayed",this.onInputChange.bind(this))},refreshListeners(t,e,s,i){this.registerSubformListeners(),k.setup(l()(i),"autosubmit")},registerTriggers(){const t=this.$el.is("input:text, input[type=search], textarea");if("defocus"===this.options.delay&&!t)return x.error("The defocus delay value makes only sense on text input elements."),this.$el;function e(t){t.target.closest(".pat-autosubmit")===this&&t.target.dispatchEvent(y.A.generic_event("input-change-delayed"))}"defocus"===this.options.delay?this.$el.on("input-defocus.pat-autosubmit",e):this.options.delay>0?this.$el.on("input-change.pat-autosubmit",f.A.debounce(e,this.options.delay)):this.$el.on("input-change.pat-autosubmit",e)},destroy(t){k.remove(t,"autosubmit"),this.$el.is("form")?this.$el.find(".pat-subform").addBack(this.$el).each(((t,e)=>{l()(e).off(".pat-autosubmit")})):t.off(".pat-autosubmit")},onInputChange(t){t.stopPropagation(),v.A.find_form(t.target).dispatchEvent(y.A.submit_event({submitter:t.target})),x.debug(`submit event triggered by event ${t.type} by submitter (1) on (2)`,t.target,this.el)}});const C=n.A.getLogger("autosuggest"),S=new c.A("autosuggest");S.addArgument("ajax-data-type","JSON"),S.addArgument("ajax-search-index",""),S.addArgument("ajax-timeout",400),S.addArgument("ajax-url",""),S.addArgument("max-initial-size",10),S.addArgument("ajax-batch-size",0),S.addArgument("allow-new-words",!0),S.addArgument("max-selection-size",0),S.addArgument("minimum-input-length"),S.addArgument("placeholder",(function(t){return t.attr("placeholder")||void 0})),S.addArgument("prefill",(function(t){return t.val()})),S.addArgument("prefill-json",""),S.addArgument("words",""),S.addArgument("words-json"),S.addArgument("value-separator",","),S.addArgument("selection-classes",""),S.addAlias("maximum-selection-size","max-selection-size"),S.addAlias("data","prefill-json"),S.addAlias("pre-fill","prefill");m.A.extend({name:"autosuggest",trigger:".pat-autosuggest,.pat-auto-suggest",async init(){window.__patternslib_import_styles&&s.e(82325).then(s.bind(s,82325)),await s.e(86798).then(s.t.bind(s,86798,23)),this.options=S.parse(this.el,this.options);let t={separator:this.options.valueSeparator,tokenSeparators:[","],openOnEnter:!1,maximumSelectionSize:this.options.max["selection-size"],minimumInputLength:this.options.minimumInputLength,allowClear:1===this.options.max["selection-size"]&&!this.el.hasAttribute("required")};this.el.hasAttribute("readonly")?t.placeholder="":this.options.placeholder&&(t.placeholder=this.options.placeholder),this.options.selectionClasses&&(t.formatSelection=(t,e)=>{let s=null;try{s=JSON.parse(this.options.selectionClasses)[t.text]}catch(t){C.error("SyntaxError: non-JSON data given to pat-autosuggest (selection-classes)")}return s&&e.parent().addClass(s.join(" ")),t.text}),"INPUT"===this.el.tagName&&(t=this.create_input_config(t));const e=this.$el.select2(t);v.A.hide(this.el);const i=this.el.closest(".pat-depends");i&&l()(i).on("pat-update",((t,e)=>{"depends"===e?.pattern&&(!0===e?.enabled?this.$el.select2("enable",!0):!1===e?.enabled&&this.$el.select2("disable",!0))}));const n=()=>{const t=e.select2("val");0===t?.length&&this.el.dispatchEvent(y.A.blur_event())};this.$el.on("select2-close",n.bind(this)),this.$el.on("select2-blur",n.bind(this)),this.$el.on("change",(()=>{this.el.dispatchEvent(y.A.input_event())})),y.A.add_event_listener(this.el.closest("form"),"reset","pat-auto-suggest--reset",(()=>this.$el.select2("val","")))},create_input_config(t){let e=[];if(t.createSearchChoice=(t,e)=>this.options.allowNewWords?0===e.filter((e=>0===e.text.localeCompare(t))).length?{id:t,text:t}:void 0:null,this.options.wordsJson?.length){try{e=JSON.parse(this.options.wordsJson)}catch(t){e=[],C.error("SyntaxError: non-JSON data given to pat-autosuggest")}Array.isArray(e)||(e=e.map(((t,e)=>({id:e,text:t}))))}if(this.options.words&&(e=this.options.words.split(/\s*,\s*/),e=e.map((t=>({id:t,text:t})))),1===this.options.max["selection-size"]?t.data=e:t.tags=e,this.options.prefill?.length&&(this.el.value=this.options.prefill.split(",").map((t=>t.trim())).join(this.options.valueSeparator),t.initSelection=(t,e)=>{let s=[];const i=t[0].value.split(this.options.valueSeparator);for(const t of i)s.push({id:t,text:t});1===this.options.max["selection-size"]&&(s=s[0]),e(s)}),this.options.prefillJson.length)try{const e=JSON.parse(this.options.prefillJson);let s=[];for(const t in e)"object"==typeof t?s.push(t.id):s.push(t);this.el.value=s.join(this.options.valueSeparator),t.initSelection=(t,s)=>{let i=[];for(const t in e)"object"==typeof t?i.push({id:t.id,text:t.text}):i.push({id:t,text:e[t]});1===this.options.max["selection-size"]&&(i=i[0]),s(i)}}catch(t){C.error("SyntaxError: non-JSON data given to pat-autosuggest")}return this.options.ajax?.url&&(t=l().extend(!0,{minimumInputLength:this.options.minimumInputLength,ajax:{url:this.options.ajax.url,dataType:this.options.ajax["data-type"],type:"GET",quietMillis:this.options.ajax.timeout,cache:!0,data:(t,e)=>{const s={q:t,page:e},i=this.options.ajax["search-index"];i&&(s.index=i);const n=this.page_limit(e);return n>0&&(s.page_limit=n),s},results:(t,e)=>{const s=this.page_limit(e);return{results:t,page:e,more:s>0&&t&&Object.keys(t).length>=s}}}},t)),t},page_limit(t){const e=this.options.max["initial-size"]||0,s=this.options.ajax["batch-size"]||0;return 1===t?e:s},destroy(t){t.off(".pat-autosuggest"),t.select2("destroy")}});var L=s(13744);let T=null;class E extends L.m{static name="autofocus";static trigger="\n        input.pat-autofocus,\n        input[autofocus],\n        select.pat-autofocus,\n        select[autofocus],\n        textarea.pat-autofocus,\n        textarea[autofocus],\n        button.pat-autofocus,\n        button[autofocus]\n    ";init(){window.self===window.top&&(l()(document).on("pat-update",((t,e)=>{const s=e?.dom;s?.contains(this.el)&&this.set_focus()})),this.set_focus())}set_focus(){v.A.is_visible(this.el)&&""===this.el.value&&(clearTimeout(T),T=setTimeout((()=>{this.el.focus(),T=null}),100))}}i.A.register(E);var M={name:"breadcrumbs",trigger:"nav.pat-breadcrumbs",init:function(t,e){if(t.length>1)return t.map((function(){return M.init(l()(this),e)}));var s=t.children().wrapAll("<div class='pat-breadcrumbs-content'></div>").parent(),i=l()("<span class='button shift'>shift</span>").prependTo(t),n=!1,a=!1,o=0,r=function(t){return function(){var e;t?(e=n?0:o,s.animate({"margin-left":e},(function(){i.toggleClass("shift-right shift-left"),n=!n}))):(e=n?o:0,s.css({"margin-left":e}))}},c=function(){(o=t.innerWidth()-s.width()-100)<0?a?r(!1)():(a=!0,t.addClass("shifting"),i.removeClass("shift-right"),i.addClass("shift-left"),i.on("click.pat-breadcrumbs",r(!0)),i.click()):a&&s.animate({"margin-left":0},(function(){n=!1,a=!1,t.removeClass("shifting"),i.removeClass("shift-left shift-right"),i.off(".pat-breadcrumbs")}))};l()(window).on("resize.pat-breadcrumbs",c);var d=function(){var t=s.children().toArray().reduce((function(t,e){return t+l()(e).outerWidth(!0)+5}),0);s.width(t),c()};return t.on("pat-breadcrumbs-changed.pat-breadcrumbs",d),d(),t},destroy:function(t){t.off(".pat-breadcrumbs")}};i.A.register(M);const q=new c.A("bumper");q.addArgument("selector"),q.addArgument("bump-add","bumped"),q.addArgument("bump-remove"),q.addArgument("unbump-add"),q.addArgument("unbump-remove","bumped");class D extends L.m{static name="bumper";static trigger=".pat-bumper";static parser=(()=>q)();ticking=!1;async init(){this.target_element=this.options.selector?document.querySelector(this.options.selector):this.el,await f.A.timeout(1);const t=this.el.parentElement;this.container_x=v.A.find_scroll_container(t,"x",null),this.container_y=v.A.find_scroll_container(t,"y",null);const e=new Set([this.container_x,this.container_y]);for(const t of e)y.A.add_event_listener(t||document,"scroll","pat_bumper__scroll",(async()=>{this.ticking||(this.ticking=!0,await f.A.animation_frame(),this.set_bumping_classes(),this.ticking=!1)}));this.set_bumping_classes()}_get_container_positions(t){if(!t)return{top:0,right:document.documentElement.clientWidth,bottom:document.documentElement.clientHeight,left:0};const e=t.getBoundingClientRect(),s=v.A.get_css_value(t,"border-top-width",!0),i=v.A.get_css_value(t,"border-left-width",!0),n=v.A.get_css_value(t,"padding-top",!0),a=v.A.get_css_value(t,"padding-right",!0),o=v.A.get_css_value(t,"padding-bottom",!0),r=v.A.get_css_value(t,"padding-left",!0),l=e.left+i+r,c=e.top+s+n,d=e.left+i+t.clientWidth-a,u=e.top+s+t.clientHeight-o;return{top:Math.round(c),right:Math.round(d),bottom:Math.round(u),left:Math.round(l)}}_get_element_positions(){const t=this.el.getBoundingClientRect(),e=v.A.get_css_value(this.el,"top",!0),s=v.A.get_css_value(this.el,"right",!0),i=v.A.get_css_value(this.el,"bottom",!0),n=v.A.get_css_value(this.el,"left",!0);return{top:Math.round(t.top-e),right:Math.round(t.right+s),bottom:Math.round(t.bottom+i),left:Math.round(t.left-n)}}get_bumping_state(){const t=this._get_element_positions(),e=this._get_container_positions(this.container_x),s=this.container_x===this.container_y?e:this._get_container_positions(this.container_y),i=t.top<=s.top&&t.bottom>=s.top,n=t.right>=e.right&&t.left<=e.right,a=t.bottom>=s.bottom&&t.top<=s.bottom,o=t.left<=e.left&&t.right>=e.left;return{bump_top:i,bump_right:n,bump_bottom:a,bump_left:o,is_bumping:i||n||a||o}}set_bumping_classes(){const t=this.get_bumping_state(),e=[],s=[];t.is_bumping?(this.options.bump.add&&e.push(this.options.bump.add),this.options.bump.remove&&s.push(this.options.bump.remove),t.bump_top?e.push("bumped-top"):s.push("bumped-top"),t.bump_right?e.push("bumped-right"):s.push("bumped-right"),t.bump_bottom?e.push("bumped-bottom"):s.push("bumped-bottom"),t.bump_left?e.push("bumped-left"):s.push("bumped-left")):(this.options.unbump.add&&e.push(this.options.unbump.add),this.options.unbump.remove&&s.push(this.options.unbump.remove),s.push("bumped-top","bumped-right","bumped-bottom","bumped-left")),this.el.classList.remove(...s),this.el.classList.add(...e)}}i.A.register(D);var O=s(34114);const I=n.A.getLogger("pat.inject"),N=new c.A("inject");N.addArgument("default-selector"),N.addArgument("target"),N.addArgument("data-type","html"),N.addArgument("next-href"),N.addArgument("source"),N.addArgument("trigger","default",["default","autoload","autoload-visible","idle"]),N.addArgument("delay"),N.addArgument("browser-cache","no-cache",["cache","no-cache"]),N.addArgument("confirm","class",["never","always","form-data","class"]),N.addArgument("confirm-message","Are you sure you want to leave this page?"),N.addArgument("loading-class","injecting"),N.addArgument("executing-class","executing"),N.addArgument("executed-class","executed"),N.addArgument("class"),N.addArgument("history","none",["none","record"]),N.addArgument("push-marker"),N.addArgument("scroll"),N.addArgument("url");const z={name:"inject",trigger:"a.pat-inject, form.pat-inject, .pat-subform.pat-inject",parser:N,async init(t,e){await f.A.timeout(1);const s=f.A.jqToNode(t),i=this.extractConfig(t,e);if(i.some((t=>"record"===t.history))&&!("pushState"in history))return I.warn("HTML5 pushState is missing, aborting"),t;if(t.data("pat-inject",i),i[0].nextHref&&0===i[0].nextHref.indexOf("#")&&"A"===s.nodeName&&l()(i[0].nextHref).length>0)return I.debug("Skipping as next href is anchor, which already exists",i[0].nextHref),s.setAttribute("href",(window.location.href.split("#")[0]||"")+i[0].nextHref),t;if(i[0].pushMarker&&l()("body").on("push",((t,e)=>{I.debug("received push message: "+e),e==i[0].pushMarker&&(I.debug("re-injecting "+e),this.onTrigger({currentTarget:s}))})),i[0].idleTrigger)this._initIdleTrigger(t,i[0].idleTrigger);else switch(i[0].trigger){case"default":for(const t of i)t.delay&&(t.processDelay=t.delay);"FORM"===s?.nodeName?(I.debug("Initializing form with injection on",s),y.A.add_event_listener(s,"submit","pat-inject--form-submit",(t=>{t.submitter?.matches("[type=submit], button:not([type=button]), [type=image]")&&g.onClickSubmit(t),this.onTrigger(t)}))):s?.matches(".pat-subform")?I.debug("Initializing subform with injection"):t.on("click.pat-inject",this.onTrigger.bind(this));break;case"autoload":if(i[0].delay){const e=(0,O.A)();s.setAttribute("data-pat-inject-uuid",e);const n=e=>{const i=document.querySelector(`[data-pat-inject-uuid="${e}"]`);return!!i&&(t.data("pat-inject-autoloaded",!0),this.onTrigger({currentTarget:s}),i.removeAttribute("data-pat-inject-uuid"),!0)};window.setTimeout(n.bind(null,e),i[0].delay)}else this.onTrigger({currentTarget:s});break;case"autoload-visible":this._initAutoloadVisible(t,i);break;case"idle":this._initIdleTrigger(t,i[0].delay)}return I.debug("initialised:",s),t},destroy(t){return t.off(".pat-inject"),t.data("pat-inject",null),t},onTrigger(t){t.preventDefault&&t.preventDefault();const e=t.currentTarget,s=l()(e);let i=s.data("pat-inject");if("FORM"===e.nodeName&&"submit"===t.type){const n=e,a=t.submitter;if(!a?.matches("[formnovalidate]")&&!n.matches("[novalidate]")&&n.matches(":invalid"))return void I.debug("Form is invalid, aborting");const o=a?.getAttribute("formaction");if(o){const t={url:o},e=a.closest("[data-pat-inject]");i=this.extractConfig(l()(e),t)}for(const t of i)t.params=l().param(s.serializeArray())}s.trigger("patterns-inject-triggered"),this.execute(i,s)},submitSubform(t){const e=l()(t[0].closest("form")),s=t.data("pat-inject");for(const e of s)e.params=l().param(t.serializeArray());try{e.trigger("patterns-inject-triggered")}catch(t){I.error("patterns-inject-triggered",t)}this.execute(s,e)},extractConfig(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=f.A.jqToNode(t);e=Object.assign({},e);const i=N.parse(t,e,!0);for(const n of i){n.$context=t,n.url=e.url||n.url||s?.getAttribute("href")||s?.getAttribute("action")||s?.closest("form")?.getAttribute("action")||"";const i=n.url.split("#");if(n.url=i[0],i.length>2&&I.warn("Ignoring additional source ids:",i.slice(2)),n.defaultSelector||(n.defaultSelector=i[1]&&"#"+i[1]||"body"),n.delay)try{n.delay=f.A.parseTime(n.delay)}catch(t){I.warn("Invalid delay value: ",n.delay),n.delay=null}n.processDelay=0}return i},elementIsDirty(t){const e=l().map(t.find(":input:not(select)"),(t=>{const e=l()(t).val();return Boolean(e)&&e!==l()(t).attr("placeholder")}));return-1!==l().inArray(!0,e)},askForConfirmation(t){let e,s=!1;for(const i of t){let t=!1;"always"==i.confirm?t=!0:"form-data"===i.confirm&&i.target&&"none"!==i.target?t=this.elementIsDirty(i.$target):"class"===i.confirm&&i.target&&"none"!==i.target&&(t=i.$target.hasClass("is-dirty")),t&&(s=!0,e=i.confirmMessage)}return!(s&&!window.confirm(e))},ensureTarget(t){if("none"===t.target)return!0;if(t.$target=t.$target||("self"===t.target?t.$context:l()(t.target)),0===t.$target.length){if(!t.target)return I.error("Need target selector",t),!1;t.$target=this.createTarget(t.target),t.$created_target=t.$target}return!0},verifySingleConfig(t,e){return e.url!==t?(I.error("Unsupported different urls for multi-inject"),!1):(e.source=e.source||e.defaultSelector,e.target=e.target||e.defaultSelector,!!this.extractModifiers(e)&&(!!this.ensureTarget(e)&&(this.listenForFormReset(e),!0)))},verifyConfig(t){return t.every((e=>this.verifySingleConfig(t[0].url,e)))},listenForFormReset(t){if("none"===t.target)return;const e=t.$target.parents("form");0!==e.length&&void 0===t.$target.data("initial-value")&&(t.$target.data("initial-value",t.$target.html()),e.on("reset",(()=>{t.$target.html(t.$target.data("initial-value"))})))},extractModifiers(t){const e=/^(.*?)(::element)?$/.exec(t.source),s=/^(.*?)(::element)?(::after|::before)?$/.exec(t.target);t.source=e[1],t.sourceMod=e[2]?"element":"content",t.target=s[1];const i=s[2]?"element":"content",n=(s[3]||"::").slice(2);return t.loadingClass&&(t.loadingClass+=" "+t.loadingClass+"-"+i,n&&t.loadingClass&&(t.loadingClass+=" "+t.loadingClass+"-"+n)),t.action=i+n,!0},createTarget(t){if("#"!==t.slice(0,1))return I.error("only id supported for non-existing target"),null;const e=l()("<div />").attr({id:t.slice(1)});return l()("body").append(e),e},_performInjection(t,e,s,i,n,a){const o=document.createElement("div");if(s.length>0){const t="content"===i.sourceMod?"innerHTML":"outerHTML",e=[...s].map((e=>e[t])).join("\n");o.innerHTML=e;for(const t of o.querySelectorAll("img"))y.A.add_event_listener(t,"load","inject_img_load",(t=>{l()(t.currentTarget).trigger("pat-inject-content-loaded")}),{once:!0})}const r=[...o.childNodes];this._inject(n,r,t,i)&&(this._update_history(i,n,a),this._afterInjection(e,i.$created_target||l()(r),i))},_update_history(t,e,s){if("record"!==t.history||!history?.pushState)return;let i=t.url;const n=i.indexOf("?")>-1?"&":"?";if(t.params&&(i=`${i}${n}${t.params}`),history.pushState({url:i},"",i),s.length){const t=document.querySelector("title");t&&this._inject(e,s,t,{action:"element"})}},_afterInjection(t,e,s){const i=f.A.jqToNode(t);if(e.filter(((t,e)=>3!==e.nodeType)).data("pat-injected",{origin:s.url}),1===e.length&&3==e[0].nodeType?e.parent().trigger("patterns-injected",[s,i,e[0]]):e.each(((t,e)=>{3!==e.nodeType&&l()(e).addClass(s.class).trigger("patterns-injected",[s,i,e])})),s.scroll&&"none"!==s.scroll){const t=["top","target"].includes(s.scroll)?s.$target[0]:v.A.querySelectorAllAndMe(e[0],s.scroll),i=v.A.find_scroll_container(t,null,window);"top"===s.scroll?v.A.scroll_to_top(i):t&&v.A.scroll_to_element(t,i)}i.dispatchEvent(new Event("pat-inject-success",{bubbles:!0,cancelable:!0}))},async _onInjectSuccess(t,e,s){let i=s?.jqxhr?.responseText;if(!i)return void I.warn("No response content, aborting",s);"none"===e[0].source&&(i="");const n=await this.callTypeHandler(e[0].dataType,"sources",t,[e,i,s]);let a;n&&n[n.length-1]&&n[n.length-1][0]&&"TITLE"===n[n.length-1][0].nodeName&&(a=n[n.length-1]),e.forEach(((e,i)=>{const o=()=>{if("none"!==e.target)for(const o of e.$target)this._performInjection(o,t,n[i],e,s.target,a)};e.processDelay?setTimeout((()=>o()),e.processDelay):o()})),e[0].nextHref&&t.is("a")&&(t.attr({href:e[0].nextHref.replace(/&amp;/g,"&")}),this.destroy(t)),t.off("pat-ajax-success.pat-inject"),t.off("pat-ajax-error.pat-inject")},async _onInjectError(t,e,s){let n="";const a=s.jqxhr.status,o=new Date;let r,c;a%100==4?n="Sorry! We couldn't find the page to load. Please make a screenshot and send it to support. Thank you!":a%100==5?n="I am very sorry! There was an error at the server. Please make a screenshot and contact support. Thank you!":0==a&&(n="It seems, the server is down. Please make a screenshot and contact support. Thank you!");if(null===new URLSearchParams(window.location.search).get("pat-inject-errorhandler.off")){const t=document?.querySelector(`meta[name^=pat-inject-status-${a}]`)?.getAttribute("content",!1);if(c=t?.split("#")[1],c=c?`#${c}`:null,c&&(r=document.createElement("html"),r.innerHTML=s.jqxhr.responseText,r=r.querySelector(c)),!r&&t)try{const e=await fetch(t,{method:"GET"});r=document.createElement("html"),r.innerHTML=await e.text(),r=r.querySelector(c||"body")}catch{}}for(const s of e)"$created_target"in s&&s.$created_target.remove(),s.$target.removeClass(s.loadingClass),t.removeClass(s.executingClass);if(t.off("pat-ajax-success.pat-inject"),t.off("pat-ajax-error.pat-inject"),r){const t=document.querySelector(c||"body");t.innerHTML=r.innerHTML,i.A.scan(t)}else{const t=`${n} Status is ${a} ${s.jqxhr.statusText}, time was ${o}. You can click to close this.`;l()("body").attr("data-error-message",t),l()("body").on("click",(()=>{l()("body").removeAttr("data-error-message"),window.location.href=window.location.href}))}},execute(t,e){const s=f.A.jqToNode(e);if(t=t.map((t=>l().extend({},t))),!this.verifyConfig(t))return;if(!this.askForConfirmation(t))return;if(e.data("pat-inject-triggered"))return;e.data("pat-inject-triggered",!0);for(const e of t)e?.executingClass&&s.classList.add(e.executingClass),e?.loadingClass&&"none"!==e?.target&&e.$target.addClass(e.loadingClass);e.on("pat-ajax-success.pat-inject",(async n=>{this._onInjectSuccess(e,t,n),await f.A.timeout(1),y.A.remove_event_listener(s,"pat-inject--close-panel"),i&&(i=!1,s.dispatchEvent(new Event("close-panel",{bubbles:!0,cancelable:!0})))})),e.on("pat-ajax-error.pat-inject",this._onInjectError.bind(this,e,t)),e.on("pat-ajax-success.pat-inject pat-ajax-error.pat-inject",(()=>e.removeData("pat-inject-triggered")));let i=!1;y.A.add_event_listener(s,"close-panel","pat-inject--close-panel",(t=>{t.stopPropagation(),t.stopImmediatePropagation(),i=!0})),t[0].url.length?g.request(e,{url:t[0].url,"browser-cache":t[0].browserCache}):e.trigger({type:"pat-ajax-success",jqxhr:{responseText:l()("body").html()}})},_inject(t,e,s,i){if("none"===i.source)return s.replaceWith(""),!0;if(0===e.length)return I.warn("Aborting injection, source not found:",e),l()(t).trigger("pat-inject-missingSource",{url:i.url,selector:i.source}),!1;if("none"===i.target)return!0;if(!s)return I.warn("Aborting injection, target not found:",s),l()(t).trigger("pat-inject-missingTarget",{selector:i.target}),!1;return s[{content:"replaceChildren",contentafter:"append",contentbefore:"prepend",element:"replaceWith",elementafter:"after",elementbefore:"before"}[i.action]](...e),!0},_sourcesFromHtml(t,e,s){const i=this._parseRawHtml(t,e);return s.map((t=>{if("body"===t&&(t="#__original_body"),"none"===t)return l()("\x3c!-- --\x3e");const s=i.find(t);return 0===s.length&&"title"!=t&&I.warn("No source elements for selector:",t,i),s.find('a[href^="#"]').each(((t,i)=>{const n=i.getAttribute("href");-1===n.indexOf("#{1}")&&(1===n.length?i.href=e:s.find(n).length||(i.href=e+n))})),s}))},_rebaseAttrs:{a:"href",form:"action",img:"src",object:"data",source:"src",video:"src"},_rebaseOptions:{calendar:["url","event-sources"],collapsible:["load-content"],"date-picker":["i18n"],"datetime-picker":["i18n"],inject:["url"]},_rebaseURL(t,e){return-1!==e.indexOf("://")||"/"===e[0]||0===e.indexOf("data:")?e:(t=new URL(t,window.location).href).slice(0,t.lastIndexOf("/")+1)+e},_rebaseHTML(t,e){if(""===e)return"";const s=document.createElement("div");s.innerHTML=e;const n=Object.entries(this._rebaseAttrs).map((t=>{let[e,s]=t;return`${e}[${s}]`})).join(", ");for(const e of s.querySelectorAll(n)){const s=this._rebaseAttrs[e.nodeName.toLowerCase()];let i=e.getAttribute(s);i&&"@@"!==i.slice(0,2)&&"#"!==i[0]&&"mailto:"!==i.slice(0,7)&&"tel:"!==i.slice(0,4)&&"fax:"!==i.slice(0,4)&&"callto:"!==i.slice(0,7)&&"ts3server:"!==i.slice(0,10)&&"teams:"!==i.slice(0,6)&&"javascript:"!==i.slice(0,11)&&(i=this._rebaseURL(t,i),e.setAttribute(s,i))}for(const[e,n]of Object.entries(this._rebaseOptions))for(const a of v.A.querySelectorAllAndMe(s,`[data-pat-${e}]`)){const s=i.A.patterns?.[e],o=s?.parser;if(!o)continue;const r=o.parse(a,{},!0,!1,!1);let l=!1;for(const e of r)for(const s of n){const i=e[s];i&&(l=!0,Array.isArray(i)?e[s]=i.map((e=>this._rebaseURL(t,e))):e[s]=this._rebaseURL(t,i))}l&&a.setAttribute(`data-pat-${e}`,JSON.stringify(1===r.length?r[0]:r))}return s.innerHTML.trim()},_parseRawHtml(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const s=t.match(/\<title\>(.*)\<\/title\>/);let i=t.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/<head\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/head>/gi,"").replace(/<html([^>]*?)>/gi,"").replace(/<\/html([^>]*?)>/gi,"").replace(/<body([^>]*?)>/gi,'<div id="__original_body">').replace(/<\/body([^>]*?)>/gi,"</div>");s&&2==s.length&&(i=s[0]+i);try{i=this._rebaseHTML(e,i)}catch(t){I.error("Error rebasing urls",t)}const n=l()("<div/>").html(i);return 0===n.children().length&&I.warn("Parsing html resulted in empty jquery object:",i),n},_initAutoloadVisible(t,e){if(t.data("pat-inject-autoloaded"))return!1;const s=f.A.jqToNode(t),i=e[0].delay||200;I.debug(`Delay time: ${i}`);const n=e=>t.data("pat-inject-autoloaded")?(I.debug(`autoload-visible trigger skipped ${s}`),!1):(t.data("pat-inject-autoloaded",!0),this.onTrigger({currentTarget:s}),e&&e.preventDefault(),I.debug(`autoload-visible trigger run ${s}`),!0);let a=null;const o=new IntersectionObserver((t=>{for(const e of t)e.isIntersecting?(a=window.setTimeout((()=>{o.disconnect(),n()}),i),I.debug(`autoload-visible intersecting ${s}`)):(window.clearTimeout(a),I.debug(`autoload-visible not intersecting ${s}`))}),{threshold:0,root:null,margin:"0px"});o.observe(s)},_initIdleTrigger(t,e){const s=parseInt(e,10);let i;const n=f.A.jqToNode(t),a=()=>{this.onTrigger({currentTarget:n}),r(),clearTimeout(i)},o=f.A.debounce((()=>{document.body.contains(n)?(clearTimeout(i),i=setTimeout(a,s)):r()}),s),r=()=>{for(const t of["scroll","resize"])window.removeEventListener(t,o);for(const t of["click","keypress","keyup","mousemove","touchstart","touchend"])document.removeEventListener(t,o)};o();for(const t of["scroll","resize"])window.addEventListener(t,o);for(const t of["click","keypress","keyup","mousemove","touchstart","touchend"])document.addEventListener(t,o)},registerTypeHandler(t,e){this.handlers[t]=e},async callTypeHandler(t,e,s,i){return t=t||"html",this.handlers[t]&&l().isFunction(this.handlers[t][e])?await this.handlers[t][e].bind(this)(...i):null},handlers:{html:{sources(t,e){const s=t.map((t=>t.source));s.push("title");return this._sourcesFromHtml(e,t[0].url,s)}}}};if(l()(document).on("patterns-injected.inject",(async(t,e,s,n)=>{e?.skipPatInjectHandler||(e&&(e.$target.removeClass(e.loadingClass),l()(s).removeClass(e.executingClass).addClass(e.executedClass)),3!==n.nodeType&&8!==n.nodeType&&(i.A.scan(n,null,{type:"injection",element:s}),l()(n).trigger("patterns-injected-scanned"),await f.A.timeout(10),n.dispatchEvent(new CustomEvent("patterns-injected-delayed",{bubbles:!0,cancelable:!0,detail:{injected:n}}))))})),l()(window).on("popstate",(t=>{if(t.originalEvent.state||!("replaceState"in history))window.location.reload();else try{history.replaceState("anchor","",document.location.href)}catch(t){I.debug(t)}})),"replaceState"in history)try{history.replaceState("pageload","",document.location.href)}catch(t){I.debug(t)}i.A.register(z);var P=z;s(49328);const H=new c.A("modal");H.addArgument("class"),H.addArgument("closing",["close-button"],["close-button","outside"],!0),H.addArgument("close-text","Close"),H.addArgument("panel-header-content",":first:not(.header)"),H.addArgument("source",null),H.addArgument("target","#pat-modal");var R=m.A.extend({name:"modal",jquery_plugin:!0,trigger:"div.pat-modal, a.pat-modal, form.pat-modal, .pat-modal.pat-subform",async init(t,e,i){window.__patternslib_import_styles&&s.e(42495).then(s.bind(s,42495)),this.options=H.parse(this.$el,e),i&&"injection"===i.type&&l().extend(this.options,H.parse(l()(i.element),{},!1,!1)),this.$el.is("div")?this._init_div1():await this._init_inject1()},async _init_inject1(){const t={...this.options.source&&{source:this.options.source},target:this.options.target,class:"pat-modal"+(this.options.class?" "+this.options.class:"")};this.options.url&&(t.url=this.options.url),this.options.trigger&&(t.trigger=this.options.trigger),this.$el.closest("#pat-modal")||l()("#pat-modal").detach(),this.$el.on("pat-inject-missingSource pat-inject-missingTarget",(()=>{l()("#pat-modal").detach()})),await P.init(this.$el,t)},_init_div1(){const t=document.createElement("div");let e;t.setAttribute("class","header"),-1!==this.options.closing.indexOf("close-button")&&(t.innerHTML=`<button type="button" class="close-panel">${this.options.closeText}</button>`,i.A.scan(t,["close-panel"])),e="none"===this.options.panelHeaderContent?this.$el.children():this.$el.children(":last, :not("+this.options.panelHeaderContent+")"),e.length?e.wrapAll("<div class='panel-content' />"):this.$el.append("<div class='panel-content' />"),this.$el.children(".panel-content").before(t),this.$el.children(this.options.panelHeaderContent).prependTo(t),document.activeElement?.focus(),this._init_handlers(),this.resize(),this.setPosition(),l()("body").addClass("modal-active"),this.el.dispatchEvent(new Event("pat-modal-ready",{bubbles:!0,cancelable:!0}))},_init_handlers(){y.A.add_event_listener(this.el,"close-panel","pat-modal--close-panel",(()=>this.destroy())),l()(document).on("keyup.pat-modal",this._onKeyUp.bind(this)),-1!==this.options.closing.indexOf("outside")&&l()(document).on("click.pat-modal",this._onPossibleOutsideClick.bind(this)),l()(window).on("resize.pat-modal-position",f.A.debounce(this.resize.bind(this),400)),l()(document).on("pat-inject-content-loaded.pat-modal-position","#pat-modal",f.A.debounce(this.resize.bind(this),400)),l()(document).on("patterns-injected.pat-modal-position","#pat-modal,div.pat-modal",f.A.debounce(this.resize.bind(this),400)),l()(document).on("pat-update.pat-modal-position","#pat-modal,div.pat-modal",f.A.debounce(this.resize.bind(this),50))},_onPossibleOutsideClick(t){this.$el.has(t.target)&&this.destroy()},_onKeyUp(t){27===t.which&&this.destroy()},getTallestChild(){let t;for(const e of l()("*",this.$el)){const s=l()(e);(void 0===t||s.outerHeight(!0)>t.outerHeight(!0))&&(t=s)}return t},setPosition(){this.$el.css("top",(l()(window).innerHeight()-this.$el.height())/2)},resize(){this.$el.removeClass("max-height").css("height","");const t=this.$el.find(".panel-content"),e=this.$el.find(".header"),s=t.outerHeight(!0)+e.outerHeight(!0);this.$el.height()<s&&(this.$el.addClass("max-height").css({height:s+"px"}),this.setPosition())},async destroy(){await f.A.timeout(1),l()(document).off(".pat-modal"),this.$el.remove(),l()("body").removeClass("modal-active"),l()("body").removeClass("modal-panel")}}),F=s(2380);const U=n.A.getLogger("calendar"),W=new c.A("calendar");W.addArgument("calendar-controls",null),W.addArgument("category-controls",null),W.addArgument("column-day","dddd M/d"),W.addArgument("column-month","ddd"),W.addArgument("column-week","ddd M/d"),W.addArgument("initial-date",null),W.addArgument("initial-view","month",["month","week","day","list","dayGridMonth","dayGridWeek","dayGridDay","timeGridWeek","timeGridDay","listDay","listWeek","listMonth","listYear","listWeek","basicWeek","basicDay","agendaWeek","agendaDay"]),W.addArgument("drag-and-drop",!0,[!0,!1]),W.addArgument("drop-external-events",!0,[!0,!1]),W.addArgument("external-event-selector",""),W.addArgument("first-day",null),W.addArgument("first-hour","6"),W.addArgument("height","auto"),W.addArgument("ignore-url",!1),W.addArgument("lang",null),W.addArgument("store","none",["none","session","local"]),W.addArgument("time-format","24h",["24h","12h"]),W.addArgument("timezone",null),W.addArgument("title-day","dddd, MMM d, YYYY"),W.addArgument("title-month","MMMM YYYY"),W.addArgument("title-week","MMM D YYYY"),W.addArgument("event-color","blue"),W.addArgument("url",null),W.addArgument("event-sources",[],void 0,!0),W.addArgument("pat-inject-source",null),W.addArgument("pat-inject-target",null),W.addArgument("pat-modal-class",null),W.addArgument("pat-tooltip-source",null,["ajax",null]),W.addArgument("pat-switch-selector",null),W.addArgument("pat-switch-remove",null),W.addArgument("pat-switch-add",null),W.addAlias("default-date","initial-date"),W.addAlias("default-view","initial-view");m.A.extend({name:"calendar",trigger:".pat-calendar",classMap:{month:".view-month",agendaWeek:".view-week",agendaDay:".view-day"},viewMap:{month:"dayGridMonth",week:"timeGridWeek",day:"timeGridDay",list:"listMonth",basicWeek:"dayGridWeek",basicDay:"dayGridDay",agendaWeek:"timeGridWeek",agendaDay:"timeGridDay"},dayNames:["su","mo","tu","we","th","fr","sa"],active_categories:null,parser:W,async init(){this.options=F.A.updateOptions(this.el,W.parse(this.el,this.options));const t=(await s.e(57210).then(s.t.bind(s,57210,23))).Calendar,e=(await s.e(35196).then(s.t.bind(s,35196,23))).default,i=(await s.e(24064).then(s.t.bind(s,24064,23))).default,n=(await s.e(23810).then(s.t.bind(s,23810,23))).default,a=(await s.e(46858).then(s.t.bind(s,46858,23))).default,o=(await s.e(11270).then(s.t.bind(s,11270,23))).default,r=this.options.calendarControls?document.querySelector(this.options.calendarControls):this.el;this.el_jump_next=r.querySelector(".jump-next"),this.el_jump_prev=r.querySelector(".jump-prev"),this.el_jump_today=r.querySelector(".jump-today"),this.el_view_month=r.querySelector(".view-month"),this.el_view_week=r.querySelector(".view-week"),this.el_view_day=r.querySelector(".view-day"),this.el_view_list_year=r.querySelector(".view-listYear"),this.el_view_list_month=r.querySelector(".view-listMonth"),this.el_view_list_week=r.querySelector(".view-listWeek"),this.el_view_list_day=r.querySelector(".view-listDay"),this.el_timezone=r.querySelector("select[name='timezone']"),this.el_title=this.el.querySelector(".cal-title")||r.querySelector(".cal-title");const l=`${this.name}-${window.location.pathname}`;this.storage="none"===this.options.store?null:F.A[this.options.store](l);const c=new URLSearchParams(window.location.search),d={headerToolbar:!1};d.initialDate=c.get("date")||this.storage?.get?.("date")||this.options.initial.date,d.initialView=c.get("view")||this.storage?.get?.("view")||this.options.initial.view,d.initialView=this.viewMap[d.initialView]||d.initialView,d.editable=this.options.editable||!1,d.plugins=[e,i,n,a,o],d.eventColor=this.options.eventColor;let u=this.options.lang||v.A.acquire_attribute(this.el,"lang")||"en";if(u=u.substr(0,2).toLowerCase(),"en"!==u){const t=await s(27561)(`./${u}.js`);d.locale=t.default,U.debug(`Loaded locale for ${u}`)}null!==this.options.first.day&&(d.firstDay=this.options.first.day,this.dayNames.indexOf(this.options.first.day)>=0&&(d.firstDay=this.dayNames.indexOf(this.options.first.day)));let h=this.el_timezone?.value||this.options.timezone||null;h&&(d.timeZone=h),"12h"==this.options.timeFormat?d.eventTimeFormat={hour12:!0,meridiem:"narrow",hour:"numeric"}:d.eventTimeFormat={hour12:!1,meridiem:"false",hour:"numeric"};const p=[...this.options.event.sources||[]];this.options.url&&!p.includes(this.options.url)&&p.push(this.options.url),d.eventSources=[];for(const[t,e]of p.entries()){const s=this.create_event_source(t,e);d.eventSources.push(s)}this._restoreCategoryControls(),this._registerCategoryControls(),this.reset_active_categories(),d.eventDidMount=t=>this.init_event(t);const g=document.createElement("div");g.setAttribute("class","pat-calendar__fc"),this.el.appendChild(g),this.options.addUrl&&(d.dateClick=this.addNewEvent.bind(this),this.mod_el=document.createElement("section"),this.mod_el.setAttribute("class","pat-calendar__modal"),this.el.appendChild(this.mod_el));let m=this.calendar=new t(g,d);m.render(),m.on("datesSet",this._viewChanged.bind(this)),m.on("dateClick",this._viewChanged.bind(this)),this.el_title&&(this.el_title.innerHTML=m.view.title),this._registerCalendarControls(),this.setActiveClasses()},create_event_source(t,e){return{id:`event-source--${t+1}`,events:(t,s,i)=>this._fetch_events(e,t,s,i),className:`event-source--${t+1}`}},event_mapper(t){const e={id:t.UID,title:t.title,start:new Date(t.start),end:new Date(t.end),allDay:t.whole_day,url:t.url||t["@id"],backgroundColor:t.color,borderColor:t.color,classNames:t.class?t.class.split(" "):[],description:t.description,text:t.text,location:t.location,open_end:t.open_end,recurrence:t.recurrence,attendees:t.attendees,contact_name:t.contact_name,contact_phone:t.contact_phone,contact_email:t.contact_email,event_url:t.event_url};for(const t in e)e[t]||delete e[t];return e},update_event(t,e){t.setDates(e.start,e.end),t.setAllDay(e.allDay),t.setProp("id",e.id),t.setProp("title",e.title),t.setProp("url",e.url),t.setProp("backgroundColor",e.color),t.setProp("borderColor",e.color),t.setExtendedProp("description",e.description),t.setExtendedProp("text",e.text),t.setExtendedProp("location",e.location),t.setExtendedProp("open_end",e.open_end),t.setExtendedProp("recurrence",e.recurrence),t.setExtendedProp("attendees",e.attendees),t.setExtendedProp("contact_name",e.contact_name),t.setExtendedProp("contact_phone",e.contact_phone),t.setExtendedProp("contact_email",e.contact_email),t.setExtendedProp("event_url",e.event_url)},async _fetch_events(t,e,s,i){let n=[];for(;t;){let s;t=t.replace("${start_str}",e.startStr.split("T")[0]).replace("${end_str}",e.endStr.split("T")[0]);try{s=await fetch(t,{method:"GET",mode:"cors",headers:{Accept:"application/json"}})}catch(t){return void i(t)}let a=await s.json(),o=a.items?.map(this.event_mapper)||[];n=n.concat(o),t=a.batching?.next||null}s(n)},init_event(t){this.filter_event(t.event);let e=!1;const s=this.options.pat["inject-source"],n=this.options.pat["inject-target"];t.event.url&&(s||n)&&(t.el.classList.add("pat-inject"),t.el.setAttribute("data-pat-inject",`target: ${n||"body"}; source: ${s||"body"}`),e=!0),t.event.url&&this.options.pat["modal-class"]&&(t.el.classList.add("pat-modal"),t.el.setAttribute("data-pat-modal",`class: ${this.options.pat["modal-class"]}`),e=!0),t.event.url&&"ajax"===this.options.pat["tooltip-source"]&&(t.el.classList.add("pat-tooltip"),t.el.setAttribute("data-pat-tooltip","source: ajax"),e=!0);const a=this.options.pat["switch-selector"];if(a){const s=this.options.pat["switch-add"],i=this.options.pat["switch-remove"];t.el.classList.add("pat-switch"),t.el.setAttribute("data-pat-switch",`selector: ${a}${s?"; add: "+s:""}${i?"; remove: "+i:""}`),e=!0}e&&i.A.scan(t.el)},filter_event(t){let e=!0;null!==this.active_categories&&(e=this.active_categories.filter((e=>t.classNames.includes(e))).length>0),e?t.setProp("display","auto"):t.setProp("display","none")},reset_active_categories(){const t=this.get_category_controls();this.active_categories=null,t.length&&(this.active_categories=t.filter((t=>t.checked)).map((t=>t.id))),this.storage&&this.storage.set("active_categories",this.active_categories)},get_category_controls(){const t=this.options.categoryControls?document.querySelectorAll(this.options.categoryControls):[this.el],e=[];for(const s of t){const t=s.querySelectorAll("input[type=checkbox]");e.push(...t)}return[...new Set(e)]},_registerCategoryControls(){let t;for(const e of this.get_category_controls())e.addEventListener("change",(()=>{clearTimeout(t),t=setTimeout((()=>{this.reset_active_categories(),this.calendar.getEvents().map(this.filter_event.bind(this))}),50)}))},_restoreCategoryControls(){const t=this.get_category_controls(),e=this.storage&&this.storage.get("active_categories")||null;if(t.length&&null!==e)for(const s of t)s.hidden||(e.includes(s.id)?s.checked=!0:s.checked=!1,s.dispatchEvent(new Event("change",{bubbles:!0,cancelable:!0})))},_registerCalendarControls(){this.el_jump_next?.addEventListener("click",(t=>{t.preventDefault(),this.calendar.next()})),this.el_jump_prev?.addEventListener("click",(t=>{t.preventDefault(),this.calendar.prev()})),this.el_jump_today?.addEventListener("click",(t=>{t.preventDefault(),this.calendar.today()})),this.el_view_month?.addEventListener("click",(t=>{t.preventDefault(),this.calendar.changeView("dayGridMonth")})),this.el_view_week?.addEventListener("click",(t=>{t.preventDefault(),this.calendar.changeView("timeGridWeek")})),this.el_view_day?.addEventListener("click",(t=>{t.preventDefault(),this.calendar.changeView("timeGridDay")})),this.el_view_list_year?.addEventListener("click",(t=>{t.preventDefault(),this.calendar.changeView("listYear")})),this.el_view_list_month?.addEventListener("click",(t=>{t.preventDefault(),this.calendar.changeView("listMonth")})),this.el_view_list_week?.addEventListener("click",(t=>{t.preventDefault(),this.calendar.changeView("listWeek")})),this.el_view_list_day?.addEventListener("click",(t=>{t.preventDefault(),this.calendar.changeView("listDay")})),this.el_timezone?.addEventListener("change",(t=>{t.preventDefault(),this.calendar.setOption("timeZone",t.target.value)}))},setActiveClasses(){this.el_jump_today?.classList.remove("active"),this.el_view_month?.classList.remove("active"),this.el_view_week?.classList.remove("active"),this.el_view_day?.classList.remove("active"),this.el_view_list_year?.classList.remove("active"),this.el_view_list_month?.classList.remove("active"),this.el_view_list_week?.classList.remove("active"),this.el_view_list_day?.classList.remove("active");const t=this.calendar.currentData.currentDate,e=new Date;switch(t.getYear()===e.getYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()&&this.el_jump_today?.classList.add("active"),this.calendar.view.type){case"dayGridMonth":this.el_view_month?.classList.add("active");break;case"timeGridWeek":this.el_view_week?.classList.add("active");break;case"timeGridDay":this.el_view_day?.classList.add("active");break;case"listYear":this.el_view_list_year?.classList.add("active");break;case"listMonth":this.el_view_list_month?.classList.add("active");break;case"listWeek":this.el_view_list_week?.classList.add("active");break;case"listDay":this.el_view_list_day?.classList.add("active")}},_viewChanged(t){this.el_title&&(this.el_title.innerHTML=t.view.title);const e=t.view.currentStart.toISOString(),s=t.view.type;this.storage&&this.storage.set("date",e),this.storage&&this.storage.set("view",s);const i=new URLSearchParams(window.location.search);i.set("date",e),i.set("view",s),history.replaceState(null,null,"?"+i.toString()),this.setActiveClasses()},async addNewEvent(t){let e,s,i,n=this.options.addUrl;if(!n)return;"timeGridMonth"===this.calendar.view.type?(e=t.date,s=t.date,i=!0):(e=t.date,s=new Date(e.getTime()+36e5),i=!1),n=n.replace("${start_str}",e).replace("${end_str}",s).replace("${all_day}",i?"1":"0");const a=this.calendar.addEvent({title:"New Event",start:e,end:s},!0);await new R(this.mod_el,{url:n,trigger:"autoload"}),document.addEventListener("submit",(async t=>{const e=t.target,s=new FormData(e);try{const t=await fetch(e.action,{method:e.method,headers:{"Content-Type":"application/json"},body:s});let i=await t.json();i=this.event_mapper(i),this.update_event(a,i)}catch(t){U.error(t),a.remove()}}))}});const B=n.A.getLogger("pat.carousel"),V=new c.A("carousel");V.addArgument("auto-play",!1),V.addArgument("auto-play-speed",1e3),V.addArgument("speed",500),V.addArgument("height","fixed"),V.addArgument("arrows","show"),V.addArgument("slides-to-show",1),V.addArgument("slides-to-scroll",1),V.addArgument("dots","show"),V.addArgument("append-dots",""),V.addArgument("infinite",!1);m.A.extend({name:"carousel",trigger:".pat-carousel",async init(){window.__patternslib_import_styles&&s.e(16316).then(s.bind(s,16316)),await s.e(45052).then(s.t.bind(s,45052,23));const t=(await s.e(81849).then(s.t.bind(s,81849,23))).default;this.options=V.parse(this.el,this.options),this.settings={autoplay:this.options.auto.play,autoplaySpeed:this.options.auto["play-speed"],speed:this.options.speed,adaptiveHeight:"adaptive"===this.options.height,arrows:"show"===this.options.arrows,slidesToShow:this.options.slides["to-show"],slidesToScroll:this.options.slides["to-scroll"],dots:"show"===this.options.dots,infinite:this.options.infinite},this.options.appendDots&&(this.settings.appendDots=this.options.appendDots),t(this.el,(()=>this.setup()))},setup(){const t=l()(this.el).slick(this.settings);let e=l()();t.children().each(((t,s)=>{if(s.id){var i=l()("a[href=#"+s.id+"]");t===control.currentPage?i.addClass("current"):i.removeClass("current"),i.on("click.pat-carousel",null,{control:control,index:t},this.onPanelLinkClick.bind(this)),e=e.add(i)}})).end().on("slide_complete.pat-carousel",null,e,this.onSlideComplete.bind(this))},_loadPanelImages(t,e){let s;B.info("Loading lazy images on panel "+e),t.$items.eq(e).find("img").addBack().filter("[data-src]").each(((t,e)=>{s=l()(e),this.src=s.attr("data-src"),s.removeAttr("data-src")}))},onPanelLinkClick:function(t){t.data.control.gotoPage(t.data.index,!1),t.preventDefault()},onInitialized:function(t,e){this._loadPanelImages(e,e.options.startPanel),this._loadPanelImages(e,e.options.startPanel+1),this._loadPanelImages(e,0),this._loadPanelImages(e,e.pages+1)},onSlideInit:function(t,e){this._loadPanelImages(e,e.targetPage)},onSlideComplete:function(t,e){var s=t.data;s.removeClass("current"),e.$targetPage[0].id&&s.filter("[href=#"+e.$targetPage[0].id+"]").addClass("current"),this._loadPanelImages(e,e.targetPage+1)}});const Y=new c.A("checklist");Y.addArgument("select",".select-all"),Y.addArgument("deselect",".deselect-all"),Y.addArgument("toggle",".toggle-all");m.A.extend({name:"checklist",trigger:".pat-checklist",jquery_plugin:!0,all_selects:[],all_deselects:[],all_toggles:[],all_checkboxes:[],all_radios:[],init(){this.options=Y.parse(this.el,this.options,!1),this.$el.on("patterns-injected",this._init.bind(this)),this.change_handler=f.A.debounce((()=>{this.change_buttons_and_toggles(),this.change_checked()}),50),this._init()},_init(){this.all_checkboxes=this.el.querySelectorAll("input[type=checkbox]"),this.all_radios=this.el.querySelectorAll("input[type=radio]"),this.all_selects=v.A.find_scoped(this.el,this.options.select);for(const t of this.all_selects)y.A.add_event_listener(t,"click","pat-checklist--select-all--click",this.select_all.bind(this));this.all_deselects=v.A.find_scoped(this.el,this.options.deselect);for(const t of this.all_deselects)y.A.add_event_listener(t,"click","pat-checklist--deselect-all--click",this.deselect_all.bind(this));this.all_toggles=v.A.find_scoped(this.el,this.options.toggle);for(const t of this.all_toggles)y.A.add_event_listener(t,"click","pat-checklist--toggle-all--click",this.toggle_all.bind(this));this.change_buttons_and_toggles(),this.change_checked(),y.A.add_event_listener(this.el,"change","pat-checklist--change-handler--change",this.change_handler.bind(this))},destroy(){for(const t of this.all_selects)y.A.remove_event_listener(t,"pat-checklist--select-all--click");for(const t of this.all_deselects)y.A.remove_event_listener(t,"pat-checklist--deselect-all--click");for(const t of this.all_toggles)y.A.remove_event_listener(t,"pat-checklist--toggle-all--click");y.A.remove_event_listener(this.el,"pat-checklist--change-handler--change"),this.$el.off("patterns_injected")},find_siblings(t,e){let s,i=t.parentNode;for(;i;){if(s=i.querySelectorAll(`${e}:not(${this.options.toggle})`),s.length||i===this.el)return s;i=i.parentNode}},find_checkboxes(t,e){let s=[];return s=0===this.options.select.indexOf("#")?this.el.querySelectorAll(e):this.find_siblings(t,e),s},change_buttons_and_toggles(){let t;for(const e of this.all_selects)t=this.find_checkboxes(e,"input[type=checkbox]"),e.disabled=[...t].map((t=>t.matches(":checked"))).every((t=>!0===t));for(const e of this.all_deselects)t=this.find_checkboxes(e,"input[type=checkbox]"),e.disabled=[...t].map((t=>t.matches(":checked"))).every((t=>!1===t));for(const e of this.all_toggles)t=this.find_checkboxes(e,"input[type=checkbox]"),e.checked=[...t].map((t=>t.matches(":checked"))).every((t=>!0===t))},select_all(t){t.preventDefault();const e=this.find_checkboxes(t.target,"input[type=checkbox]:not(:checked)");for(const t of e)t.checked=!0,t.dispatchEvent(y.A.change_event())},deselect_all(t){t.preventDefault();const e=this.find_checkboxes(t.target,"input[type=checkbox]:checked");for(const t of e)t.checked=!1,t.dispatchEvent(y.A.change_event())},toggle_all(t){t.preventDefault();const e=t.target.checked,s=this.find_checkboxes(t.target,"input[type=checkbox]");for(const t of s)t.checked=e,t.dispatchEvent(y.A.change_event())},change_checked(){for(const t of[...this.all_checkboxes,...this.all_radios])for(const e of t.labels)e.classList.remove("checked","unchecked"),e.classList.add(t.checked?"checked":"unchecked");for(const t of v.A.querySelectorAllAndMe(this.el,"fieldset"))t.querySelectorAll(`input[type=checkbox]:checked:not(${this.options.toggle}), input[type=radio]:checked`).length?(t.classList.remove("unchecked"),t.classList.add("checked")):(t.classList.remove("checked"),t.classList.add("unchecked"))}});const G=n.A.getLogger("pat-clone"),J=new c.A("clone");J.addArgument("max"),J.addArgument("template",":first"),J.addArgument("trigger-element",".add-clone"),J.addArgument("remove-element",".remove-clone"),J.addArgument("remove-behaviour","confirm",["confirm","none"]),J.addArgument("remove-confirmation","Are you sure you want to remove this element?"),J.addArgument("clone-element",".clone"),J.addAlias("remove-behavior","remove-behaviour");m.A.extend({name:"clone",trigger:".pat-clone",init(){this.options=J.parse(this.el,this.options),0===this.options.template.lastIndexOf(":",0)?this.template=l()(this.options.template,this.el)[0]:this.template=document.querySelector(this.options.template),this.bind_trigger(document.body);const t=this.el.querySelectorAll(this.options.cloneElement);this.num_clones=t.length;for(const e of t)this.bind_remove(e)},clone(){if(this.num_clones>=this.options.max)return void alert("Sorry, only "+this.options.max+" elements allowed.");this.num_clones+=1;let t="TEMPLATE"===this.template.nodeName?l()([...this.template.content.children]).clone():l()(this.template).safeClone();const e=(t.attr("id")||"").split(" ").filter((t=>t));if(t.removeAttr("id").removeClass("disable-patterns"),l().each(e,function(e,s){-1!==s.indexOf("#{1}")&&t.attr("id",t.attr("id")?t.attr("id")+" ":""+s.replace("#{1}",this.num_clones))}.bind(this)),t.appendTo(this.$el),t.children().addBack().contents().addBack().filter(this.incrementValues.bind(this)),this.bind_trigger(t),this.bind_remove(t),t.prop("hidden",!1),i.A.scan(t),t.trigger("pat-update",{pattern:"clone",action:"added",dom:t[0]}),this.num_clones>=this.options.max)for(const t of this.clone_triggers)v.A.hide(t)},incrementValues(t,e){const s=l()(e);s.children().addBack().contents().filter(this.incrementValues.bind(this));const i=function(t,e){if("type"!==e.name&&s.attr(e.name))try{s.attr(e.name,s.attr(e.name).replace("#{1}",this.num_clones))}catch(t){G.warn(t)}};3!==e.nodeType?l().each(e.attributes,i.bind(this)):e.data.length&&(e.data=e.data.replace("#{1}",this.num_clones))},bind_trigger(t){for(const e of f.A.ensureArray(t))for(const t of v.A.querySelectorAllAndMe(e,this.options.triggerElement))t.addEventListener("click",(()=>this.clone()))},bind_remove(t){for(const e of f.A.ensureArray(t))for(const s of v.A.querySelectorAllAndMe(e,this.options.remove.element))s.addEventListener("click",(()=>{"confirm"===this.options.remove.behaviour?!0===window.confirm(this.options.remove.confirmation)&&this.remove(t):this.remove(t)}))},remove(t){for(const e of f.A.ensureArray(t))e.remove(),this.$el.trigger("pat-update",{pattern:"clone",action:"removed",dom:e});if(this.num_clones-=1,this.num_clones<this.options.max)for(const t of this.clone_triggers)v.A.show(t)}});const X=new c.A("clone-code");X.addArgument("source",":first-child"),X.addArgument("features",null,["format"]);class K extends L.m{static name="clone-code";static trigger=".pat-clone-code";static parser=(()=>X)();async init(){0===this.options.source.lastIndexOf(":",0)?this.source=this.el.querySelector(this.options.source):this.source=document.querySelector(this.options.source),await this.clone()}async clone(){let t,e="TEMPLATE"===this.source.nodeName?this.source.innerHTML:this.source.outerHTML;"HTML"===this.source.nodeName?t=(new DOMParser).parseFromString(e,"text/html"):(t=document.createElement("div"),t.innerHTML=e);const n=t.querySelectorAll(".clone-ignore");for(const t of n)t.remove();if(e=t instanceof HTMLDocument?t.documentElement.outerHTML:t.innerHTML,this.options.features?.includes("format")){const t=(await s.e(73891).then(s.t.bind(s,73891,23))).default,i=(await s.e(25409).then(s.t.bind(s,25409,23))).default;e=t.format(e,{parser:"html",plugins:[i]})}t=document.createElement("div"),t.innerHTML=this.wrapper_template(f.A.escape_html(e));const a=t.children[0];this.el.appendChild(a),i.A.scan(a)}wrapper_template(t){return`\n<pre class="pat-syntax-highlight">\n  <code class="language-html">\n${t}\n  </code>\n</pre>\n        `}}i.A.register(K);const Q=n.A.getLogger("pat.collapsible"),Z=new c.A("collapsible");Z.addArgument("load-content"),Z.addArgument("store","none",["none","session","local"]),Z.addArgument("transition","slide",["none","css","fade","slide","slide-horizontal"]),Z.addArgument("effect-duration","fast"),Z.addArgument("effect-easing","swing"),Z.addArgument("closed",!1),Z.addArgument("trigger","::first"),Z.addArgument("close-trigger"),Z.addArgument("open-trigger"),Z.addArgument("scroll-selector"),Z.addArgument("scroll-offset",0);const tt={timer:null};class et extends L.m{static name="collapsible";static trigger=".pat-collapsible";static parser=(()=>Z)();transitions={none:{closed:"hide",open:"show"},fade:{closed:"fadeOut",open:"fadeIn"},slide:{closed:"slideUp",open:"slideDown"},"slide-horizontal":{closed:"slideOut",open:"slideIn"}};async init(){const t=this.$el=l()(this.el);let e;if("::first"===this.options.trigger?(this.$trigger=t.children(":first"),e=t.children(":gt(0)")):(this.$trigger=l()(this.options.trigger),e=t.children()),0===this.$trigger.length)return void Q.error("Collapsible has no trigger.",t[0]);this.$panel=t.children(".panel-content"),0===this.$panel.length&&(e.length?this.$panel=e.wrapAll("<div class='panel-content' />").parent():this.$panel=l()("<div class='panel-content' />").insertAfter(this.$trigger));let i=this.options.closed||t.hasClass("closed")?"closed":"open";if("none"!==this.options.store){i=("local"===this.options.store?F.A.local:F.A.session)(this.name).get(t.attr("id"))||i}if("closed"===i?(this.$trigger.removeClass("collapsible-open").addClass("collapsible-closed"),t.removeClass("open").addClass("closed"),this.$panel.hide()):(this.options.loadContent&&this._loadContent(t,this.options.loadContent,this.$panel),this.$trigger.removeClass("collapsible-closed").addClass("collapsible-open"),t.removeClass("closed").addClass("open"),this.$panel.show()),this.$trigger.off(".pat-collapsible").on("click.pat-collapsible",null,t,this._onClick.bind(this)).on("keypress.pat-collapsible",null,t,this._onKeyPress.bind(this)),this.options.closeTrigger&&l()(document).on("click",this.options.closeTrigger,this.close.bind(this)),this.options.openTrigger&&l()(document).on("click",this.options.openTrigger,this.open.bind(this)),this.options.scroll?.selector&&"none"!==this.options.scroll.selector){const t=(await Promise.resolve().then(s.bind(s,55028))).default;this.scroll=new t(this.el,{trigger:"manual",selector:this.options.scroll.selector,offset:this.options.scroll?.offset}),await y.A.await_pattern_init(this.scroll),this.debounce_scroll=f.A.debounce(this.scroll.scrollTo.bind(this.scroll),10,tt)}return t}open(){return this.$el.hasClass("open")||this.toggle(),this.$el}close(){return this.$el.hasClass("closed")||this.toggle(),this.$el}_onClick(t){this.toggle(t.data)}_onKeyPress(t){13===(t.keyCode?t.keyCode:t.which)&&this.toggle()}_loadContent(t,e,s){const i=e.split("#"),n=[{url:i[0],source:i[1]?"#"+i[1]:"body",$target:s,dataType:"html"}];P.execute(n,t)}loadContent(t){return t.each(function(t,e){this.options.loadContent&&this._loadContent(l()(e),this.options.loadContent,this.$panel)}.bind(this))}toggle(){const t=this.$el.hasClass("closed")?"open":"closed";if("none"!==this.options.store){("local"===this.options.store?F.A.local:F.A.session)(this.name).set(this.$el.attr("id"),t)}return"open"===t?(this.$el.trigger("patterns-collapsible-open"),this._transit(this.$el,"closed","open"),this.debounce_scroll?.()):(this.$el.trigger("patterns-collapsible-close"),this._transit(this.$el,"open","closed")),this.$el}async _transit(t,e,s){"open"===s&&this.options.loadContent&&this._loadContent(t,this.options.loadContent,this.$panel);const i="css"===this.options.transition||"none"===this.options.transition?null:this.options.effect.duration;if(i){const n=this.transitions[this.options.transition];t.addClass("in-progress").trigger("pat-update",{pattern:"collapsible",action:"attribute-changed",dom:t[0],transition:"start"}),this.$trigger.addClass("collapsible-in-progress"),await this.$panel[n[s]](i,this.options.effect.easing,function(){this.$trigger.removeClass("collapsible-"+e).removeClass("collapsible-in-progress").addClass("collapsible-"+s),t.removeClass(e).removeClass("in-progress").addClass(s).trigger("pat-update",{pattern:"collapsible",action:"attribute-changed",dom:t[0],transition:"complete"})}.bind(this)).promise()}else this.$trigger.removeClass("collapsible-"+e).addClass("collapsible-"+s),t.removeClass(e).addClass(s).trigger("pat-update",{pattern:"collapsible",action:"attribute-changed",dom:t[0],transition:"complete"})}}i.A.register(et);var st={name:"polyfill-color",trigger:"input.pat-colour-picker,input.pat-color-picker",async init(t){return await s.e(62749).then(s.t.bind(s,62749,23)),window.__patternslib_import_styles&&s.e(70579).then(s.bind(s,70579)),t.spectrum({preferredFormat:"hex"})}};i.A.register(st);s(11604);const it=new c.A("datetime-picker");it.addArgument("format","YYYY-MM-DD"),it.addArgument("week-numbers",[],["show","hide"]),it.addArgument("i18n"),it.addArgument("today","Today"),it.addArgument("clear","Clear"),it.addArgument("first-day",0);m.A.extend({name:"datetime-picker",trigger:".pat-datetime-picker",parser:it,el_date:null,el_time:null,async init(){const t=this.el;if(this.options=it.parse(this.el,this.options),f.A.checkInputSupport("datetime-local","invalid date"))return;window.__patternslib_import_styles&&s.e(74393).then(s.bind(s,74393));const e=(await Promise.resolve().then(s.bind(s,11604))).default,i=this.el.value.split("T"),n=i[0]||"",a=i[1]||"",o=document.createElement("div");o.setAttribute("class","pat-datetime-picker__wrapper"),v.A.hide(t);const r=`\n            <button type="button" class="_btn _now" title="${this.options.today}">\n                <span class="_icon"/>\n                <span class="_text">${this.options.today}</span>\n            </button>`,l=`\n            <button type="button" class="_btn _clear" title="${this.options.clear}">\n                <span class="_icon"/>\n                <span class="_text">${this.options.clear}</span>\n            </button>`;o.innerHTML=`\n            <input type="date" placeholder="YYYY-MM-DD" value="${n}" />\n            <input type="time" placeholder="hh:mm" value="${a}" />\n            ${this.options.today?r:""}\n            ${this.options.clear?l:""}\n        `,this.el_time=o.querySelector("input[type=time]"),this.el_time.addEventListener("change",(()=>this.update())),this.el_date=o.querySelector("input[type=date]"),this.el_date.addEventListener("change",(()=>{this.el_time.value||(this.el_time.value=this.isotime()),this.update()}));const c={behavior:"native",format:this.options.format,weekNumbers:this.options.weekNumbers,firstDay:this.options.firstDay};if(await e.init(this.el_date,c),this.options.today){o.querySelector("._btn._now").addEventListener("click",(t=>{t.preventDefault(),this.el_date.value=this.isodate(),this.el_time.value=this.isotime(),this.update()}))}if(this.options.clear){o.querySelector("._btn._clear").addEventListener("click",(t=>{t.preventDefault(),this.el_date.value="",this.el_time.value="",this.update()}))}t.parentNode.insertBefore(o,t)},update(){this.el_date.value&&this.el_time.value?this.el.value=`${this.el_date.value}T${this.el_time.value}`:this.el.value="",this.el.dispatchEvent(new Event("change",{bubbles:!0,cancelable:!0}))},isodate(){return(new Date).toISOString().substr(0,10)},isotime(){return(new Date).toTimeString().substr(0,5)}});const nt=n.A.getLogger("depends"),at=new c.A("depends");at.addArgument("condition"),at.addArgument("action","show",["show","enable","both"]),at.addArgument("transition","none",["none","css","fade","slide"]),at.addArgument("effect-duration","fast"),at.addArgument("effect-easing","swing");class ot extends L.m{static name="depends";static trigger=".pat-depends";static parser=(()=>at)();async init(){this.$el=l()(this.el);const t=(await s.e(26829).then(s.bind(s,26829))).default;try{this.handler=new t(this.el,this.options.condition)}catch(t){return void nt.error("Invalid condition: "+t.message,this.el)}this.set_state();for(const t of this.handler.getAllInputs())y.A.add_event_listener(t,"change",`pat-depends--change--${this.uuid}`,this.set_state.bind(this)),y.A.add_event_listener(t,"keyup",`pat-depends--keyup--${this.uuid}`,this.set_state.bind(this)),t.form&&y.A.add_event_listener(t.form,"reset",`pat-depends--reset--${this.uuid}`,(async()=>{await f.A.timeout(50),this.set_state.bind(this)}))}update_modal(){this.el.closest(".pat-modal")&&l()(document).trigger("pat-update",{pattern:"depends"})}enable(){const t=v.A.find_inputs(this.el);for(const e of t)e.disabled=!1,e.dispatchEvent(y.A.change_event());"A"===this.el.tagName&&y.A.remove_event_listener(this.el,"pat-depends--click"),this.el.classList.remove("disabled"),this.$el.trigger("pat-update",{pattern:"depends",action:"attribute-changed",dom:this.el,enabled:!0})}disable(){const t=v.A.find_inputs(this.el);for(const e of t)e.disabled=!0,e.dispatchEvent(y.A.change_event());"A"===this.el.tagName&&y.A.add_event_listener(this.el,"click","pat-depends--click",(t=>t.preventDefault())),this.el.classList.add("disabled"),this.$el.trigger("pat-update",{pattern:"depends",action:"attribute-changed",dom:this.el,enabled:!1})}set_state(){const t=this.handler.evaluate();switch(this.options.action){case"show":f.A.hideOrShow(this.el,t,this.options,this.name),this.update_modal();break;case"enable":t?this.enable():this.disable();break;case"both":f.A.hideOrShow(this.el,t,this.options,this.name),this.update_modal(),t?this.enable():this.disable()}}}i.A.register(ot);s(79742);const rt=new c.A("equaliser");rt.addArgument("transition","none",["none","grow"]),rt.addArgument("effect-duration","fast"),rt.addArgument("effect-easing","swing");var lt={name:"equaliser",trigger:".pat-equaliser, .pat-equalizer",async init(t,e){const i=(await s.e(81849).then(s.t.bind(s,81849,23))).default;return t.each((function(){var t=l()(this),s=rt.parse(t,e);t.data("pat-equaliser",s),l()(window).on("resize.pat-equaliser",null,this,f.A.debounce(lt._onEvent,100)),i(this,l().proxy((function(){lt._update(this)}),this));const n=f.A.debounce(lt._update.bind(this),100);new MutationObserver(n).observe(document.body,{childList:!0,subtree:!0,characterData:!0,attributes:!0})}))},_update:function(t){for(var e=l()(t),s=e.data("pat-equaliser"),i=e.children(),n=0,a=0;a<i.length;a++){var o,r=i.eq(a),c=r.css("height");r.css("height","").removeClass("equalised"),(o=r.height())>n&&(n=o),c&&r.css("height",c)}var d={height:n+"px"};switch(s&&s.transition){case"none":i.css(d).addClass("equalised");break;case"grow":i.animate(d,s.effect.duration,s.effect.easing,(function(){l()(this).addClass("equalised")}))}e.trigger("pat-update",{pattern:"equaliser",action:"attribute-changed",dom:t})},_onEvent:function(t){void 0!==t.data&&lt._update(t.data)}};i.A.register(lt);const ct=new c.A("expandable");ct.addArgument("load-content");var dt={name:"expandable",trigger:"ul.pat-expandable",jquery_plugin:!0,init:function(t){t.find(".folder[data-pat-expandable]:not(:has(ul))").append("<ul />");var e=t.find("li.folder:has(ul)");return e.prepend("<span class='toggle'></span>"),e.filter(":not(.open,.closed)").addClass("closed"),e.filter(".open").trigger("patterns-folder-open"),t.find("span.toggle").each((function(){var t=l()(this),e=t.parent();t.on("click.pat-expandable",(function(){e.toggleClass("open closed").filter(".open[data-pat-expandable]").patExpandable("loadContent")}))})),t},loadContent:function(t){return t.each((function(){var t=l()(this),e=ct.parse(t).loadContent.split("#"),s=[{url:e[0],source:e[1]?"#"+e[1]:"body",$target:t.find("ul"),dataType:"html"}];P.execute(s,t)}))}};i.A.register(dt);var ut={name:"focus",onNewContent:function(){l()(document.activeElement).is(":input")&&ut._doFocus(document.activeElement)},transform:function(t){t.find(":input[placeholder]").each((function(t,e){var s=f.A.findRelatives(e);e.placeholder&&s.attr("data-placeholder",e.placeholder)})),t.find(":input").each(ut.onChange)},onFocus:function(){ut._doFocus(this)},_updateHasValue:function(t){var e=f.A.findRelatives(t);f.A.hasValue(t)?e.addClass("has-value").attr("data-value",t.value):e.filter((function(t,e){const s=l()(":input",e);for(var i=0;i<s.length;i++)if(f.A.hasValue(s[i]))return!1;return!0})).removeClass("has-value").attr("data-value",null)},_doFocus:function(t){var e=f.A.findRelatives(t);e.addClass("focus"),this._updateHasValue(e)},onBlur:function(){var t=f.A.findRelatives(this);l()(document).one("mouseup keyup",(function(){t.filter(":not(:has(:input:focus))").removeClass("focus")}))},onChange:function(){ut._updateHasValue(this)}};l()(document).on("focus.patterns",":input",ut.onFocus).on("blur.patterns",":input",ut.onBlur).on("newContent",ut.onNewContent).on("change.pat-focus keyup.pat-focus",":input",ut.onChange).on("input.pat-focus",":input[type=range]",f.A.debounce(ut.onChange,50)),i.A.register(ut);var ht=n.A.getLogger("form-state"),pt={name:"form-state",trigger:"form.pat-form-state",init:function(t){return t.length>1?t.each((function(){pt.init(l()(this))})):(k.setup(t,pt.name),t.find("[type=reset]").hide(),pt.setReset.call(t),t.data("pat-ajax.state",t.serializeArray()),t.on("pat-ajax-success",pt.saveState),t)},saveState:function(){var t=l()(this);t.data("pat-ajax.previous-state",t.data("pat-ajax.state")),t.data("pat-ajax.state",t.serializeArray()),t.trigger("pat-form-state-saved")},setModified:function(){var t=l()(this);t.find("[type=reset]").prop("disabled",!1),t.find("[type=submit]").prop("disabled",!1),t.addClass("modified").off(".pat-form-state").one("reset.pat-form-state",pt.setReset).one("pat-ajax-error.pat-form-state",pt.setError).one("pat-ajax-success.pat-form-state",pt.setSaved),ht.debug("modified")},setReset:function(){var t=l()(this);t.find(':input[type!="hidden"][type!="submit"][type!="reset"][type!=button]').not("button").length&&(t.find("[type=reset]").prop("disabled",!0),t.find("[type=submit]").prop("disabled",!0)),t.removeClass("modified").off(".pat-form-state").one("input-change.pat-form-state",pt.setModified),ht.debug("reset")},setError:function(t){var e=[t.jqxhr.status,t.jqxhr.statusText].join(" ");R.init(l()("<div class='pat-modal small'><h3>Error</h3><div class='wizard-box'><div class='panel-body'><p>A server error has occured.</p><p>The error message is: <strong>"+e+"</strong>.</p></div><div class='buttons panel-footer'><button class='close-panel'>Ok</button></div></div></div>").appendTo(l()("body")))},setSaved:function(t){if(t.target===this){var e=l()(this);pt.setReset.call(e);var s=new Date,i=s.getHours()+":"+s.getMinutes()+":"+s.getSeconds();e.find("time.last-saved").remove(),e.prepend("<time class='last-saved' datetime='"+i+"'>"+i+"</time>"),e.addClass("saved")}}};i.A.register(pt);const gt=new c.A("forward");gt.addArgument("selector"),gt.addArgument("trigger","click",["click","auto"]),gt.addArgument("delay");m.A.extend({name:"forward",trigger:".pat-forward",skip:!1,init(){this.options=gt.parse(this.el,this.options),this.options.selector&&(this.options.delay&&(this.options.delay=f.A.parseTime(this.options.delay)),this.el.addEventListener("click",this.on_click.bind(this)),"auto"===this.options.trigger&&this.el.click())},async on_click(t){if(this.skip)return void(this.skip=!1);let e;t.preventDefault(),this.options.delay&&await f.A.timeout(this.options.delay),"self"===this.options.selector?(this.skip=!0,e=[this.el]):e=document.querySelectorAll(this.options.selector);for(const t of e)t.click()}}),m.A.extend({name:"fullscreen-close",trigger:".close-fullscreen",async init(){const t=(await s.e(86157).then(s.t.bind(s,86157,23))).default;this.$el[0].addEventListener("click",(function(){t.exit()}))}});let mt;const ft=n.A.getLogger("fullscreen"),bt=new c.A("fullscreen");bt.addArgument("selector",null),bt.addArgument("close-button","none",["none","show"]);m.A.extend({name:"fullscreen",trigger:".pat-fullscreen",async init(t,e){mt=(await s.e(86157).then(s.t.bind(s,86157,23))).default,this.options=bt.parse(this.$el,e),this.$el.on("click",this.fullscreen_handler.bind(this))},fullscreen_handler(t){t.preventDefault();const e=this.$el[0];let s=this.options.selector?this.options.selector:e.getAttribute("href");s=s||"body";const i=document.querySelector(s);i?(mt.request(i),"show"===this.options.closeButton&&this.setup_exit_button(i)):ft.error("No fullscreen element found.")},setup_exit_button(t){let e=null;"show"===this.options.closeButton&&(e=document.createElement("button"),e.className="pat-fullscreen-close-fullscreen",e.title="Exit fullscreen",e.appendChild(document.createTextNode("Exit fullscreen")),e.addEventListener("click",(t=>{t.preventDefault(),mt.exit()}))),t.appendChild(e),mt.on("change",(()=>{mt.isFullscreen||t.removeChild(e)}))}});const _t=n.A.getLogger("pat.gallery"),vt=new c.A("gallery");let yt,wt;vt.addArgument("item-selector","a"),vt.addArgument("loop",!0),vt.addArgument("scale-method","fit",["fit","fitNoUpscale","zoom"]),vt.addArgument("delay",3e4),vt.addArgument("effect-duration",250);m.A.extend({name:"gallery",trigger:".pat-gallery",orig_body_overflow:"auto",images:[],async init(){window.__patternslib_import_styles&&(s.e(15644).then(s.bind(s,15644)),s.e(72745).then(s.bind(s,72745))),yt=(await s.e(97548).then(s.t.bind(s,97548,23))).default,wt=(await s.e(57855).then(s.t.bind(s,57855,23))).default,this.options=vt.parse(this.el,this.options),this.template=await this.get_template();new MutationObserver(this.initialize_trigger.bind(this)).observe(this.el,{subtree:!0,childList:!0}),this.initialize_trigger()},async get_template(){let t=document.querySelector(".pat-gallery__template-wrapper, #photoswipe-template");if(!t){const e=(await s.e(55373).then(s.t.bind(s,55373,17))).default;t=document.createElement("div"),t.setAttribute("class","pat-gallery__template-wrapper"),t.setAttribute("hidden",""),t.innerHTML=e,document.body.appendChild(t)}return t},initialize_trigger(){const t=v.A.querySelectorAllAndMe(this.el,this.options.itemSelector);this.images=[...t].map((t=>{y.A.add_event_listener(t,"click","pat-gallery--image_handler",this.initialize_gallery.bind(this));return{w:0,h:0,src:t.getAttribute("href")||t.getAttribute("src")||t.querySelector("img")?.getAttribute("src"),title:t.getAttribute("title")||t.querySelector("img")?.getAttribute("title")}}))},initialize_gallery(t){const e=t.currentTarget;this.template.removeAttribute("hidden");const s=v.A.querySelectorAllAndMe(this.template,".pswp")?.[0];s||_t.warn("No photoswipe template found."),t.preventDefault();const i={index:this.images.map((t=>t.src)).indexOf(e.getAttribute("href")||e.getAttribute("src"))||0,scaleMode:this.options.scaleMethod,loop:this.options.loop,slideshowDelay:this.options.delay,hideAnimationDuration:this.options.effectDuration,showAnimationDuration:this.options.effectDuration,pinchToClose:!1,closeOnScroll:!1,history:!1},n=new yt(s,wt,this.images,i),a=f.A.debounce((()=>{n.updateSize(!0)}),50);n.listen("gettingData",(function(t,e){if(e.w<1||e.h<1){const t=new Image;t.onload=t=>{const s=t.target;e.w=s.width,e.h=s.height,e.needsUpdate=!0,a()},t.src=e.src}})),n.listen("initialZoomInEnd",(()=>{this.orig_body_overflow=v.A.get_css_value(document.body,"overflow"),document.body.style.overflow="hidden"})),n.listen("destroy",(()=>{document.body.style.overflow=this.orig_body_overflow,this.template.setAttribute("hidden","")})),n.init()}});const At=n.A.getLogger("pat.image-crop"),jt=new c.A("image-crop");jt.addArgument("preview-id",""),jt.addArgument("preview-height",0),jt.addArgument("preview-width",0),jt.addArgument("aspect-ratio",1),jt.addArgument("form-id",""),jt.addArgument("initial-sel","0 0 0 0"),jt.addArgument("min-size","0 0"),jt.addArgument("max-size","0 0"),jt.addArgument("input-prefix","");var kt={name:"image-crop",trigger:"img.pat-image-crop",bounds:[0,0],inputNames:["x1","y1","x2","y2","w","h"],async init(t,e){return await s.e(15738).then(s.t.bind(s,15738,23)),t.each((function(){var t=l()(this),s=jt.parse(t,e),i={};if(0===s.preview.id.length)i.preview=!1;else{if(i.preview={},i.preview.element=l()(s.preview.id),0===i.preview.element.length)return void At.error("Invalid preview element ID supplied: "+s.preview.id);s.previewWidth>0&&s.preview.height>0?(i.preview.width=s.preview.width,i.preview.height=s.preview.height):(i.preview.width=i.preview.element.parent().width(),i.preview.height=i.preview.element.parent().height())}if(0===s.formId.length){if(i.form=t.closest("form"),0===i.form.length)return void At.error("No form specified or found")}else i.form=l()(s.formId),0===i.form.length&&At.error("Invalid form ID supplied: "+s.formId);i.prefix=s.inputPrefix,i.inputs={};for(var n=0;n<kt.inputNames.length;n++)i.inputs[kt.inputNames[n]]=kt._setupInput(i.form,i.prefix,kt.inputNames[n]);var a=kt._parseOpt(s.initialSel);4!==a.length?At.warn("Invalid coordinates for initial selection"):a[2]-a[0]>0&&a[3]-a[1]>0&&(i.initialCoords=a),i.aspectRatio=s.aspectRatio,i.minSize=kt._parseOpt(s.minSize),i.maxSize=kt._parseOpt(s.maxSize);var o=function(t){kt.onSelect(t,i)};t.Jcrop({onChange:o,onSelect:o,onRelease:o,aspectRatio:i.aspectRatio,setSelect:i.initialCoords,minSize:i.minSize,maxSize:i.maxSize},(function(){i.api=this,kt.onSelect(this.tellSelect(),i)}))}))},_setupInput:function(t,e,s){var i=t.find("input[name="+e+s+"]");return 0===i.length&&(i=l()('<input type="hidden" name="'+e+s+'" />').appendTo(t)),i},_parseOpt:function(t){for(var e=t.replace(/\s{2,}/g," ").trim().split(" "),s=0;s<e.length;s++)e[s]=parseInt(e[s],10);return e},onSelect:function(t,e){e.preview&&kt.updatePreview(t,e),kt.updateInputs(t,e)},updatePreview:function(t,e){if(e.api&&parseInt(t.w,10)>0){var s=e.preview.width/t.w,i=e.preview.height/t.h,n=e.api.getBounds();e.preview.element.css({width:Math.round(s*n[0])+"px",height:Math.round(i*n[1])+"px",marginLeft:"-"+Math.round(s*t.x)+"px",marginTop:"-"+Math.round(i*t.y)+"px"})}},updateInputs:function(t,e){t&&t.w&&parseInt(t.w,10)>0&&(e.inputs.x1.attr("value",t.x),e.inputs.y1.attr("value",t.y),e.inputs.x2.attr("value",t.x2),e.inputs.y2.attr("value",t.y2),e.inputs.w.attr("value",t.w),e.inputs.h.attr("value",t.h))}};i.A.register(kt);var xt={name:"legend",trigger:"legend",_convertToIframes:function(t){t.findInclusive("object[type='text/html']").each((function(){var t=l()(this),e=l()("<iframe allowtransparency='true'/>");e.attr("id",t.attr("id")).attr("class",t.attr("class")).attr("src",t.attr("data")).attr("frameborder","0").attr("style","background-color:transparent"),t.replaceWith(e)}))},transform:function(t){const e=f.A.jqToNode(t),s=v.A.querySelectorAllAndMe(e,"legend:not(.disable-patterns)");for(const t of s)l()(t).replaceWith("<p class='legend'>"+l()(t).html()+"</p>")}};i.A.register(xt);const $t=n.A.getLogger("pat.markdown"),Ct=/\.md$/;class St extends L.m{static name="markdown";static trigger=".pat-markdown";async init(){if(this.el.matches(this.trigger)){const t=v.A.is_input(this.el)?this.el.value:this.el.innerHTML,e=await this.render(t);this.el.replaceWith(...e)}}async render(t){const e=(await s.e(58416).then(s.t.bind(s,58416,23))).marked,n=(await s.e(20112).then(s.t.bind(s,20112,23))).default,a=document.createElement("div"),o=n.sanitize(e.parse(t));a.innerHTML=o;const r=i.A.patterns["syntax-highlight"];if(r)for(const t of a.querySelectorAll("pre > code")){const e=t.parentElement;e.classList.add("pat-syntax-highlight"),new r(e),await y.A.await_event(e,"init.syntax-highlight.patterns")}return l()(a)}async renderForInjection(t,e){let s,i=e;if(t.source&&null!==(s=/^#+\s*(.*)/.exec(t.source))){if(i=this.extractSection(i,s[1]),null===i)return $t.warn('Could not find section "'+t.source+'" in '+t.url),l()("<div/>").attr("data-src",t.url);i+="\n"}return(await this.render(i)).attr("data-src",t.source?t.url+t.source:t.url)}extractSection(t,e){let s;e=f.A.escapeRegExp(e);let i=new RegExp("^((#+)\\s*@TEXT@\\s*|@TEXT@\\s*\\n([=-])+\\s*)$".replace(/@TEXT@/g,e),"m"),n=i.exec(t);if(null===n)return null;if(n[2]){const t=n[2].length;s="^#{@LEVEL@}\\s*@TEXT@\\s*$\\n+((?:.|\\n)*?(?=^#{1,@LEVEL@}\\s)|.*(?:.|\\n)*)",s=s.replace(/@LEVEL@/g,t)}else{if(!n[3])return $t.error("Unexpected section match result",n),null;s="="===n[3]?"^@TEXT@\\s*\\n=+\\s*\\n+((?:.|\\n)*?(?=^.*?\\n=+\\s*$)|(?:.|\\n)*)":"^@TEXT@\\s*\\n-+\\s*\\n+((?:.|\\n)*?(?=^.*?\\n[-=]+\\s*$)|(?:.|\\n)*)"}return s=s.replace(/@TEXT@/g,e),i=new RegExp(s,"m"),n=i.exec(t),null===n&&$t.error("Failed to find section with known present header?"),null!==n?n[0]:null}}v.A.document_ready((()=>{l()(document.body).on("patterns-inject-triggered.pat-markdown","a.pat-inject",(function(){l()(this).data("pat-inject").forEach((function(t){Ct.test(t.url)&&(t.dataType="markdown")}))}))})),async function(){await f.A.timeout(1);const t=i.A.patterns.inject;t&&t.registerTypeHandler("markdown",{async sources(t,e){return await Promise.all(t.map((async function(t){const s=new St(t.$target[0]);return await s.renderForInjection(t,e)})))}})}(),i.A.register(St);let Lt;const Tt=n.A.getLogger("pat.masonry"),Et=new c.A("masonry");Et.addArgument("column-width"),Et.addArgument("container-style",'{ "position": "relative" }'),Et.addArgument("gutter"),Et.addArgument("is-fit-width",!1),Et.addArgument("is-horizontal-order",!1),Et.addArgument("is-origin-left",!0),Et.addArgument("is-origin-top",!0),Et.addArgument("is-percent-position",!1),Et.addArgument("is-resize",!0),Et.addArgument("item-selector",".item"),Et.addArgument("stamp",""),Et.addArgument("transition-duration","0.4s"),Et.addAlias("fit-width","is-fit-width"),Et.addAlias("origin-left","is-origin-left"),Et.addAlias("origin-top","is-origin-top"),Et.addAlias("horizontal-order","is-horizontal-order"),Et.addAlias("percent-position","is-percent-position"),Et.addAlias("resize","is-resize");m.A.extend({name:"masonry",trigger:".pat-masonry",async init(t,e){Lt=(await s.e(65330).then(s.t.bind(s,65330,23))).default;const i=(await s.e(81849).then(s.t.bind(s,81849,23))).default;this.options=Et.parse(this.$el,e),this.initMasonry();const n=await i(this.$el);n.on("progress",function(){this.msnry||this.initMasonry(),this.quicklayout()}.bind(this)),n.on("always",function(){this.msnry||this.initMasonry(),this.layout()}.bind(this)),this.$el.on("patterns-injected.pat-masonry",f.A.debounce(this.update.bind(this),100)).on("pat-update",f.A.debounce(this.quicklayout.bind(this),200));var a=f.A.debounce(this.quicklayout.bind(this),400);new MutationObserver(a).observe(document.body,{childList:!0,subtree:!0,characterData:!1,attributeOldValue:!0,attributes:!0,attributeFilter:["class"]})},async initMasonry(){var t;try{t=JSON.parse(this.options.containerStyle)}catch(e){t={position:"relative"},Tt.warn("Invalid value passed in as containerStyle. Needs to be valid JSON so that it can be converted to an object for Masonry.")}this.msnry=new Lt(this.$el[0],{columnWidth:this.getTypeCastedValue(this.options.columnWidth),containerStyle:t,fitWidth:this.options.is["fit-width"],gutter:this.getTypeCastedValue(this.options.gutter),horizontalOrder:this.options.is["horizontal-order"],initLayout:!1,itemSelector:this.options.itemSelector,originLeft:this.options.is["origin-left"],originTop:this.options.is["origin-top"],percentPosition:this.options.is["percent-position"],resize:this.options.is.resize,stamp:this.options.stamp,transitionDuration:this.options.transitionDuration})},update:function(){this.msnry.remove(),this.initMasonry(),this.layout()},quicklayout:function(){this.msnry&&(this.$el.find(".pat-masonry").each((function(t,e){l()(e).patMasonry("quicklayout")})),this.msnry.layout())},layout:function(){this.$el.removeClass("masonry-ready"),this.msnry.on("layoutComplete",function(){this.$el.addClass("masonry-ready")}.bind(this)),this.msnry.layout(),this.quicklayout()},getTypeCastedValue:function(t){var e=Number(t);return isNaN(e)?t||0:e}});const Mt=new c.A("fullscreen");Mt.addArgument("nav-item-selector","li");m.A.extend({name:"menu",trigger:".pat-menu",timer:null,init:function(t,e){this.options=Mt.parse(this.$el,e);var s=this;t.find(this.options.navItemSelector).each((function(){var t=l()(this);t.addClass("closed").on("mouseover",s.mouseOverHandler.bind(s)).on("mouseout",s.mouseOutHandler.bind(s)),t.children(s.options.navItemSelector).length>0&&t.addClass("hasChildren")}))},openMenu:function(t){this.timer&&(clearTimeout(this.timer),this.timer=null),(t=l()(t)).hasClass("open")||(t.siblings(".open").each(function(){this.closeMenu(this.$el)}.bind(this)),t.addClass("open").removeClass("closed"))},closeMenu:function(t){l()(t).find(".open").addBack().removeClass("open").addClass("closed")},mouseOverHandler:function(t){this.openMenu(t.target)},mouseOutHandler:function(t){this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout(function(){this.closeMenu(t.target)}.bind(this),1e3)}});const qt=n.A.getLogger("scroll-marker"),Dt=new c.A("scroll-marker");Dt.addArgument("in-view-class","in-view"),Dt.addArgument("current-class","current"),Dt.addArgument("current-content-class","scroll-marker-current"),Dt.addArgument("side","top",["top","bottom","middle","auto"]),Dt.addArgument("distance","50%"),Dt.addArgument("visibility",null,[null,"none","most-visible"]),Dt.addArgument("selector","a[href^='#']");class Ot extends L.m{static name="scroll-marker";static trigger=".pat-scroll-marker";static parser=(()=>Dt)();parser_group_options=!1;set_current_disabled=!1;init(){this.observables=new Map([...v.A.querySelectorAllAndMe(this.el,this.options.selector)].map((t=>[t.hash.split("#")[1],{link:t,target:document.querySelector(v.A.escape_css_id(t.hash))}])).filter((t=>t[1].target)));const t=this.observables.values().next();if(!t.value)return;this.scroll_container=v.A.find_scroll_container(t.value.target,"y",window);const e=void 0!==this.scroll_container.innerHeight?this.scroll_container.innerHeight:this.scroll_container.clientHeight;this.scroll_marker_distance=f.A.parseLength(this.options.distance,e),qt.debug("scroll_container: ",this.scroll_container),qt.debug("scroll_container_height: ",e),qt.debug("distance: ",this.options.distance),qt.debug("distance parsed: ",this.scroll_marker_distance),qt.debug("side: ",this.options.side),qt.debug("visibility: ",this.options.visibility),this.debounced_scroll_marker_current_callback=f.A.debounce(this.scroll_marker_current_callback.bind(this),200,{timer:null},!1),this.callback_cnt=0;const s=new IntersectionObserver(this.scroll_marker_callback.bind(this),{root:this.scroll_container===window?null:this.scroll_container,threshold:f.A.threshold_list(10)});for(const t of this.observables.values())s.observe(t.target)}scroll_marker_callback(t){qt.debug("cnt: ",this.callback_cnt++),qt.debug("entries: ",t);for(const e of t){const t=e.target.getAttribute("id"),s=this.observables.get(t);s&&(e.isIntersecting?s.link.classList.add(this.options["in-view-class"]):s.link.classList.remove(this.options["in-view-class"]))}this.set_current_disabled||this.debounced_scroll_marker_current_callback()}scroll_marker_current_callback(){for(const t of this.observables.values())t.link.classList.remove(this.options["current-class"]),t.target.classList.remove(this.options["current-content-class"]);let t=[...this.observables.values()].map((t=>t.target));if(qt.debug("items_by_weight initial: ",t),"most-visible"===this.options.visibility){const e=new Map(t.map((t=>[t,v.A.get_visible_ratio(t,this.scroll_container)])));qt.debug("ratio_map: ",e),t.sort(((t,s)=>{const i=e.get(t),n=e.get(s);return i>n?-1:i<n?1:0})),qt.debug("items_by_weight per ratio: ",t);const s=e.get(t[0]);t=t.filter((t=>e.get(t)>=s)),qt.debug("items_by_weight filtered: ",t),qt.debug("ratio item 0: ",s)}t.sort(((t,e)=>{let s,i;const n=t.getBoundingClientRect(),a=e.getBoundingClientRect(),o=this.scroll_marker_distance;switch(this.options.side){case"top":s=Math.abs(n.top-o),i=Math.abs(a.top-o);break;case"bottom":s=Math.abs(n.bottom-o),i=Math.abs(a.bottom-o);break;case"middle":s=Math.abs((n.top-n.bottom)/2-o),i=Math.abs((a.top-a.bottom)/2-o);break;default:s=Math.min(Math.abs(n.top-o),Math.abs(n.bottom-o)),i=Math.min(Math.abs(a.top-o),Math.abs(a.bottom-o))}return s<i?-1:s>i?1:0})),qt.debug("items_by_weight per distance: ",t);const e=t[0],s=this.observables.get(e?.getAttribute("id"))?.link;qt.debug("nearest: ",e),qt.debug("nearest_link: ",s),s&&(s.classList.add(this.options["current-class"]),e.classList.add(this.options["current-content-class"]))}}i.A.register(Ot);var It=Ot;const Nt=n.A.getLogger("navigation"),zt=new c.A("navigation");zt.addArgument("item-wrapper","li"),zt.addArgument("in-path-class","navigation-in-path"),zt.addArgument("in-view-class","in-view"),zt.addArgument("current-class","current"),zt.addArgument("current-content-class","navigation-current"),zt.addArgument("scroll-item-side","top",["top","bottom","middle","auto"]),zt.addArgument("scroll-item-distance","50%"),zt.addArgument("scroll-item-visibility",null,[null,"none","most-visible"]),zt.addArgument("scroll-trigger-selector","a[href^='#'].scroll-trigger");class Pt extends L.m{static name="navigation";static trigger=".pat-navigation";static parser=(()=>zt)();parser_group_options=!1;init(){this.$el=l()(this.el),this.init_listeners(),this.init_markings(),f.A.is_option_truthy(this.options["scroll-trigger-selector"])&&(this.scroll_marker=new It(this.el,{"current-class":this.options["current-class"],"current-content-class":this.options["current-content-class"],"in-view-class":this.options["in-view-class"],side:this.options["scroll-item-side"],distance:this.options["scroll-item-distance"],visibility:this.options["scroll-item-visibility"],selector:this.options["scroll-trigger-selector"]}),this.debounced_scroll_marker_enabler=f.A.debounce((()=>{Nt.debug("Enable scroll-marker."),this.scroll_marker.set_current_disabled=!1,y.A.remove_event_listener(this.scroll_marker.scroll_container===window?document:this.scroll_marker.scroll_container,"pat-navigation__scroll_marker_enable")}),200))}init_listeners(){const t=this.options["current-class"];y.A.add_event_listener(this.el,"click","pat_navigation_click_handler",(t=>{const e=t.target.closest("a");if(e.matches(":not(.pat-inject)")){if(this.clear_items(),this.mark_current(e),!f.A.is_option_truthy(this.options["scroll-trigger-selector"]))return;Nt.debug("Disable scroll-marker."),this.scroll_marker.set_current_disabled=!0,this.debounced_scroll_marker_enabler(),y.A.add_event_listener(this.scroll_marker.scroll_container===window?document:this.scroll_marker.scroll_container,"scroll","pat-navigation__scroll_marker_enable",this.debounced_scroll_marker_enabler.bind(this))}})),this.$el.on("patterns-inject-triggered","a",(t=>{this.clear_items(),this.mark_current(t.target)})),this.$el.on("patterns-injected-scanned",(()=>{this.init_markings()})),this.el.classList.contains("navigation-load-current")&&(this.$el.on("patterns-injected-scanned",(e=>{const s=e.target;s.matches(`a.${t}`)?s.click():s.matches(`.${t}`)&&s.querySelector("a")?.click()})),this.el.querySelector(`a.${t}, .${t} a`)?.click())}init_markings(){this.el.querySelector(`.${this.options["current-class"]}`)?(Nt.debug("Mark navigation items based on existing current class"),this.mark_current()):(Nt.debug("Mark navigation items based on URL pattern."),this.mark_items_url())}get_parent(t,e,s){let i=t.parentNode;for(;i;){if(i===s||i===document)return null;if(i.matches(e))return i;i=i.parentNode}}mark_current(t){const e=t?[t]:this.el.querySelectorAll(".current > a, a.current");for(const t of e){t.classList.add(this.options["current-class"]);const e=t.closest(this.options["item-wrapper"]);e?.classList.add(this.options["current-class"]),this.mark_in_path(e||t),Nt.debug("Statically set current item marked as current",t);for(const t of[...document.querySelectorAll(`.${this.options["current-content-class"]}`)])t.classList.remove(this.options["current-content-class"]);if(t.matches("a[href^='#']")){const e=document.querySelector(v.A.escape_css_id(t.hash));e&&e.classList.add(this.options["current-content-class"])}}}mark_in_path(t){let e=this.get_parent(t,this.options["item-wrapper"],this.el);for(;e;){if(!e.matches(`.${this.options["current-class"]}`)){e.classList.add(this.options["in-path-class"]);for(const t of[...e.children].filter((t=>t.matches("a"))))t.classList.add(this.options["in-path-class"]);Nt.debug("Marked item as in-path",e)}e=this.get_parent(e,this.options["item-wrapper"],this.el)}}mark_items_url(t){const e=t||this.base_url(),s=this.prepare_url(e),i=this.prepare_url(document.body.dataset?.portalUrl),n=this.el.querySelectorAll("a");for(const t of n){const n=this.prepare_url(new URL(t.getAttribute("href",""),e)?.href),a=t.closest(this.options["item-wrapper"]);if(n===s)t.classList.add(this.options["current-class"]),a?.classList.add(this.options["current-class"]),this.mark_in_path(t);else{if(0!==s.indexOf(`${n}/`)||n===i)continue;t.classList.add(this.options["in-path-class"]),a?.classList.add(this.options["in-path-class"])}}}clear_items(){const t=this.el.querySelectorAll(`.${this.options["in-path-class"]}, .${this.options["current-class"]}`);for(const e of t)e.classList.remove(this.options["in-path-class"]),e.classList.remove(this.options["current-class"])}prepare_url(t){return t?.replace("/view","").replaceAll("@@","").replace(/\/$/,"")}base_url(){return this.prepare_url(document.querySelector('head link[rel="canonical"]')?.href||window.location.href)}}i.A.register(Pt);const Ht=n.A.getLogger("notification"),Rt=new c.A("notification");Rt.addArgument("type","static",["static","banner"]),Rt.addArgument("healing","5s"),Rt.addArgument("controls","icons",["icons","buttons","none"]),Rt.addArgument("class"),Rt.addArgument("close-text","Close");m.A.extend({name:"notification",trigger:".pat-notification",count:0,init(t,e){this.el.matches("a, form")?this._init_inject(t,e):this._init_notification(t,e)},_init_notification(t,e){this.count++;const s=t[0],n=Rt.parse(t,e),a=n.closeText,o=document.createElement("div");if(o.setAttribute("id",`pat-notification-${this.count}`),o.setAttribute("class","pat-notification-panel"),v.A.wrap(s,o),y.A.add_event_listener(o,"mouseenter","notification__mouseenter",this.onMouseEnter.bind(this)),y.A.add_event_listener(o,"mouseleave","notification__mouseleave",this.onMouseLeave.bind(this)),n.class&&o.classList.add(n.class),Array.isArray(n.controls)||(n.controls=[n.controls]),n.controls.indexOf("icons")>=0&&o.append(v.A.create_from_string(`<button type="button" class="close-panel">${a}</button>`)),n.controls.indexOf("buttons")>=0&&o.append(v.A.create_from_string(`<div class="button-bar">\n                    <button type="button" class="close-panel">${a}</button>\n                </div>`)),o.querySelector(".close-panel")?(y.A.add_event_listener(o,"close-panel","pat-notification--close-panel",this.onClick.bind(this)),i.A.scan(o,["close-panel"])):y.A.add_event_listener(o,"click","notification__click",this.onClick.bind(this)),"banner"===n.type){let t=document.querySelector("#pat-notification-banners");t||(t=document.createElement("div"),t.setAttribute("id","pat-notification-banners"),t.setAttribute("class","pat-notification-container"),document.body.append(t)),t.append(o)}let r=n.healing;"persistent"!==r&&(r=f.A.parseTime(r)),Ht.debug(`Healing value is: ${r}`),v.A.set_data(o,"healing",r),t.animate({opacity:1},"fast",(()=>{this.init_remove_timer(o)}))},_init_inject(t){t[0].addEventListener("pat-inject-success",(t=>{const e=l()(t.target),s=Rt.parse(e,{type:"banner"}),i=l()("#pat-notification-temp").contents().wrapAll("<div/>").parent().addClass("pat-notification");e.is("a")?e.after(i):i.prependTo(e),this._init_notification(i,s),setTimeout((()=>{l()("#pat-notification-temp").remove()}),0)})),P.init(t,{target:"#pat-notification-temp"})},init_remove_timer(t){const e=v.A.get_data(t,"healing");"persistent"!==e&&(clearTimeout(v.A.get_data(t,"timer")),v.A.set_data(t,"timer",setTimeout((()=>{Ht.debug("Timeout reached."),this.remove(t)}),e)))},onMouseEnter(t){v.A.set_data(t.target,"persistent",!0)},onMouseLeave(t){const e=t.target;v.A.set_data(e,"persistent",!1),this.init_remove_timer(e)},onClick(t){const e=t.target.closest(".pat-notification-panel");v.A.set_data(e,"persistent",!1),this.remove(e)},remove(t){if(!0===v.A.get_data(t,"persistent")||!0===v.A.get_data(t,"removing"))return;const e=l()(t);v.A.set_data(t,"removing",!0),e.stop(!0).animate({opacity:0},{step(){if(!0===v.A.get_data(t,"persistent"))return clearTimeout(v.A.get_data(t,"timer")),e.stop(!0).animate({opacity:1}),v.A.set_data(t,"removing",!1),!1},complete(){e.off(".pat-notification"),e.slideUp("slow",(()=>{e.remove()}))}})}});const Ft=n.A.getLogger("push"),Ut=new c.A("push");Ut.addArgument("url",null),Ut.addArgument("push-id",null),Ut.addArgument("mode","replace",["replace","append","desktop-notification"]);const Wt="pat-push__desktop-notification__request_for_permission";m.A.extend({name:"push",trigger:".pat-push",init(){this.options=Ut.parse(this.el,this.options),"desktop-notification"!==this.options.mode||Notification.permission in["denied","granted"]||y.A.add_event_listener(document,"click",Wt,this.desktop_notification__request_permission.bind(this)),document.body.addEventListener("push",(t=>{Ft.debug("received push marker");const e=t?.detail?.body;e===this.options.pushId&&("desktop-notification"===this.options.mode?this.desktop_notification():"FORM"===this.el.tagName?this.el.dispatchEvent(y.A.submit_event()):this.perform_inject())}))},async perform_inject(){let t=null;try{const e=await fetch(this.options.url);t=await e.text()}catch(t){Ft.error(`Could not fetch from ${this.options.url} on push-id ${this.options.pushId}.`)}null!==t&&("append"===this.options.mode?this.el.insertAdjacentHTML("beforeend",t):this.el.innerHTML=t,i.A.scan(this.el))},async desktop_notification__request_permission(){await f.A.timeout(1e3),Notification.permission in["denied","granted"]||Notification.requestPermission((t=>{y.A.remove_event_listener(document,Wt),"permission"in Notification||(Notification.permission=t)}))},async desktop_notification(){if(!("Notification"in window))return void Ft.error("This browser does not support notifications.");if("granted"!==Notification.permission)return;let t=[];try{const e=await fetch(this.options.url);t=await e.json()}catch(t){Ft.error(`Could not fetch from ${this.options.url} on push-id ${this.options.pushId}.`)}if(t?.length)for(const e of t){const t=new Notification(e.title,e);e.data?.url&&t.addEventListener("click",(()=>{window.open(e.data.url,"_self")}))}}});const Bt=new c.A("scroll-box");Bt.addArgument("timeout-stop",600);m.A.extend({name:"scroll-box",trigger:".pat-scroll-box",scroll_listener:null,last_known_scroll_position:0,timeout_id__scroll_stop:null,init(){const t=this.el;if(this.options=Bt.parse(t),this.scroll_listener=t===document.body?window:t,!this.scroll_listener===window&&(-1===["auto","scroll"].indexOf(getComputedStyle(t).overflow)||-1===["auto","scroll"].indexOf(getComputedStyle(t).overflowY)))return;let e=!1;y.A.add_event_listener(this.scroll_listener,"scroll","pat-scroll-box--scroll_listener",(()=>{e||(window.requestAnimationFrame((()=>{this.set_scroll_classes(),window.clearTimeout(this.timeout_id__scroll_stop),this.timeout_id__scroll_stop=window.setTimeout((()=>{this.clear_scrolling_classes()}),this.options.timeoutStop),e=!1})),e=!0)})),this.set_scroll_classes()},set_scroll_classes(){const t=v.A.get_scroll_y(this.scroll_listener),e=this.scroll_listener===window?window.innerHeight:this.el.clientHeight,s=[];t<this.last_known_scroll_position?(s.push("scroll-up"),s.push("scrolling-up")):this.last_known_scroll_position<t&&(s.push("scroll-down"),s.push("scrolling-down")),t<=0?s.push("scroll-position-top"):e+t>=this.el.scrollHeight&&s.push("scroll-position-bottom"),this.el.classList.remove("scroll-up","scroll-down","scrolling-up","scrolling-down","scroll-position-top","scroll-position-bottom"),this.el.classList.add(...s),this.last_known_scroll_position=t},clear_scrolling_classes(){this.el.classList.remove("scrolling-up","scrolling-down")}}),s(55028);const Vt="__patternslib__pat_selectbox__reset";m.A.extend({name:"selectbox",trigger:".pat-select",all_selects:[],init(){const t=this.el;t.form&&!t[Vt]&&(l()(t.form).on("reset.pat-selectbox",(()=>this.form_reset())),t[Vt]=!0),this.all_selects=v.A.querySelectorAllAndMe(t,"select:not([multiple])");for(const t of this.all_selects)t.parentNode.matches("label")||v.A.wrap(t,document.createElement("span")),this.change_select(t),l()(t).on("change.pat-selectbox",(()=>this.change_select(t)))},destroy(t){return t.off(".pat-selectbox")},form_reset(){setTimeout((()=>{for(const t of this.all_selects)this.change_select(t)}),50)},change_select(t){t.parentNode.setAttribute("data-option",t.querySelector("option:checked")?.text||""),t.parentNode.setAttribute("data-option-value",t.value)}});function Yt(){this._cache=null,window.addEventListener&&window.addEventListener("popstate",this._reset)}Yt.prototype={space_pattern:/\+/g,keyvalue_pattern:/^(.+?)(?:=(.*))/,_reset:function(){this._cache=null},_decodeQS:function(t){return decodeURIComponent(t.replace(this.space_pattern," "))},_parse:function(t){var e=/\?(.+)/.exec(t),s={};if(null===e)return s;var i,n,a,o,r=e[1].split("&");for(i=0;i<r.length;i++)null===(n=this.keyvalue_pattern.exec(r[i]))?(a=this._decodeQS(r[i]),o=null):(a=this._decodeQS(n[1]),o=this._decodeQS(n[2])),void 0===s[a]&&(s[a]=[]),s[a].push(o);return s},get:function(){return null===this._cache&&(this._cache=this._parse(window.location.search)),this._cache}};var Gt=new Yt,Jt={UrlArgumentParser:Yt,parameters:Gt.get.bind(Gt)},Xt=l().cleanData;l().cleanData=function(t){var e,s;for(e=0;void 0!==(s=t[e]);e++)l()(s).triggerHandler("destroy");Xt.call(this,arguments)};var Kt={name:"slides",trigger:".pat-slides",setup:function(){l()(document).on("patterns-injected",f.A.debounce(Kt._reset,100))},async init(t){if(this.el.querySelector(".slide")){await s.e(95502).then(s.t.bind(s,95502,23));var e=Jt.parameters();if(void 0!==e.slides){var i=Kt._collapse_ids(e.slides);i&&Kt._remove_slides(t,i)}return t.each((function(){var t=new window.Presentation(this);l()(this).data("pat-slide",t).on("SlideDisplay",Kt._onSlideDisplay).on("SlideHide",Kt._onSlideHide)})),Kt._hook(t)}},_onSlideDisplay:function(t){var e=t.originalEvent.detail.slide.element;l()("video",e).each((function(){this.paused&&(this.currentTime=0,this.play())}))},_onSlideHide:function(t){var e=t.originalEvent.detail.slide.element;l()("video",e).each((function(){this.paused||this.pause()}))},_collapse_ids:function(t){var e=[];return t.forEach((function(t){t&&(e=e.concat(t.split(",").filter((function(t){return!!t}))))})),e},_remove_slides:function(t,e){for(var s=function(t,s){return-1===e.indexOf(s.id)},i=0;i<t.length;i++){t.eq(i).find(".slide[id]").filter(s).remove()}},_hook:function(t){return t.off("destroy.pat-slide").on("destroy.pat-slide",f.A.debounce(Kt._reset,100))},_reset:function(){var t=l()(this).closest(".pat-slides").data("pat-slide");t&&t.scan(),Kt._hook(l()(this.trigger))}};Kt.setup(),i.A.register(Kt);const Qt=new c.A("sortable");Qt.addArgument("selector","li"),Qt.addArgument("drag-class","dragged"),Qt.addArgument("drop"),Qt.addAlias("dragClass","drag-class");m.A.extend({name:"sortable",trigger:".pat-sortable",init:function(){window.__patternslib_import_styles&&s.e(82913).then(s.bind(s,82913)),this.$form=this.$el.closest("form"),this.options=Qt.parse(this.$el,!1),this.recordPositions().initScrolling(),this.$el.on("pat-update",this.onPatternUpdate.bind(this)),this.$el.on("patterns-injected",this.recordPositions.bind(this))},onPatternUpdate:function(t,e){"clone"===e?.pattern&&"added"===e?.action&&this.recordPositions()},recordPositions:function(){return this.$sortables=this.$el.children().filter(this.options.selector),this.$sortables.each((function(t){l()(this).data("patterns.sortable",{position:t}),this.classList.add("sortable-item")})),this.addHandles(),this},addHandles:function(){for(const t of this.$sortables){const e=v.A.querySelectorAllAndMe(t,".sortable-handle");if(0===e.length){const s=document.createElement("a");s.textContent="⇕",s.classList.add("sortable-handle"),s.setAttribute("draggable","true"),s.setAttribute("href","#"),s.setAttribute("aria-label","Drag to reorder"),t.appendChild(s),e.push(s)}for(const t of e)y.A.add_event_listener(t,"click","pat-sortable--click",(t=>{t.preventDefault()})),y.A.add_event_listener(t,"dragstart","pat-sortable--dragstart",this.onDragStart.bind(this)),y.A.add_event_listener(t,"dragend","pat-sortable--dragend",this.onDragEnd.bind(this))}},initScrolling:function(){var t=l()('<div id="pat-scroll-up">&nbsp;</div>'),e=l()('<div id="pat-scroll-dn">&nbsp;</div>'),s=l()().add(t).add(e);return t.css({top:0}),e.css({bottom:0}),s.css({position:"fixed",zIndex:999999,height:32,left:0,right:0}),s.on("dragover",(function(t){if(t.preventDefault(),!l()("html,body").is(":animated")){var e=l()(window).scrollTop()+("pat-scroll-up"===l()(this).attr("id")?-32:32);l()("html,body").animate({scrollTop:e},50,"linear")}})),this},onDragEnd:function(t){const e=l()(t.target.closest(this.options.selector));e.removeClass(this.options.dragClass),this.$sortables.off(".pat-sortable"),this.$el.off(".pat-sortable"),l()("#pat-scroll-up, #pat-scroll-dn").detach();var s=this.submitChangedAmount(l()(t.target).closest(this.options.selector));this.options.drop&&this.options.drop(e,s),e.trigger("pat-update",{pattern:"sortable",action:"changed",dom:e[0]})},submitChangedAmount:function(t){var e=this.$form.find(".sortable-amount");if(0!==e.length){var s=t.data("patterns.sortable").position;this.recordPositions();var i=t.data("patterns.sortable").position,n=Math.abs(i-s),a=i>s?"down":"up";return this.$form.length>0&&(e.val(n),"up"==a?t.find(".sortable-button-up").click():t.find(".sortable-button-down").click()),n}},onDragStart:function(t){const e=l()(t.target.closest(this.options.selector));var s=this;t.dataTransfer&&(t.dataTransfer.setData("Text",""),t.dataTransfer.effectAllowed=["move"],"setDragImage"in t.dataTransfer&&t.dataTransfer.setDragImage(e[0],0,0)),e.addClass(this.options.dragClass),this.$el.on("dragover.pat-sortable",function(t){if(t.preventDefault(),!this.$el.is(":animated")){var e=t.originalEvent.clientY+l()("body").scrollTop();e-this.$el.safeOffset().top<32?this.$el.animate({scrollTop:this.$el.scrollTop()-32},50,"linear"):this.$el.safeOffset().top+this.$el.height()-e<32&&this.$el.animate({scrollTop:this.$el.scrollTop()+32},50,"linear")}}.bind(this)),this.$sortables.on("dragover.pat-sortable",function(t){var i=l()(t.target).closest(s.options.selector),n=i.safeOffset().top-l()(document).scrollTop()+i.height()/2;i.is(e)||(i.removeClass("drop-target-above drop-target-below"),t.originalEvent.clientY>n?i.addClass("drop-target-below"):i.addClass("drop-target-above"),t.preventDefault())}.bind(this)),this.$sortables.on("dragleave.pat-sortable",function(){this.$sortables.removeClass("drop-target-above drop-target-below")}.bind(this)),this.$sortables.on("drop.pat-sortable",(function(t){var i=l()(t.target).closest(s.options.selector);i.is(e)||(i.hasClass("drop-target-below")?i.after(e):i.before(e),i.removeClass("drop-target-above drop-target-below"),t.preventDefault())}))}});const Zt=n.A.getLogger("stacks"),te=new c.A("stacks");te.addArgument("selector","> *[id]"),te.addArgument("transition","none",["none","css","fade","slide"]),te.addArgument("effect-duration","fast"),te.addArgument("effect-easing","swing"),te.addArgument("scroll-selector"),te.addArgument("scroll-offset",0);const ee={timer:null};class se extends L.m{static name="stacks";static trigger=".pat-stacks";static parser=(()=>te)();document=(()=>document)();async init(){if(this.$el=l()(this.el),this.options.scroll?.selector&&"none"!==this.options.scroll.selector){const t=(await Promise.resolve().then(s.bind(s,55028))).default;this.scroll=new t(this.el,{trigger:"manual",selector:this.options.scroll.selector,offset:this.options.scroll?.offset}),await y.A.await_pattern_init(this.scroll),this.debounce_scroll=f.A.debounce(this.scroll.scrollTo.bind(this.scroll),10,ee)}this._setupStack(),l()(this.document).on("click","a",this._onClick.bind(this))}destroy(){l()(this.document).off("click","a",this._onClick.bind(this))}_setupStack(){let t=this._currentFragment();const e=this.$el.find(this.options.selector);if(this.$active=[],e.length<2)return void Zt.warn("Stacks pattern: must have more than one sheet.",this.$el[0]);if(t)try{this.$active=e.filter("#"+t)}catch(e){t=void 0}this.$active.length||(this.$active=e.first(),t=this.$active[0].id);const s=e.not(this.$active);f.A.hideOrShow(this.$active,!0,{transition:"none"},this.name),f.A.hideOrShow(s,!1,{transition:"none"},this.name),this._updateAnchors(t)}_base_URL(){return this.document.URL.split("#")[0]}_currentFragment(){const t=this.document.URL.split("#");return 1===t.length?null:t[t.length-1]}_onClick(t){const e=this._base_URL(),s=t.currentTarget.href.split("#");e===s[0]&&s[1]&&this.$el.has(`#${s[1]}`).length&&(t.preventDefault(),this._updateAnchors(s[1]),this._switch(s[1]),this.debounce_scroll?.(),l()(t.target).trigger("pat-update",{pattern:"stacks",action:"attribute-changed",dom:this.$active[0],originalEvent:t}))}_updateAnchors(t){const e=this.$el.find(this.options.selector),s=this._base_URL();for(const i of e){const e=l()(`a[href="${s}#${i.id}"], a[href="#${i.id}"]`);i.id===t?e.addClass("current"):e.removeClass("current")}}_switch(t){if(this.$active=this.$el.find("#"+t),!this.$active.length||this.$active.hasClass("visible"))return;const e=this.$el.find(this.options.selector).not(this.$active);f.A.hideOrShow(e,!1,this.options,this.name),f.A.hideOrShow(this.$active,!0,this.options,this.name)}}i.A.register(se);const ie=n.A.getLogger("subform");m.A.extend({name:"subform",trigger:".pat-subform",init(t){y.A.add_event_listener(t[0],"submit","pat-subform--submit",this.submit.bind(this)),t.find("input").on("keyup keypress keydown",this.keyboard_handler.bind(this)),t.find("button[type=submit]").on("click",this.submitClicked.bind(this))},destroy(t){y.A.remove_event_listener(t[0],"pat-subform--submit")},scopedSubmit(t){const e=t.parents("form"),s=e.find(":input").filter((function(){return!l()(this).is(t.find("*"))}));ie.debug("Hiding unwanted elements from submission.");const i=s.map((function(){const t=l()(this).attr("name");return t||0}));s.each((function(){l()(this).attr("name","")})),t.is(".pat-inject")||t.is(".pat-modal")?P.submitSubform(t):e[0].submit(),ie.debug("Restoring previous state."),s.each((function(t){i[t]&&l()(this).attr("name",i[t])}))},submit(t){t.stopPropagation();const e=l()(t.target),s=e.find("button[type=submit][formaction]").first();s.length?s.trigger("click"):this.scopedSubmit(e)},keyboard_handler(t){if(13!=t.keyCode)return;const e=l()(t.target).parents(".pat-subform");e.is(".pat-autosubmit")&&e[0].dispatchEvent(y.A.submit_event())},submitClicked(t){t.preventDefault(),t.stopPropagation(),g.onClickSubmit(t);const e=l()(t.target),s=e.parents(".pat-subform").first(),i=e.attr("formaction");if(i)if(s.is(".pat-inject")){const t=s.data("pat-inject");s.data("pat-inject",P.extractConfig(s,{url:i})),this.scopedSubmit(s),s.data("pat-inject",t)}else s.is(".pat-modal")?(s.data("pat-inject",[l().extend(s.data("pat-inject")[0],{url:i})]),this.scopedSubmit(s)):(s.parents("form").attr("action",i),this.scopedSubmit(s));else this.scopedSubmit(s)}});const ne=n.A.getLogger("pat.switch"),ae=new c.A("switch");ae.addArgument("selector"),ae.addArgument("remove"),ae.addArgument("add"),ae.addArgument("store","none",["none","session","local"]);m.A.extend({name:"switch",trigger:".pat-switch",init(){this.options=this._validateOptions(ae.parse(this.el,this.options,!0)),y.A.add_event_listener(this.el,"click","pat-switch--on-click",(t=>{"A"===t.tagName&&t.preventDefault(),this._go()}));for(const t of this.options)if("none"!==t.store){t._storage=("local"===t.store?F.A.local:F.A.session)("switch");const e=t._storage.get(t.selector);e&&e.remove===t.remove&&e.add===t.add&&this._update(t.selector,e.remove,e.add)}},destroy(){y.A.remove_event_listener(this.el,"pat-switch--on-click")},execute(){this._go()},_go(){for(const t of this.options)this._update(t.selector,t.remove,t.add),t._storage&&t._storage.set(t.selector,{remove:t.remove,add:t.add});l()(this.el).trigger("resize")},_validateOptions:function(t){var e=[];let s=!1;for(var i=0;i<t.length;i++){var n=t[i];n.selector&&(n.remove||n.add)?e.push(n):(ne.error("Switch pattern requires selector and one of add or remove.",this.el),s=!0)}return e.length||s||ne.error("Switch without options cannot be initialized.",this.el),e},_update:function(t,e,s){const i=document.querySelectorAll(t);for(const t of i)e&&f.A.removeWildcardClass(t,e),s&&t.classList.add(s),l()(t).trigger("pat-update",{pattern:"switch",action:"attribute-changed",dom:t})}});const oe=new c.A("syntax-highlight");oe.addArgument("language","html"),oe.addArgument("theme","dark",["dark","light"]),oe.addArgument("features",null,["line-highlight","line-numbers"],!0);class re extends L.m{static name="syntax-highlight";static trigger=".pat-syntax-highlight";static parser=(()=>oe)();async init(){let t=this.el;const e=[...this.el.children].filter((t=>"CODE"===t.tagName))?.[0];let i;e&&(t=e),i="light"===this.options.theme||t.classList.contains("light-bg")||this.el.classList.contains("light-bg")?"stackoverflow-light":"dark"===this.options.theme?"stackoverflow-dark":this.options.theme,s(21132)(`./${i}.css`);const n=(await s.e(45981).then(s.t.bind(s,45981,23))).default;let a,o=[...t.classList,...this.el.classList].filter((t=>t.startsWith("language-")||t.startsWith("lang-")))?.[0]?.replace("language-","")?.replace("lang-","");o=o||this.options.language||"html",this.el.classList.add(`language-${o}`),t.classList.add(`language-${o}`),t.classList.add("hljs");const r=f.A.unescape_html(t.innerHTML).trim();if(o)try{const t={atom:"xml",html:"xml",plist:"xml",rss:"xml",svg:"xml",wsf:"xml",xhtml:"xml",xjb:"xml",xsd:"xml",xsl:"xml"}[o]||o,e=(await s(32908)(`./${t}`)).default;n.registerLanguage(o,e),a=n.highlight(r,{language:o}).value}catch{a=n.highlightAuto(r).value}else a=n.highlightAuto(r).value;t.innerHTML=a}}i.A.register(re);const le=n.A.getLogger("tabs");m.A.extend({name:"tabs",trigger:".pat-tabs",jquery_plugin:!0,allowed_update_patterns:["stacks","switch","auto-scale","grid","equaliser","masonry","zoom"],init(){const t=f.A.debounce(this.adjust_tabs.bind(this),10);let e=f.A.get_bounds(this.el.parentElement).width;this.resize_observer=new ResizeObserver((s=>{const i=parseInt(s[0].contentRect.width,10);Math.abs(i-e)>3&&(le.debug("Entering resize observer"),e=i,t())})),this.resize_observer.observe(this.el.parentElement),l()("body").on("pat-update",((e,s)=>{this.allowed_update_patterns.includes(s?.pattern)&&(le.debug("pat-update received."),t())})),t()},async adjust_tabs(){le.debug("Entering adjust_tabs"),le.debug("Element:"),le.debug(this.el),this.el.classList.remove("tabs-ready"),this.el.classList.remove("tabs-wrapped"),this._flatten_tabs(),this.dimensions=this._get_dimensions(),await this._adjust_tabs(),this.el.classList.add("tabs-ready")},_flatten_tabs(){const t=this.el.querySelector(".extra-tabs");t&&(this.el.append(...t.children),t.remove())},_get_dimensions(){const t=f.A.get_bounds(this.el),e=t.x,s=t.width,i=v.A.get_css_value(this.el,"border-left",!0),n=v.A.get_css_value(this.el,"padding-left",!0),a=v.A.get_css_value(this.el,"border-right",!0),o=v.A.get_css_value(this.el,"padding-right",!0),r=s-i-n-o-a,l={x:e,max_x:t.x+r+i+n,width:s,max_width:r,border_left:i,border_right:a,padding_left:n,padding_right:o};return le.debug("dimensions:"),le.debug(l),l},async _adjust_tabs(){le.debug("Entering _adjust_tabs");const t=[...this.el.children].filter((t=>v.A.is_visible(t)&&"absolute"!==v.A.get_css_value(t,"position"))),e=t.filter((t=>!t.classList.contains("extra-tabs")));if(0===e.length)return void le.debug("no children, exit _adjust_tabs.");let s,i=!0;for(const e of t){const t=f.A.get_bounds(e),n=t.x,a=t.width+v.A.get_css_value(this.el,"margin-right",!0);if(le.debug("Item:"),le.debug(e),le.debug(`\n                item dimensions: x: ${n},\n                width: ${a},\n                max x: ${n+a},\n                last_x: ${s}\n            `),s&&s-3>n||n+a-3>this.dimensions.max_x){i=!1;break}s=n+a}if(i)return void le.debug("tabs fit, exit _adjust_tabs.");le.debug("Breaks into new line.");let n=this.el.querySelector(".extra-tabs");n||(le.debug("Creating .extra-tabs element."),n=document.createElement("span"),n.classList.add("extra-tabs"),this.el.classList.add("closed"),this.el.classList.add("tabs-wrapped"),n.addEventListener("click",(()=>{this.el.classList.contains("open")?(this.el.classList.remove("open"),this.el.classList.add("closed")):(this.el.classList.remove("closed"),this.el.classList.add("open"))})),this.el.append(n),await f.A.animation_frame(),this.dimensions=this._get_dimensions()),le.debug("Prepend last tab to .extra_tabs."),n.prepend(e.pop()),await f.A.animation_frame(),await this._adjust_tabs()}});const ce=n.A.getLogger("pat.toggle"),de=new c.A("toggle");function ue(t){this.values=t.slice(0),this.values.length>1&&this.values.push(t[0])}function he(t){this.attribute=t}de.addArgument("selector"),de.addArgument("event"),de.addArgument("attr","class"),de.addArgument("value"),de.addArgument("store","none",["none","session","local"]),de.addAlias("attribute","attr"),ue.prototype={toggle(t){const e=this.get(t),s=this.next(e);return this.set(t,s),s},get(t){const e=t.className.split(/\s+/);for(const t of this.values)if(-1!==e.indexOf(t))return t;return null},set(t,e){const s=this.values;let i=t.className.split(/\s+/);i=i.filter((t=>t&&-1===s.indexOf(t))),e&&i.push(e),t.className=i.join(" "),l()(t).trigger("pat-update",{pattern:"toggle",action:"attribute-changed",dom:t})},next(t){if(1===this.values.length)return t?null:this.values[0];for(let e=0;e<this.values.length-1;e++)if(this.values[e]===t)return this.values[e+1];return this.values[0]}},he.prototype=new ue([]),he.prototype.get=function(t){return!!t[this.attribute]},he.prototype.set=function(t,e){e?t[this.attribute]=e:t.removeAttribute(this.attribute)},he.prototype.next=function(t){return!t};m.A.extend({name:"toggle",trigger:".pat-toggle",init(){const t=this._validateOptions(de.parse(this.$el,!0));if(this.options=t,!t.length)return;let e;for(const s of t){if(s.value_storage){const t=l()(s.selector);if(!t.length)continue;const e=s.toggler.get(t[0]),i=s.value_storage.get();if(e!==i&&null!==i)for(const e of t)s.toggler.set(e,i)}e=s.event?s.event:"click"}this.click_debouncer=f.A.debounce((()=>{this._onClick()}),1),this.$el.off(".toggle").on(`${e||"click"}.toggle`,(()=>this.click_debouncer())).on("keypress.toggle",this._onKeyPress.bind(this))},_makeToggler(t){if("class"===t.attr){let e=t.value.split(/\s+/);return e=e.filter((t=>t.length)),new ue(e)}return new he(t.attr)},_validateOptions(t){const e=[];if(!t.length)return e;for(const[s,i]of t.entries())if(i.selector)if("class"!==i.attr&&i.value)ce.warn("Values are not supported attributes other than class.");else if("class"!==i.attr||i.value){if(s&&"none"!==i.store&&(ce.warn("store option can only be set on first argument"),i.store="none"),"none"!==i.store)if(this.el.id)if(F.A.supported){const t=("local"===i.store?F.A.local:F.A.session)(this.name);i.value_storage=new F.A.ValueStorage(t,`${this.el.id}-${s}`)}else ce.warn("state persistance requested, but browser does not support webstorage"),i.store="none";else ce.warn("state persistance requested, but element has no id"),i.store="none";i.toggler=this._makeToggler(i),e.push(i)}else ce.error("Toggle pattern needs values for class attributes.");else ce.error("Toggle pattern requires a selector.");return e},_onClick(){for(const t of this.options){const e=l()(t.selector);if(!e.length)continue;const s=t.toggler,i=s.toggle(e[0]);for(const t of e)s.set(t,i);t.value_storage&&t.value_storage.set(i)}},_onKeyPress(t){"13"===(t.keyCode?t.keyCode:t.which)&&this.$el.trigger("click")}}),s(93392);const pe=n.A.getLogger("pat-validation"),ge=new c.A("validation");ge.addArgument("disable-selector","[type=submit], button:not([type=button])"),ge.addArgument("message-date",""),ge.addArgument("message-datetime",""),ge.addArgument("message-email",""),ge.addArgument("message-max",""),ge.addArgument("message-min",""),ge.addArgument("message-number",""),ge.addArgument("message-required",""),ge.addArgument("message-equality","is not equal to %{attribute}."),ge.addArgument("not-after",null),ge.addArgument("not-before",null),ge.addArgument("equality",null),ge.addArgument("delay",100),ge.addAlias("message-integer","message-number"),ge.addArgument("error-template");const me="__patternslib__input__error__el",fe="__patternslib__input__error__msg";class be extends L.m{static name="validation";static trigger="form.pat-validation";static parser=(()=>ge)();init(){y.A.add_event_listener(this.el,"submit","pat-validation--submit--validator",(t=>{for(const e of this.inputs)pe.debug("Checking input for submit",e,t),this.check_input({input:e,event:t})}),{capture:!0}),this.initialize_inputs(),l()(this.el).on("pat-update",(()=>{this.initialize_inputs()})),this.el.setAttribute("novalidate","")}initialize_inputs(){this.inputs=[...this.el.querySelectorAll("input[name], select[name], textarea[name]")],this.disabled_elements=[...this.el.querySelectorAll(this.options.disableSelector)];for(const[t,e]of this.inputs.entries()){const s=f.A.debounce((t=>{pe.debug("Checking input for event",e,t),this.check_input({input:e,event:t})}),this.options.delay);y.A.add_event_listener(e,"input",`pat-validation--input-${e.name}--${t}--validator`,(t=>s(t))),y.A.add_event_listener(e,"change",`pat-validation--change-${e.name}--${t}--validator`,(t=>s(t))),y.A.add_event_listener(e,"blur",`pat-validation--blur-${e.name}--${t}--validator`,(t=>s(t)))}}check_input(t){let{input:e,event:s,stop:i=!1}=t;if(e.disabled)return;this.set_validity({input:e,msg:""});const n=e.validity;if(s?.submitter?.hasAttribute("formnovalidate"))return;pe.debug(`\n            validity_state.badInput ${n.badInput}\n            validity_state.customError ${n.customError}\n            validity_state.patternMismatch ${n.patternMismatch}\n            validity_state.rangeOverflow ${n.rangeOverflow}\n            validity_state.rangeUnderflow ${n.rangeUnderflow}\n            validity_state.stepMismatch ${n.stepMismatch}\n            validity_state.tooLong ${n.tooLong}\n            validity_state.tooShort ${n.tooShort}\n            validity_state.typeMismatch ${n.typeMismatch}\n            validity_state.valid ${n.valid}\n            validity_state.valueMissing ${n.valueMissing}\n        `);const a=ge.parse(e);if(n.valid){if(a.equality&&this.el.querySelector(`[name=${a.equality}]`)?.value!==e.value){const t=a.message.equality||"The value is not equal to %{attribute}";this.set_validity({input:e,msg:t,attribute:a.equality})}else if(a.not.after||a.not.before){const t=a.message.date||a.message.datetime,s="The date must be after %{attribute}",n="The date must be before %{attribute}";let o,r,l,c;if(a.not.after&&(f.A.is_iso_date_time(a.not.after,!0)?o=new Date(a.not.after):(r=document.querySelector(a.not.after),o=r?.value?new Date(r?.value):void 0),o=isNaN(o)?null:o),a.not.before&&(f.A.is_iso_date_time(a.not.before,!0)?l=new Date(a.not.before):(c=document.querySelector(a.not.before),l=c?.value?new Date(c?.value):void 0),l=isNaN(l)?null:l),e.value&&f.A.is_iso_date_time(e.value,!0)&&!isNaN(new Date(e.value))){const i=new Date(e.value);if(o&&i>o){let s;!r&&a.not.after?s=a.not.after:(s=r?.labels?.[0]?.textContent.replace(/\s\s+/g," "),s=s||r.name),this.set_validity({input:e,msg:t||n,attribute:s.trim()})}else if(l&&i<l){let i;!c&&a.not.before?i=a.not.before:(i=c?.labels?.[0]?.textContent.replace(/\s\s+/g," "),i=i||c.name),this.set_validity({input:e,msg:t||s,attribute:i.trim()})}}!i&&r&&(pe.debug("Check `not-after` input.",r),this.check_input({input:r,stop:!0})),!i&&c&&(pe.debug("Check `no-before` input.",r),this.check_input({input:c,stop:!0}))}if(!n.customError)return void this.remove_error(e,!0)}else n.valueMissing&&a.message.required?this.set_validity({input:e,msg:a.message.required}):n.rangeUnderflow&&a.message.min?this.set_validity({input:e,msg:a.message.min,min:e.getAttribute("min")}):n.rangeOverflow&&a.message.max?this.set_validity({input:e,msg:a.message.max,max:e.getAttribute("max")}):(n.badInput||n.stepMismatch)&&"number"===e.type&&a.message.number?this.set_validity({input:e,msg:a.message.number}):n.typeMismatch&&"email"===e.type&&a.message.email?this.set_validity({input:e,msg:a.message.email}):n.rangeUnderflow&&"date"===e.type&&a.message.date||n.rangeOverflow&&"date"===e.type&&a.message.date?this.set_validity({input:e,msg:a.message.date}):(n.rangeUnderflow&&"datetime"===e.type&&a.message.datetime||n.rangeOverflow&&"datetime"===e.type&&a.message.datetime)&&this.set_validity({input:e,msg:a.message.datetime});"submit"===s?.type&&(s.preventDefault(),s.stopPropagation(),s.stopImmediatePropagation()),this.set_error_message(e)}set_validity(t){let{input:e,msg:s,attribute:i=null,min:n=null,max:a=null}=t;i&&(s=s.replace(/%{attribute}/g,i)),n&&(s=s.replace(/%{count}/g,n)),a&&(s=s.replace(/%{count}/g,a)),s=s.replace(/%{value}/g,JSON.stringify(e.value)),e.setCustomValidity(s),e[fe]=s}remove_error(t){let e=[t];arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&(e=this.inputs.filter((e=>e.name===t.name)));for(const t of e){const e=t[me];t[me]=null,e?.remove()}if(this.el.checkValidity())for(const t of this.disabled_elements)t.disabled&&(t.removeAttribute("disabled"),t.classList.remove("disabled"))}set_error_message(t){this.remove_error(t);const e=this.inputs.filter((e=>e.name===t.name));if(e.length>1&&e.some((t=>!!t[me])))return;const s=t.validationMessage||t[fe],i=v.A.create_from_string(this.error_template(s)).firstChild;let n;"radio"!==t.type&&"checkbox"!==t.type||(n=t.closest("fieldset.pat-checklist")),n?n.append(i):t.after(i),t[me]=i;let a=!1;for(const t of this.disabled_elements)t.disabled||t.formNoValidate||(a=!0,t.setAttribute("disabled","disabled"),t.classList.add("disabled"),pe.debug("Disable element",t));if(a){pe.debug("Checking whole form after element was disabled.");for(const e of this.inputs.filter((e=>e!==t)))this.check_input({input:e,stop:!0})}}error_template(t){return`<em class="validation warning message">${t}</em>`}}i.A.register(be);const _e=new c.A("zoom");_e.addArgument("min",0),_e.addArgument("max",2);var ve={name:"zoom",trigger:".pat-zoom",init:function(t,e){return t.each((function(){var t=l()(this),s=_e.parse(t,e);l()("<input/>",{type:"range",step:"any",value:1,min:s.min,max:s.max}).insertBefore(t).on("change input",null,t,ve.onZoom)}))},onZoom:function(t){t.data.css("zoom",this.value)}};i.A.register(ve);s(26790),s(93344),s(86432),s(95122),s(42752),s(39774);i.A.init()},32908:function(t,e,s){var i={"./1c":[32402,32402],"./1c.js":[32402,32402],"./abnf":[52701,52701],"./abnf.js":[52701,52701],"./accesslog":[35076,35076],"./accesslog.js":[35076,35076],"./actionscript":[49115,49115],"./actionscript.js":[49115,49115],"./ada":[99428,99428],"./ada.js":[99428,99428],"./angelscript":[57246,57246],"./angelscript.js":[57246,57246],"./apache":[29980,29980],"./apache.js":[29980,29980],"./applescript":[42731,42731],"./applescript.js":[42731,42731],"./arcade":[18206,18206],"./arcade.js":[18206,18206],"./arduino":[27220,27220],"./arduino.js":[27220,27220],"./armasm":[79139,79139],"./armasm.js":[79139,79139],"./asciidoc":[49405,49405],"./asciidoc.js":[49405,49405],"./aspectj":[36478,36478],"./aspectj.js":[36478,36478],"./autohotkey":[62923,62923],"./autohotkey.js":[62923,62923],"./autoit":[77556,77556],"./autoit.js":[77556,77556],"./avrasm":[13732,13732],"./avrasm.js":[13732,13732],"./awk":[19277,19277],"./awk.js":[19277,19277],"./axapta":[77909,77909],"./axapta.js":[77909,77909],"./bash":[35344,35344],"./bash.js":[35344,35344],"./basic":[6722,6722],"./basic.js":[6722,6722],"./bnf":[75610,75610],"./bnf.js":[75610,75610],"./brainfuck":[25439,25439],"./brainfuck.js":[25439,25439],"./c":[39497,39497],"./c-like":[97053,97053],"./c-like.js":[97053,97053],"./c.js":[39497,39497],"./cal":[67040,67040],"./cal.js":[67040,67040],"./capnproto":[60436,60436],"./capnproto.js":[60436,60436],"./ceylon":[3838,3838],"./ceylon.js":[3838,3838],"./clean":[714,78333],"./clean.js":[714,78333],"./clojure":[80364,80364],"./clojure-repl":[5892,5892],"./clojure-repl.js":[5892,5892],"./clojure.js":[80364,80364],"./cmake":[56427,56427],"./cmake.js":[56427,56427],"./coffeescript":[64125,64125],"./coffeescript.js":[64125,64125],"./coq":[39081,39081],"./coq.js":[39081,39081],"./cos":[30279,30279],"./cos.js":[30279,30279],"./cpp":[29721,29721],"./cpp.js":[29721,29721],"./crmsh":[67015,67015],"./crmsh.js":[67015,67015],"./crystal":[33270,33270],"./crystal.js":[33270,33270],"./csharp":[88425,88425],"./csharp.js":[88425,88425],"./csp":[82086,82086],"./csp.js":[82086,82086],"./css":[53315,53315],"./css.js":[53315,53315],"./d":[91036,91036],"./d.js":[91036,91036],"./dart":[58811,58811],"./dart.js":[58811,58811],"./delphi":[61870,61870],"./delphi.js":[61870,61870],"./diff":[6033,6033],"./diff.js":[6033,6033],"./django":[35133,35133],"./django.js":[35133,35133],"./dns":[49927,49927],"./dns.js":[49927,49927],"./dockerfile":[26756,26756],"./dockerfile.js":[26756,26756],"./dos":[55754,55754],"./dos.js":[55754,55754],"./dsconfig":[91533,91533],"./dsconfig.js":[91533,91533],"./dts":[39129,39129],"./dts.js":[39129,39129],"./dust":[14058,14058],"./dust.js":[14058,14058],"./ebnf":[44177,44177],"./ebnf.js":[44177,44177],"./elixir":[81297,81297],"./elixir.js":[81297,81297],"./elm":[42292,42292],"./elm.js":[42292,42292],"./erb":[84663,84663],"./erb.js":[84663,84663],"./erlang":[945,945],"./erlang-repl":[81983,81983],"./erlang-repl.js":[81983,81983],"./erlang.js":[945,945],"./excel":[58451,58451],"./excel.js":[58451,58451],"./fix":[7003,7003],"./fix.js":[7003,7003],"./flix":[24701,24701],"./flix.js":[24701,24701],"./fortran":[30258,30258],"./fortran.js":[30258,30258],"./fsharp":[94108,94108],"./fsharp.js":[94108,94108],"./gams":[48126,48126],"./gams.js":[48126,48126],"./gauss":[25117,25117],"./gauss.js":[25117,25117],"./gcode":[19156,19156],"./gcode.js":[19156,19156],"./gherkin":[13666,13666],"./gherkin.js":[13666,13666],"./glsl":[19614,19614],"./glsl.js":[19614,19614],"./gml":[2904,2904],"./gml.js":[2904,2904],"./go":[44564,44564],"./go.js":[44564,44564],"./golo":[14205,14205],"./golo.js":[14205,14205],"./gradle":[29789,29789],"./gradle.js":[29789,29789],"./groovy":[72896,72896],"./groovy.js":[72896,72896],"./haml":[57292,57292],"./haml.js":[57292,57292],"./handlebars":[18514,18514],"./handlebars.js":[18514,18514],"./haskell":[34904,34904],"./haskell.js":[34904,34904],"./haxe":[58670,58670],"./haxe.js":[58670,58670],"./hsp":[51679,51679],"./hsp.js":[51679,51679],"./htmlbars":[22329,22329],"./htmlbars.js":[22329,22329],"./http":[73402,73402],"./http.js":[73402,73402],"./hy":[45617,45617],"./hy.js":[45617,45617],"./inform7":[12962,12962],"./inform7.js":[12962,12962],"./ini":[40634,40634],"./ini.js":[40634,40634],"./irpf90":[76414,76414],"./irpf90.js":[76414,76414],"./isbl":[1012,1012],"./isbl.js":[1012,1012],"./java":[81786,81786],"./java.js":[81786,81786],"./javascript":[95089,95089],"./javascript.js":[95089,95089],"./jboss-cli":[39040,39040],"./jboss-cli.js":[39040,39040],"./json":[65772,65772],"./json.js":[65772,65772],"./julia":[27601,27601],"./julia-repl":[3231,3231],"./julia-repl.js":[3231,3231],"./julia.js":[27601,27601],"./kotlin":[99559,99559],"./kotlin.js":[99559,99559],"./lasso":[31942,31942],"./lasso.js":[31942,31942],"./latex":[8100,8100],"./latex.js":[8100,8100],"./ldif":[86685,86685],"./ldif.js":[86685,86685],"./leaf":[98186,98186],"./leaf.js":[98186,98186],"./less":[52539,52539],"./less.js":[52539,52539],"./lisp":[73458,73458],"./lisp.js":[73458,73458],"./livecodeserver":[75814,75814],"./livecodeserver.js":[75814,75814],"./livescript":[25416,25416],"./livescript.js":[25416,25416],"./llvm":[33543,33543],"./llvm.js":[33543,33543],"./lsl":[3399,3399],"./lsl.js":[3399,3399],"./lua":[32670,32670],"./lua.js":[32670,32670],"./makefile":[59934,59934],"./makefile.js":[59934,59934],"./markdown":[96503,96503],"./markdown.js":[96503,96503],"./mathematica":[55672,55672],"./mathematica.js":[55672,55672],"./matlab":[56023,56023],"./matlab.js":[56023,56023],"./maxima":[29433,29433],"./maxima.js":[29433,29433],"./mel":[68254,68254],"./mel.js":[68254,68254],"./mercury":[48557,48557],"./mercury.js":[48557,48557],"./mipsasm":[24714,24714],"./mipsasm.js":[24714,24714],"./mizar":[69407,69407],"./mizar.js":[69407,69407],"./mojolicious":[90593,90593],"./mojolicious.js":[90593,90593],"./monkey":[29387,29387],"./monkey.js":[29387,29387],"./moonscript":[75468,75468],"./moonscript.js":[75468,75468],"./n1ql":[52962,52962],"./n1ql.js":[52962,52962],"./nginx":[4896,4896],"./nginx.js":[4896,4896],"./nim":[63712,63712],"./nim.js":[63712,63712],"./nix":[34659,34659],"./nix.js":[34659,34659],"./node-repl":[26122,26122],"./node-repl.js":[26122,26122],"./nsis":[64561,64561],"./nsis.js":[64561,64561],"./objectivec":[96494,96494],"./objectivec.js":[96494,96494],"./ocaml":[60108,60108],"./ocaml.js":[60108,60108],"./openscad":[89689,89689],"./openscad.js":[89689,89689],"./oxygene":[78327,78327],"./oxygene.js":[78327,78327],"./parser3":[52052,52052],"./parser3.js":[52052,52052],"./perl":[36891,36891],"./perl.js":[36891,36891],"./pf":[9412,9412],"./pf.js":[9412,9412],"./pgsql":[80431,80431],"./pgsql.js":[80431,80431],"./php":[34608,34608],"./php-template":[85579,85579],"./php-template.js":[85579,85579],"./php.js":[34608,34608],"./plaintext":[7939,7939],"./plaintext.js":[7939,7939],"./pony":[39350,39350],"./pony.js":[39350,39350],"./powershell":[26571,26571],"./powershell.js":[26571,26571],"./processing":[50181,50181],"./processing.js":[50181,50181],"./profile":[46269,46269],"./profile.js":[46269,46269],"./prolog":[3105,3105],"./prolog.js":[3105,3105],"./properties":[79975,79975],"./properties.js":[79975,79975],"./protobuf":[25093,25093],"./protobuf.js":[25093,25093],"./puppet":[69104,69104],"./puppet.js":[69104,69104],"./purebasic":[94412,94412],"./purebasic.js":[94412,94412],"./python":[87192,87192],"./python-repl":[90736,90736],"./python-repl.js":[90736,90736],"./python.js":[87192,87192],"./q":[23255,23255],"./q.js":[23255,23255],"./qml":[55506,55506],"./qml.js":[55506,55506],"./r":[22698,22698],"./r.js":[22698,22698],"./reasonml":[15331,15331],"./reasonml.js":[15331,15331],"./rib":[24745,24745],"./rib.js":[24745,24745],"./roboconf":[75812,75812],"./roboconf.js":[75812,75812],"./routeros":[53557,53557],"./routeros.js":[53557,53557],"./rsl":[53409,53409],"./rsl.js":[53409,53409],"./ruby":[82978,82978],"./ruby.js":[82978,82978],"./ruleslanguage":[78385,78385],"./ruleslanguage.js":[78385,78385],"./rust":[39688,39688],"./rust.js":[39688,39688],"./sas":[7005,7005],"./sas.js":[7005,7005],"./scala":[43618,43618],"./scala.js":[43618,43618],"./scheme":[36617,36617],"./scheme.js":[36617,36617],"./scilab":[92970,92970],"./scilab.js":[92970,92970],"./scss":[3206,3206],"./scss.js":[3206,3206],"./shell":[77918,77918],"./shell.js":[77918,77918],"./smali":[91180,91180],"./smali.js":[91180,91180],"./smalltalk":[72241,72241],"./smalltalk.js":[72241,72241],"./sml":[4460,4460],"./sml.js":[4460,4460],"./sqf":[7186,7186],"./sqf.js":[7186,7186],"./sql":[76384,76384],"./sql.js":[76384,76384],"./sql_more":[30414,30414],"./sql_more.js":[30414,30414],"./stan":[24490,24490],"./stan.js":[24490,24490],"./stata":[81497,81497],"./stata.js":[81497,81497],"./step21":[36809,36809],"./step21.js":[36809,36809],"./stylus":[62224,62224],"./stylus.js":[62224,62224],"./subunit":[95976,95976],"./subunit.js":[95976,95976],"./swift":[94635,94635],"./swift.js":[94635,94635],"./taggerscript":[98199,98199],"./taggerscript.js":[98199,98199],"./tap":[58713,58713],"./tap.js":[58713,58713],"./tcl":[41519,41519],"./tcl.js":[41519,41519],"./thrift":[45449,45449],"./thrift.js":[45449,45449],"./tp":[88454,88454],"./tp.js":[88454,88454],"./twig":[23195,23195],"./twig.js":[23195,23195],"./typescript":[62825,62825],"./typescript.js":[62825,62825],"./vala":[55320,55320],"./vala.js":[55320,55320],"./vbnet":[50959,50959],"./vbnet.js":[50959,50959],"./vbscript":[4893,4893],"./vbscript-html":[88103,88103],"./vbscript-html.js":[88103,88103],"./vbscript.js":[4893,4893],"./verilog":[57522,57522],"./verilog.js":[57522,57522],"./vhdl":[37492,37492],"./vhdl.js":[37492,37492],"./vim":[1192,1192],"./vim.js":[1192,1192],"./x86asm":[53447,53447],"./x86asm.js":[53447,53447],"./xl":[15790,15790],"./xl.js":[15790,15790],"./xml":[17285,17285],"./xml.js":[17285,17285],"./xquery":[78130,78130],"./xquery.js":[78130,78130],"./yaml":[17533,17533],"./yaml.js":[17533,17533],"./zephir":[57204,57204],"./zephir.js":[57204,57204]};function n(t){if(!s.o(i,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=i[t],n=e[0];return s.e(e[1]).then((function(){return s.t(n,23)}))}n.keys=function(){return Object.keys(i)},n.id=32908,t.exports=n},21132:function(t,e,s){var i={"./a11y-dark.css":[67916,67916],"./a11y-light.css":[62746,62746],"./agate.css":[47529,47529],"./an-old-hope.css":[74849,74849],"./androidstudio.css":[55422,55422],"./arduino-light.css":[44566,44566],"./arta.css":[79677,79677],"./ascetic.css":[32285,32285],"./atelier-cave-dark.css":[7082,7082],"./atelier-cave-light.css":[84376,84376],"./atelier-dune-dark.css":[14325,14325],"./atelier-dune-light.css":[35869,35869],"./atelier-estuary-dark.css":[41230,41230],"./atelier-estuary-light.css":[48580,48580],"./atelier-forest-dark.css":[89650,89650],"./atelier-forest-light.css":[75792,75792],"./atelier-heath-dark.css":[75699,75699],"./atelier-heath-light.css":[51075,51075],"./atelier-lakeside-dark.css":[81943,81943],"./atelier-lakeside-light.css":[38271,38271],"./atelier-plateau-dark.css":[7739,7739],"./atelier-plateau-light.css":[7995,7995],"./atelier-savanna-dark.css":[93093,93093],"./atelier-savanna-light.css":[93773,93773],"./atelier-seaside-dark.css":[1697,1697],"./atelier-seaside-light.css":[60209,60209],"./atelier-sulphurpool-dark.css":[47016,47016],"./atelier-sulphurpool-light.css":[39998,39998],"./atom-one-dark-reasonable.css":[54095,54095],"./atom-one-dark.css":[48204,48204],"./atom-one-light.css":[68986,68986],"./brown-paper.css":[97352,97352],"./codepen-embed.css":[5945,5945],"./color-brewer.css":[56962,56962],"./darcula.css":[74229,74229],"./dark.css":[15889,15889],"./default.css":[6502,6502],"./docco.css":[73185,73185],"./dracula.css":[88831,88831],"./far.css":[48686,48686],"./foundation.css":[22846,22846],"./github-gist.css":[5622,5622],"./github.css":[57868,57868],"./gml.css":[29113,29113],"./googlecode.css":[80591,80591],"./gradient-dark.css":[88788,88788],"./gradient-light.css":[93970,93970],"./grayscale.css":[84096,84096],"./gruvbox-dark.css":[53479,53479],"./gruvbox-light.css":[64399,64399],"./hopscotch.css":[92246,92246],"./hybrid.css":[65023,65023],"./idea.css":[99928,99928],"./ir-black.css":[53854,53854],"./isbl-editor-dark.css":[83696,83696],"./isbl-editor-light.css":[64310,64310],"./kimbie.dark.css":[83770,83770],"./kimbie.light.css":[10088,10088],"./lightfair.css":[51907,51907],"./lioshi.css":[91807,91807],"./magula.css":[33162,33162],"./mono-blue.css":[79859,79859],"./monokai-sublime.css":[42333,42333],"./monokai.css":[78471,78471],"./night-owl.css":[23718,23718],"./nnfx-dark.css":[27198,27198],"./nnfx.css":[40735,40735],"./nord.css":[80110,80110],"./obsidian.css":[64590,64590],"./ocean.css":[58359,58359],"./paraiso-dark.css":[45015,45015],"./paraiso-light.css":[44543,44543],"./pojoaque.css":[18175,18175],"./purebasic.css":[58973,58973],"./qtcreator_dark.css":[15141,15141],"./qtcreator_light.css":[19213,19213],"./railscasts.css":[83444,83444],"./rainbow.css":[89067,89067],"./routeros.css":[31384,31384],"./school-book.css":[21651,21651],"./shades-of-purple.css":[15198,15198],"./solarized-dark.css":[11483,11483],"./solarized-light.css":[24923,24923],"./srcery.css":[49741,49741],"./stackoverflow-dark.css":[72822,72822],"./stackoverflow-light.css":[27196,27196],"./sunburst.css":[76493,76493],"./tomorrow-night-blue.css":[25176,25176],"./tomorrow-night-bright.css":[16552,16552],"./tomorrow-night-eighties.css":[30610,30610],"./tomorrow-night.css":[72205,72205],"./tomorrow.css":[34516,34516],"./vs.css":[95696,95696],"./vs2015.css":[71264,71264],"./xcode.css":[11074,11074],"./xt256.css":[65886,65886],"./zenburn.css":[78069,78069]};function n(t){if(!s.o(i,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=i[t],n=e[0];return s.e(e[1]).then((function(){return s(n)}))}n.keys=function(){return Object.keys(i)},n.id=21132,t.exports=n},89595:function(t,e,s){var i={"./af.js":[25177,95093,25177],"./ar-dz.js":[41488,95093,41488],"./ar-kw.js":[58676,95093,58676],"./ar-ly.js":[42353,95093,42353],"./ar-ma.js":[24496,95093,24496],"./ar-ps.js":[6947,95093,6947],"./ar-sa.js":[82682,95093,82682],"./ar-tn.js":[89756,95093,89756],"./ar.js":[61509,95093,61509],"./az.js":[95533,95093,95533],"./be.js":[28959,95093,28959],"./bg.js":[47777,95093,47777],"./bm.js":[54903,95093,54903],"./bn-bd.js":[17357,95093,17357],"./bn.js":[61290,95093,61290],"./bo.js":[31545,95093,31545],"./br.js":[11470,95093,11470],"./bs.js":[44429,95093,44429],"./ca.js":[7306,95093,7306],"./cs.js":[56464,95093,56464],"./cv.js":[73635,95093,73635],"./cy.js":[64226,95093,64226],"./da.js":[93601,95093,93601],"./de-at.js":[26111,95093,26111],"./de-ch.js":[54697,95093,54697],"./de.js":[77853,95093,77853],"./dv.js":[60708,95093,60708],"./el.js":[54691,95093,54691],"./en-au.js":[53872,95093,53872],"./en-ca.js":[28298,95093,28298],"./en-gb.js":[56195,95093,56195],"./en-ie.js":[66584,95093,66584],"./en-il.js":[65543,95093,65543],"./en-in.js":[9033,95093,9033],"./en-nz.js":[79402,95093,79402],"./en-sg.js":[43004,95093,43004],"./eo.js":[32934,95093,32934],"./es-do.js":[20838,95093,20838],"./es-mx.js":[17730,95093,17730],"./es-us.js":[56575,95093,56575],"./es.js":[97650,95093,97650],"./et.js":[3035,95093,3035],"./eu.js":[3508,95093,3508],"./fa.js":[119,95093,119],"./fi.js":[90527,95093,90527],"./fil.js":[95995,95093,95995],"./fo.js":[52477,95093,52477],"./fr-ca.js":[26435,95093,26435],"./fr-ch.js":[37892,95093,37892],"./fr.js":[85498,95093,85498],"./fy.js":[37071,95093,37071],"./ga.js":[41734,95093,41734],"./gd.js":[70217,95093,70217],"./gl.js":[77329,95093,77329],"./gom-deva.js":[32124,95093,32124],"./gom-latn.js":[93383,95093,93383],"./gu.js":[95050,95093,95050],"./he.js":[11713,95093,11713],"./hi.js":[43861,95093,43861],"./hr.js":[26308,95093,26308],"./hu.js":[90609,95093,90609],"./hy-am.js":[17160,95093,17160],"./id.js":[74063,95093,74063],"./is.js":[89374,95093,89374],"./it-ch.js":[21827,95093,21827],"./it.js":[88383,95093,88383],"./ja.js":[23827,95093,23827],"./jv.js":[89722,95093,89722],"./ka.js":[41794,95093,41794],"./kk.js":[27088,95093,27088],"./km.js":[96870,95093,96870],"./kn.js":[84451,95093,84451],"./ko.js":[63164,95093,63164],"./ku-kmr.js":[6181,95093,6181],"./ku.js":[98174,95093,98174],"./ky.js":[78474,95093,78474],"./lb.js":[79680,95093,79680],"./lo.js":[15867,95093,15867],"./lt.js":[45766,95093,45766],"./lv.js":[69532,95093,69532],"./me.js":[58076,95093,58076],"./mi.js":[41848,95093,41848],"./mk.js":[30306,95093,30306],"./ml.js":[73739,95093,73739],"./mn.js":[99053,95093,99053],"./mr.js":[86169,95093,86169],"./ms-my.js":[92297,95093,92297],"./ms.js":[73386,95093,73386],"./mt.js":[77075,95093,77075],"./my.js":[72264,95093,72264],"./nb.js":[22274,95093,22274],"./ne.js":[8235,95093,8235],"./nl-be.js":[43784,95093,43784],"./nl.js":[92572,95093,92572],"./nn.js":[54566,95093,54566],"./oc-lnc.js":[69330,95093,69330],"./pa-in.js":[29849,95093,29849],"./pl.js":[94418,95093,94418],"./pt-br.js":[48303,95093,48303],"./pt.js":[79834,95093,79834],"./ro.js":[24457,95093,24457],"./ru.js":[82271,95093,82271],"./sd.js":[1221,95093,1221],"./se.js":[33478,95093,33478],"./si.js":[17538,95093,17538],"./sk.js":[5784,95093,5784],"./sl.js":[46637,95093,46637],"./sq.js":[86794,95093,86794],"./sr-cyrl.js":[3322,95093,3322],"./sr.js":[45719,95093,45719],"./ss.js":[56e3,95093,56e3],"./sv.js":[41011,95093,41011],"./sw.js":[40748,95093,40748],"./ta.js":[11025,95093,11025],"./te.js":[11885,95093,11885],"./tet.js":[28861,95093,28861],"./tg.js":[86571,95093,86571],"./th.js":[55802,95093,55802],"./tk.js":[59527,95093,59527],"./tl-ph.js":[29231,95093,29231],"./tlh.js":[31052,95093,31052],"./tr.js":[85096,95093,85096],"./tzl.js":[79846,95093,79846],"./tzm-latn.js":[97711,95093,97711],"./tzm.js":[81765,95093,81765],"./ug-cn.js":[48414,95093,48414],"./uk.js":[16618,95093,16618],"./ur.js":[57777,95093,57777],"./uz-latn.js":[72475,95093,72475],"./uz.js":[57609,95093,57609],"./vi.js":[21135,95093,21135],"./x-pseudo.js":[64051,95093,64051],"./yo.js":[82218,95093,82218],"./zh-cn.js":[52648,95093,52648],"./zh-hk.js":[1632,95093,1632],"./zh-mo.js":[31541,95093,31541],"./zh-tw.js":[50304,95093,50304]};function n(t){if(!s.o(i,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=i[t],n=e[0];return Promise.all(e.slice(1).map(s.e)).then((function(){return s.t(n,23)}))}n.keys=function(){return Object.keys(i)},n.id=89595,t.exports=n}}]);
//# sourceMappingURL=29912.5daa34b389eb76265b2d.min.js.map