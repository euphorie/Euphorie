{"version":3,"file":"chunks/1684.8882e0014e6c51992833.min.js","mappings":"uJAIA,MAAMA,EAAS,EAAAC,KAAA,OAAY,CACvBC,KAAM,SAENC,WAAU,KACC,CACHC,eAAgB,KAIxBC,MAAO,QACPC,QAAS,oBAETC,gBAAgB,EAChBC,WAAW,EACXC,WAAW,EACXC,YAAY,EAEZC,UAAS,IACE,CACH,CACIC,IAAK,WAKjBC,YAAW,eAAET,IACT,MAAO,CACH,UACA,IAAAU,iBAAgBC,KAAKC,QAAQZ,eAAgBA,GAC7C,IAIRa,wBACI,MAAO,CACH,IAAI,KAAO,CACPC,MAAO,CACHC,gBAAiB,CAEbC,UAAW,CAACC,EAAMC,KACd,IAAKA,EAAMC,OACP,OAAO,EAGX,MAAMC,EAAMH,EAAKI,SAASH,EAAMC,OAAQ,GAOxC,OANaF,EAAKK,MAAMC,IAAIC,QAAQJ,GAE3BK,OAAOC,OAASf,KAAKe,MAC1BR,EAAMS,kBAGH,WASnC","sources":["webpack://oira.prototype/./node_modules/@patternslib/pat-tiptap/src/extensions/figure.js"],"sourcesContent":["// From: tiptap/demos/src/Experiments/GenericFigure/Vue/figure.ts\nimport { Node, mergeAttributes } from \"@tiptap/core\";\nimport { Plugin } from \"prosemirror-state\";\n\nconst Figure = Node.create({\n    name: \"figure\",\n\n    addOptions() {\n        return {\n            HTMLAttributes: {},\n        };\n    },\n\n    group: \"block\",\n    content: \"block figcaption?\",\n\n    allowGapCursor: true,\n    draggable: true,\n    isolating: true,\n    selectable: true,\n\n    parseHTML() {\n        return [\n            {\n                tag: `figure`,\n            },\n        ];\n    },\n\n    renderHTML({ HTMLAttributes }) {\n        return [\n            \"figure\",\n            mergeAttributes(this.options.HTMLAttributes, HTMLAttributes),\n            0,\n        ];\n    },\n\n    addProseMirrorPlugins() {\n        return [\n            new Plugin({\n                props: {\n                    handleDOMEvents: {\n                        // prevent dragging nodes out of the figure\n                        dragstart: (view, event) => {\n                            if (!event.target) {\n                                return false;\n                            }\n\n                            const pos = view.posAtDOM(event.target, 0);\n                            const $pos = view.state.doc.resolve(pos);\n\n                            if ($pos.parent.type === this.type) {\n                                event.preventDefault();\n                            }\n\n                            return false;\n                        },\n                    },\n                },\n            }),\n        ];\n    },\n});\n\nexport default Figure;\n"],"names":["Figure","Node","name","addOptions","HTMLAttributes","group","content","allowGapCursor","draggable","isolating","selectable","parseHTML","tag","renderHTML","mergeAttributes","this","options","addProseMirrorPlugins","props","handleDOMEvents","dragstart","view","event","target","pos","posAtDOM","state","doc","resolve","parent","type","preventDefault"],"sourceRoot":""}