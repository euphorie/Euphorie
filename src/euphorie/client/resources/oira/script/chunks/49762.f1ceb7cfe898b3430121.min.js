"use strict";(self.webpackChunk_patternslib_patternslib=self.webpackChunk_patternslib_patternslib||[]).push([[49762,89989],{49762:function(t,e,n){n.r(e),n.d(e,{init:function(){return u}});var i=n(89989),r=n(42752),a=n(80717),c=n(2232);function u(t){let{app:e,button:n}=t;n.addEventListener("click",(()=>{if(a.A.get_data(e.toolbar_el,"tiptap-instance",null)!==e)return;const t=function(t){let{app:e}=t;return{name:"tiptap-source-panel",trigger:e.options.sourcePanel,init(t){(0,i.focus_handler)(t);const n=t.querySelector("[name=tiptap-source]");if(!n)return void r.Rm.warn("No source input in source panel found.");const u=t.querySelector(".tiptap-confirm, [name=tiptap-confirm]");n.value=e.editor.getHTML(),n.dispatchEvent(new Event("input"));const o=t=>{const i=e.editor.chain();!0===t&&i.focus(),i.setContent(n.value,!0),i.run()},s=a.A.querySelectorAllAndMe(t,"form")?.[0];s&&c.A.add_event_listener(s,"submit","tiptap_source_submit",(t=>{t.preventDefault()})),u?c.A.add_event_listener(u,"click","tiptap_source_confirm",(()=>o(!0))):c.A.add_event_listener(n,"input","tiptap_source_text",o)}}}({app:e});document.addEventListener("patterns-injected-delayed",(n=>{t.init(n.detail.injected),e.current_modal.addEventListener("patterns-injected-delayed",(()=>{t.init(e.current_modal)}))}),{once:!0})}))}},89989:function(t,e,n){n.r(e),n.d(e,{TARGETS:function(){return a},focus_handler:function(){return c}});var i=n(2232),r=n(49264);const a=[];function c(t){t.setAttribute("tabindex","-1"),i.A.add_event_listener(t,"focus","tiptap-focusin",(async()=>{r.A.timeout(1),a.map((t=>t?.classList.add("tiptap-focus")))}),!0),i.A.add_event_listener(t,"blur","tiptap-focusout",(()=>{a.map((t=>t?.classList.remove("tiptap-focus")))}),!0)}}}]);
//# sourceMappingURL=49762.f1ceb7cfe898b3430121.min.js.map