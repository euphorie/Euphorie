{"version":3,"file":"chunks/57787.c752edb4af8f459aec1e.min.js","mappings":"mNAIO,MAAMA,EAAUA,IACZC,EAAAA,KAAKC,OAAO,CACfC,KAAM,SAENC,UAAAA,GACI,MAAO,CACHC,eAAgB,CAAC,EAEzB,EAEAC,MAAO,QACPC,QAAS,oBAETC,gBAAgB,EAChBC,WAAW,EACXC,WAAW,EACXC,YAAY,EAEZC,SAAAA,GACI,MAAO,CACH,CACIC,IAAK,UAGjB,EAEAC,UAAAA,CAAUC,GAAqB,IAApB,eAAEV,GAAgBU,EACzB,MAAO,CACH,UACAC,EAAAA,EAAAA,iBAAgBC,KAAKC,QAAQb,eAAgBA,GAC7C,EAER,EAEAc,qBAAAA,GACI,MAAO,CACH,IAAIC,EAAAA,GAAO,CACPC,MAAO,CACHC,gBAAiB,CAEbC,UAAWA,CAACC,EAAMC,KACd,IAAKA,EAAMC,OACP,OAAO,EAGX,MAAMC,EAAMH,EAAKI,SAASH,EAAMC,OAAQ,GAOxC,OANaF,EAAKK,MAAMC,IAAIC,QAAQJ,GAE3BK,OAAOC,OAAShB,KAAKgB,MAC1BR,EAAMS,kBAGH,CAAK,MAMpC,G","sources":["webpack://@patternslib/patternslib/./node_modules/@patternslib/pat-tiptap/src/extensions/figure.js"],"sourcesContent":["// From: tiptap/demos/src/Experiments/GenericFigure/Vue/figure.ts\nimport { Node, mergeAttributes } from \"@tiptap/core\";\nimport { Plugin } from \"prosemirror-state\";\n\nexport const factory = () => {\n    return Node.create({\n        name: \"figure\",\n\n        addOptions() {\n            return {\n                HTMLAttributes: {},\n            };\n        },\n\n        group: \"block\",\n        content: \"block figcaption?\",\n\n        allowGapCursor: true,\n        draggable: true,\n        isolating: true,\n        selectable: true,\n\n        parseHTML() {\n            return [\n                {\n                    tag: `figure`,\n                },\n            ];\n        },\n\n        renderHTML({ HTMLAttributes }) {\n            return [\n                \"figure\",\n                mergeAttributes(this.options.HTMLAttributes, HTMLAttributes),\n                0,\n            ];\n        },\n\n        addProseMirrorPlugins() {\n            return [\n                new Plugin({\n                    props: {\n                        handleDOMEvents: {\n                            // prevent dragging nodes out of the figure\n                            dragstart: (view, event) => {\n                                if (!event.target) {\n                                    return false;\n                                }\n\n                                const pos = view.posAtDOM(event.target, 0);\n                                const $pos = view.state.doc.resolve(pos);\n\n                                if ($pos.parent.type === this.type) {\n                                    event.preventDefault();\n                                }\n\n                                return false;\n                            },\n                        },\n                    },\n                }),\n            ];\n        },\n    });\n};\n"],"names":["factory","Node","create","name","addOptions","HTMLAttributes","group","content","allowGapCursor","draggable","isolating","selectable","parseHTML","tag","renderHTML","_ref","mergeAttributes","this","options","addProseMirrorPlugins","Plugin","props","handleDOMEvents","dragstart","view","event","target","pos","posAtDOM","state","doc","resolve","parent","type","preventDefault"],"sourceRoot":""}