"use strict";(self.webpackChunk_patternslib_patternslib=self.webpackChunk_patternslib_patternslib||[]).push([[91182],{91182:function(t,e,n){n.r(e),n.d(e,{Draggable:function(){return P},FeaturefulElementDragging:function(){return f},PointerDragging:function(){return s},ThirdPartyDraggable:function(){return L}});var r=n(21486),i=n(31635);
/*!
FullCalendar v5.11.5
Docs & License: https://fullcalendar.io/
(c) 2022 Adam Shaw
*/
r.$WB.touchMouseIgnoreWait=500;var o=0,a=0,l=!1,s=function(){function t(t){var e=this;this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=function(t){if(!e.shouldIgnoreMouse()&&function(t){return 0===t.button&&!t.ctrlKey}(t)&&e.tryStart(t)){var n=e.createEventFromMouse(t,!0);e.emitter.trigger("pointerdown",n),e.initScrollWatch(n),e.shouldIgnoreMove||document.addEventListener("mousemove",e.handleMouseMove),document.addEventListener("mouseup",e.handleMouseUp)}},this.handleMouseMove=function(t){var n=e.createEventFromMouse(t);e.recordCoords(n),e.emitter.trigger("pointermove",n)},this.handleMouseUp=function(t){document.removeEventListener("mousemove",e.handleMouseMove),document.removeEventListener("mouseup",e.handleMouseUp),e.emitter.trigger("pointerup",e.createEventFromMouse(t)),e.cleanup()},this.handleTouchStart=function(t){if(e.tryStart(t)){e.isTouchDragging=!0;var n=e.createEventFromTouch(t,!0);e.emitter.trigger("pointerdown",n),e.initScrollWatch(n);var r=t.target;e.shouldIgnoreMove||r.addEventListener("touchmove",e.handleTouchMove),r.addEventListener("touchend",e.handleTouchEnd),r.addEventListener("touchcancel",e.handleTouchEnd),window.addEventListener("scroll",e.handleTouchScroll,!0)}},this.handleTouchMove=function(t){var n=e.createEventFromTouch(t);e.recordCoords(n),e.emitter.trigger("pointermove",n)},this.handleTouchEnd=function(t){if(e.isDragging){var n=t.target;n.removeEventListener("touchmove",e.handleTouchMove),n.removeEventListener("touchend",e.handleTouchEnd),n.removeEventListener("touchcancel",e.handleTouchEnd),window.removeEventListener("scroll",e.handleTouchScroll,!0),e.emitter.trigger("pointerup",e.createEventFromTouch(t)),e.cleanup(),e.isTouchDragging=!1,o+=1,setTimeout((function(){o-=1}),r.$WB.touchMouseIgnoreWait)}},this.handleTouchScroll=function(){e.wasTouchScroll=!0},this.handleScroll=function(t){if(!e.shouldIgnoreMove){var n=window.pageXOffset-e.prevScrollX+e.prevPageX,r=window.pageYOffset-e.prevScrollY+e.prevPageY;e.emitter.trigger("pointermove",{origEvent:t,isTouch:e.isTouchDragging,subjectEl:e.subjectEl,pageX:n,pageY:r,deltaX:n-e.origPageX,deltaY:r-e.origPageY})}},this.containerEl=t,this.emitter=new r.vli,t.addEventListener("mousedown",this.handleMouseDown),t.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),1===(a+=1)&&window.addEventListener("touchmove",c,{passive:!1})}return t.prototype.destroy=function(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),(a-=1)||window.removeEventListener("touchmove",c,{passive:!1})},t.prototype.tryStart=function(t){var e=this.querySubjectEl(t),n=t.target;return!(!e||this.handleSelector&&!(0,r.YAv)(n,this.handleSelector))&&(this.subjectEl=e,this.isDragging=!0,this.wasTouchScroll=!1,!0)},t.prototype.cleanup=function(){l=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()},t.prototype.querySubjectEl=function(t){return this.selector?(0,r.YAv)(t.target,this.selector):this.containerEl},t.prototype.shouldIgnoreMouse=function(){return o||this.isTouchDragging},t.prototype.cancelTouchScroll=function(){this.isDragging&&(l=!0)},t.prototype.initScrollWatch=function(t){this.shouldWatchScroll&&(this.recordCoords(t),window.addEventListener("scroll",this.handleScroll,!0))},t.prototype.recordCoords=function(t){this.shouldWatchScroll&&(this.prevPageX=t.pageX,this.prevPageY=t.pageY,this.prevScrollX=window.pageXOffset,this.prevScrollY=window.pageYOffset)},t.prototype.destroyScrollWatch=function(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)},t.prototype.createEventFromMouse=function(t,e){var n=0,r=0;return e?(this.origPageX=t.pageX,this.origPageY=t.pageY):(n=t.pageX-this.origPageX,r=t.pageY-this.origPageY),{origEvent:t,isTouch:!1,subjectEl:this.subjectEl,pageX:t.pageX,pageY:t.pageY,deltaX:n,deltaY:r}},t.prototype.createEventFromTouch=function(t,e){var n,r,i=t.touches,o=0,a=0;return i&&i.length?(n=i[0].pageX,r=i[0].pageY):(n=t.pageX,r=t.pageY),e?(this.origPageX=n,this.origPageY=r):(o=n-this.origPageX,a=r-this.origPageY),{origEvent:t,isTouch:!0,subjectEl:this.subjectEl,pageX:n,pageY:r,deltaX:o,deltaY:a}},t}();function c(t){l&&t.preventDefault()}var d=function(){function t(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}return t.prototype.start=function(t,e,n){this.sourceEl=t,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=e-window.pageXOffset,this.origScreenY=n-window.pageYOffset,this.deltaX=0,this.deltaY=0,this.updateElPosition()},t.prototype.handleMove=function(t,e){this.deltaX=t-window.pageXOffset-this.origScreenX,this.deltaY=e-window.pageYOffset-this.origScreenY,this.updateElPosition()},t.prototype.setIsVisible=function(t){t?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=t,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=t)},t.prototype.stop=function(t,e){var n=this,r=function(){n.cleanup(),e()};t&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(r,this.revertDuration):setTimeout(r,0)},t.prototype.doRevertAnimation=function(t,e){var n=this.mirrorEl,i=this.sourceEl.getBoundingClientRect();n.style.transition="top "+e+"ms,left "+e+"ms",(0,r.AVT)(n,{left:i.left,top:i.top}),(0,r.SH7)(n,(function(){n.style.transition="",t()}))},t.prototype.cleanup=function(){this.mirrorEl&&((0,r.NzY)(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null},t.prototype.updateElPosition=function(){this.sourceEl&&this.isVisible&&(0,r.AVT)(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})},t.prototype.getMirrorEl=function(){var t=this.sourceElRect,e=this.mirrorEl;return e||((e=this.mirrorEl=this.sourceEl.cloneNode(!0)).classList.add("fc-unselectable"),e.classList.add("fc-event-dragging"),(0,r.AVT)(e,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:t.right-t.left,height:t.bottom-t.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(e)),e},t}(),g=function(t){function e(e,n){var r=t.call(this)||this;return r.handleScroll=function(){r.scrollTop=r.scrollController.getScrollTop(),r.scrollLeft=r.scrollController.getScrollLeft(),r.handleScrollChange()},r.scrollController=e,r.doesListening=n,r.scrollTop=r.origScrollTop=e.getScrollTop(),r.scrollLeft=r.origScrollLeft=e.getScrollLeft(),r.scrollWidth=e.getScrollWidth(),r.scrollHeight=e.getScrollHeight(),r.clientWidth=e.getClientWidth(),r.clientHeight=e.getClientHeight(),r.clientRect=r.computeClientRect(),r.doesListening&&r.getEventTarget().addEventListener("scroll",r.handleScroll),r}return(0,i.C6)(e,t),e.prototype.destroy=function(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)},e.prototype.getScrollTop=function(){return this.scrollTop},e.prototype.getScrollLeft=function(){return this.scrollLeft},e.prototype.setScrollTop=function(t){this.scrollController.setScrollTop(t),this.doesListening||(this.scrollTop=Math.max(Math.min(t,this.getMaxScrollTop()),0),this.handleScrollChange())},e.prototype.setScrollLeft=function(t){this.scrollController.setScrollLeft(t),this.doesListening||(this.scrollLeft=Math.max(Math.min(t,this.getMaxScrollLeft()),0),this.handleScrollChange())},e.prototype.getClientWidth=function(){return this.clientWidth},e.prototype.getClientHeight=function(){return this.clientHeight},e.prototype.getScrollWidth=function(){return this.scrollWidth},e.prototype.getScrollHeight=function(){return this.scrollHeight},e.prototype.handleScrollChange=function(){},e}(r.w1c),u=function(t){function e(e,n){return t.call(this,new r._n8(e),n)||this}return(0,i.C6)(e,t),e.prototype.getEventTarget=function(){return this.scrollController.el},e.prototype.computeClientRect=function(){return(0,r.Qfg)(this.scrollController.el)},e}(g),h=function(t){function e(e){return t.call(this,new r.Wkc,e)||this}return(0,i.C6)(e,t),e.prototype.getEventTarget=function(){return window},e.prototype.computeClientRect=function(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}},e.prototype.handleScrollChange=function(){this.clientRect=this.computeClientRect()},e}(g),p="function"==typeof performance?performance.now:Date.now,v=function(){function t(){var t=this;this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=function(){if(t.isAnimating){var e=t.computeBestEdge(t.pointerScreenX+window.pageXOffset,t.pointerScreenY+window.pageYOffset);if(e){var n=p();t.handleSide(e,(n-t.msSinceRequest)/1e3),t.requestAnimation(n)}else t.isAnimating=!1}}}return t.prototype.start=function(t,e,n){this.isEnabled&&(this.scrollCaches=this.buildCaches(n),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(t,e))},t.prototype.handleMove=function(t,e){if(this.isEnabled){var n=t-window.pageXOffset,r=e-window.pageYOffset,i=null===this.pointerScreenY?0:r-this.pointerScreenY,o=null===this.pointerScreenX?0:n-this.pointerScreenX;i<0?this.everMovedUp=!0:i>0&&(this.everMovedDown=!0),o<0?this.everMovedLeft=!0:o>0&&(this.everMovedRight=!0),this.pointerScreenX=n,this.pointerScreenY=r,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(p()))}},t.prototype.stop=function(){if(this.isEnabled){this.isAnimating=!1;for(var t=0,e=this.scrollCaches;t<e.length;t++){e[t].destroy()}this.scrollCaches=null}},t.prototype.requestAnimation=function(t){this.msSinceRequest=t,requestAnimationFrame(this.animate)},t.prototype.handleSide=function(t,e){var n=t.scrollCache,r=this.edgeThreshold,i=r-t.distance,o=i*i/(r*r)*this.maxVelocity*e,a=1;switch(t.name){case"left":a=-1;case"right":n.setScrollLeft(n.getScrollLeft()+o*a);break;case"top":a=-1;case"bottom":n.setScrollTop(n.getScrollTop()+o*a)}},t.prototype.computeBestEdge=function(t,e){for(var n=this.edgeThreshold,r=null,i=0,o=this.scrollCaches||[];i<o.length;i++){var a=o[i],l=a.clientRect,s=t-l.left,c=l.right-t,d=e-l.top,g=l.bottom-e;s>=0&&c>=0&&d>=0&&g>=0&&(d<=n&&this.everMovedUp&&a.canScrollUp()&&(!r||r.distance>d)&&(r={scrollCache:a,name:"top",distance:d}),g<=n&&this.everMovedDown&&a.canScrollDown()&&(!r||r.distance>g)&&(r={scrollCache:a,name:"bottom",distance:g}),s<=n&&this.everMovedLeft&&a.canScrollLeft()&&(!r||r.distance>s)&&(r={scrollCache:a,name:"left",distance:s}),c<=n&&this.everMovedRight&&a.canScrollRight()&&(!r||r.distance>c)&&(r={scrollCache:a,name:"right",distance:c}))}return r},t.prototype.buildCaches=function(t){return this.queryScrollEls(t).map((function(t){return t===window?new h(!1):new u(t,!1)}))},t.prototype.queryScrollEls=function(t){for(var e=[],n=0,i=this.scrollQuery;n<i.length;n++){var o=i[n];"object"==typeof o?e.push(o):e.push.apply(e,Array.prototype.slice.call((0,r.UOc)(t).querySelectorAll(o)))}return e},t}(),f=function(t){function e(e,n){var i=t.call(this,e)||this;i.containerEl=e,i.delay=null,i.minDistance=0,i.touchScrollAllowed=!0,i.mirrorNeedsRevert=!1,i.isInteracting=!1,i.isDragging=!1,i.isDelayEnded=!1,i.isDistanceSurpassed=!1,i.delayTimeoutId=null,i.onPointerDown=function(t){i.isDragging||(i.isInteracting=!0,i.isDelayEnded=!1,i.isDistanceSurpassed=!1,(0,r.vFY)(document.body),(0,r.N7h)(document.body),t.isTouch||t.origEvent.preventDefault(),i.emitter.trigger("pointerdown",t),i.isInteracting&&!i.pointer.shouldIgnoreMove&&(i.mirror.setIsVisible(!1),i.mirror.start(t.subjectEl,t.pageX,t.pageY),i.startDelay(t),i.minDistance||i.handleDistanceSurpassed(t)))},i.onPointerMove=function(t){if(i.isInteracting){if(i.emitter.trigger("pointermove",t),!i.isDistanceSurpassed){var e=i.minDistance,n=t.deltaX,r=t.deltaY;n*n+r*r>=e*e&&i.handleDistanceSurpassed(t)}i.isDragging&&("scroll"!==t.origEvent.type&&(i.mirror.handleMove(t.pageX,t.pageY),i.autoScroller.handleMove(t.pageX,t.pageY)),i.emitter.trigger("dragmove",t))}},i.onPointerUp=function(t){i.isInteracting&&(i.isInteracting=!1,(0,r._8O)(document.body),(0,r.iDH)(document.body),i.emitter.trigger("pointerup",t),i.isDragging&&(i.autoScroller.stop(),i.tryStopDrag(t)),i.delayTimeoutId&&(clearTimeout(i.delayTimeoutId),i.delayTimeoutId=null))};var o=i.pointer=new s(e);return o.emitter.on("pointerdown",i.onPointerDown),o.emitter.on("pointermove",i.onPointerMove),o.emitter.on("pointerup",i.onPointerUp),n&&(o.selector=n),i.mirror=new d,i.autoScroller=new v,i}return(0,i.C6)(e,t),e.prototype.destroy=function(){this.pointer.destroy(),this.onPointerUp({})},e.prototype.startDelay=function(t){var e=this;"number"==typeof this.delay?this.delayTimeoutId=setTimeout((function(){e.delayTimeoutId=null,e.handleDelayEnd(t)}),this.delay):this.handleDelayEnd(t)},e.prototype.handleDelayEnd=function(t){this.isDelayEnded=!0,this.tryStartDrag(t)},e.prototype.handleDistanceSurpassed=function(t){this.isDistanceSurpassed=!0,this.tryStartDrag(t)},e.prototype.tryStartDrag=function(t){this.isDelayEnded&&this.isDistanceSurpassed&&(this.pointer.wasTouchScroll&&!this.touchScrollAllowed||(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(t.pageX,t.pageY,this.containerEl),this.emitter.trigger("dragstart",t),!1===this.touchScrollAllowed&&this.pointer.cancelTouchScroll()))},e.prototype.tryStopDrag=function(t){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,t))},e.prototype.stopDrag=function(t){this.isDragging=!1,this.emitter.trigger("dragend",t)},e.prototype.setIgnoreMove=function(t){this.pointer.shouldIgnoreMove=t},e.prototype.setMirrorIsVisible=function(t){this.mirror.setIsVisible(t)},e.prototype.setMirrorNeedsRevert=function(t){this.mirrorNeedsRevert=t},e.prototype.setAutoScrollEnabled=function(t){this.autoScroller.isEnabled=t},e}(r.WDw),E=function(){function t(t){this.origRect=(0,r.Cc$)(t),this.scrollCaches=(0,r.ccu)(t).map((function(t){return new u(t,!0)}))}return t.prototype.destroy=function(){for(var t=0,e=this.scrollCaches;t<e.length;t++){e[t].destroy()}},t.prototype.computeLeft=function(){for(var t=this.origRect.left,e=0,n=this.scrollCaches;e<n.length;e++){var r=n[e];t+=r.origScrollLeft-r.getScrollLeft()}return t},t.prototype.computeTop=function(){for(var t=this.origRect.top,e=0,n=this.scrollCaches;e<n.length;e++){var r=n[e];t+=r.origScrollTop-r.getScrollTop()}return t},t.prototype.isWithinClipping=function(t,e){for(var n,i,o={left:t,top:e},a=0,l=this.scrollCaches;a<l.length;a++){var s=l[a];if(n=s.getEventTarget(),i=void 0,"HTML"!==(i=n.tagName)&&"BODY"!==i&&!(0,r.$UH)(o,s.clientRect))return!1}return!0},t}();var m=function(){function t(t,e){var n=this;this.useSubjectCenter=!1,this.requireInitial=!0,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=function(t){var e=n.dragging;n.initialHit=null,n.movingHit=null,n.finalHit=null,n.prepareHits(),n.processFirstCoord(t),n.initialHit||!n.requireInitial?(e.setIgnoreMove(!1),n.emitter.trigger("pointerdown",t)):e.setIgnoreMove(!0)},this.handleDragStart=function(t){n.emitter.trigger("dragstart",t),n.handleMove(t,!0)},this.handleDragMove=function(t){n.emitter.trigger("dragmove",t),n.handleMove(t)},this.handlePointerUp=function(t){n.releaseHits(),n.emitter.trigger("pointerup",t)},this.handleDragEnd=function(t){n.movingHit&&n.emitter.trigger("hitupdate",null,!0,t),n.finalHit=n.movingHit,n.movingHit=null,n.emitter.trigger("dragend",t)},this.droppableStore=e,t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragstart",this.handleDragStart),t.emitter.on("dragmove",this.handleDragMove),t.emitter.on("pointerup",this.handlePointerUp),t.emitter.on("dragend",this.handleDragEnd),this.dragging=t,this.emitter=new r.vli}return t.prototype.processFirstCoord=function(t){var e,n={left:t.pageX,top:t.pageY},i=n,o=t.subjectEl;o instanceof HTMLElement&&(e=(0,r.Cc$)(o),i=(0,r.AF1)(i,e));var a=this.initialHit=this.queryHitForOffset(i.left,i.top);if(a){if(this.useSubjectCenter&&e){var l=(0,r.B_7)(e,a.rect);l&&(i=(0,r.QvU)(l))}this.coordAdjust=(0,r.puS)(i,n)}else this.coordAdjust={left:0,top:0}},t.prototype.handleMove=function(t,e){var n=this.queryHitForOffset(t.pageX+this.coordAdjust.left,t.pageY+this.coordAdjust.top);!e&&S(this.movingHit,n)||(this.movingHit=n,this.emitter.trigger("hitupdate",n,!1,t))},t.prototype.prepareHits=function(){this.offsetTrackers=(0,r.d_K)(this.droppableStore,(function(t){return t.component.prepareHits(),new E(t.el)}))},t.prototype.releaseHits=function(){var t=this.offsetTrackers;for(var e in t)t[e].destroy();this.offsetTrackers={}},t.prototype.queryHitForOffset=function(t,e){var n=this.droppableStore,i=this.offsetTrackers,o=null;for(var a in n){var l=n[a].component,s=i[a];if(s&&s.isWithinClipping(t,e)){var c=s.computeLeft(),d=s.computeTop(),g=t-c,u=e-d,h=s.origRect,p=h.right-h.left,v=h.bottom-h.top;if(g>=0&&g<p&&u>=0&&u<v){var f=l.queryHit(g,u,p,v);f&&(0,r.wj3)(f.dateProfile.activeRange,f.dateSpan.range)&&(!o||f.layer>o.layer)&&(f.componentId=a,f.context=l.context,f.rect.left+=c,f.rect.right+=c,f.rect.top+=d,f.rect.bottom+=d,o=f)}}}return o},t}();function S(t,e){return!t&&!e||Boolean(t)===Boolean(e)&&(0,r.U6q)(t.dateSpan,e.dateSpan)}function D(t,e){for(var n,r,o={},a=0,l=e.pluginHooks.datePointTransforms;a<l.length;a++){var s=l[a];(0,i.Cl)(o,s(t,e))}return(0,i.Cl)(o,(n=t,{date:(r=e.dateEnv).toDate(n.range.start),dateStr:r.formatIso(n.range.start,{omitTime:n.allDay}),allDay:n.allDay})),o}var y=function(t){function e(e){var n=t.call(this,e)||this;n.handlePointerDown=function(t){var e=n.dragging,r=t.origEvent.target;e.setIgnoreMove(!n.component.isValidDateDownEl(r))},n.handleDragEnd=function(t){var e=n.component;if(!n.dragging.pointer.wasTouchScroll){var r=n.hitDragging,o=r.initialHit,a=r.finalHit;if(o&&a&&S(o,a)){var l=e.context,s=(0,i.Cl)((0,i.Cl)({},D(o.dateSpan,l)),{dayEl:o.dayEl,jsEvent:t.origEvent,view:l.viewApi||l.calendarApi.view});l.emitter.trigger("dateClick",s)}}},n.dragging=new f(e.el),n.dragging.autoScroller.isEnabled=!1;var o=n.hitDragging=new m(n.dragging,(0,r.qIM)(e));return o.emitter.on("pointerdown",n.handlePointerDown),o.emitter.on("dragend",n.handleDragEnd),n}return(0,i.C6)(e,t),e.prototype.destroy=function(){this.dragging.destroy()},e}(r.N3M),w=function(t){function e(e){var n=t.call(this,e)||this;n.dragSelection=null,n.handlePointerDown=function(t){var e=n,r=e.component,i=e.dragging,o=r.context.options.selectable&&r.isValidDateDownEl(t.origEvent.target);i.setIgnoreMove(!o),i.delay=t.isTouch?function(t){var e=t.context.options,n=e.selectLongPressDelay;null==n&&(n=e.longPressDelay);return n}(r):null},n.handleDragStart=function(t){n.component.context.calendarApi.unselect(t)},n.handleHitUpdate=function(t,e){var o=n.component.context,a=null,l=!1;if(t){var s=n.hitDragging.initialHit;t.componentId===s.componentId&&n.isHitComboAllowed&&!n.isHitComboAllowed(s,t)||(a=function(t,e,n){var o=t.dateSpan,a=e.dateSpan,l=[o.range.start,o.range.end,a.range.start,a.range.end];l.sort(r.S$d);for(var s={},c=0,d=n;c<d.length;c++){var g=(0,d[c])(t,e);if(!1===g)return null;g&&(0,i.Cl)(s,g)}return s.range={start:l[0],end:l[3]},s.allDay=o.allDay,s}(s,t,o.pluginHooks.dateSelectionTransformers)),a&&(0,r.rjW)(a,t.dateProfile,o)||(l=!0,a=null)}a?o.dispatch({type:"SELECT_DATES",selection:a}):e||o.dispatch({type:"UNSELECT_DATES"}),l?(0,r.tOV)():(0,r.q2g)(),e||(n.dragSelection=a)},n.handlePointerUp=function(t){n.dragSelection&&((0,r.F5O)(n.dragSelection,t,n.component.context),n.dragSelection=null)};var o=e.component.context.options,a=n.dragging=new f(e.el);a.touchScrollAllowed=!1,a.minDistance=o.selectMinDistance||0,a.autoScroller.isEnabled=o.dragScroll;var l=n.hitDragging=new m(n.dragging,(0,r.qIM)(e));return l.emitter.on("pointerdown",n.handlePointerDown),l.emitter.on("dragstart",n.handleDragStart),l.emitter.on("hitupdate",n.handleHitUpdate),l.emitter.on("pointerup",n.handlePointerUp),n}return(0,i.C6)(e,t),e.prototype.destroy=function(){this.dragging.destroy()},e}(r.N3M);var T=function(t){function e(n){var o=t.call(this,n)||this;o.subjectEl=null,o.subjectSeg=null,o.isDragging=!1,o.eventRange=null,o.relevantEvents=null,o.receivingContext=null,o.validMutation=null,o.mutatedRelevantEvents=null,o.handlePointerDown=function(t){var e=t.origEvent.target,n=o,i=n.component,a=n.dragging,l=a.mirror,s=i.context.options,c=i.context;o.subjectEl=t.subjectEl;var d=o.subjectSeg=(0,r.VVT)(t.subjectEl),g=(o.eventRange=d.eventRange).instance.instanceId;o.relevantEvents=(0,r.LkY)(c.getCurrentData().eventStore,g),a.minDistance=t.isTouch?0:s.eventDragMinDistance,a.delay=t.isTouch&&g!==i.props.eventSelection?function(t){var e=t.context.options,n=e.eventLongPressDelay;null==n&&(n=e.longPressDelay);return n}(i):null,s.fixedMirrorParent?l.parentNode=s.fixedMirrorParent:l.parentNode=(0,r.YAv)(e,".fc"),l.revertDuration=s.dragRevertDuration;var u=i.isValidSegDownEl(e)&&!(0,r.YAv)(e,".fc-event-resizer");a.setIgnoreMove(!u),o.isDragging=u&&t.subjectEl.classList.contains("fc-event-draggable")},o.handleDragStart=function(t){var e=o.component.context,n=o.eventRange,i=n.instance.instanceId;t.isTouch?i!==o.component.props.eventSelection&&e.dispatch({type:"SELECT_EVENT",eventInstanceId:i}):e.dispatch({type:"UNSELECT_EVENT"}),o.isDragging&&(e.calendarApi.unselect(t),e.emitter.trigger("eventDragStart",{el:o.subjectEl,event:new r.fhX(e,n.def,n.instance),jsEvent:t.origEvent,view:e.viewApi}))},o.handleHitUpdate=function(t,e){if(o.isDragging){var n=o.relevantEvents,i=o.hitDragging.initialHit,a=o.component.context,l=null,s=null,c=null,d=!1,g={affectedEvents:n,mutatedEvents:(0,r.H8x)(),isEvent:!0};if(t){var u=(l=t.context).options;a===l||u.editable&&u.droppable?(s=function(t,e,n){var i=t.dateSpan,o=e.dateSpan,a=i.range.start,l=o.range.start,s={};i.allDay!==o.allDay&&(s.allDay=o.allDay,s.hasEnd=e.context.options.allDayMaintainDuration,o.allDay&&(a=(0,r.ol1)(a)));var c=(0,r.FjJ)(a,l,t.context.dateEnv,t.componentId===e.componentId?t.largeUnit:null);c.milliseconds&&(s.allDay=!1);for(var d={datesDelta:c,standardProps:s},g=0,u=n;g<u.length;g++){(0,u[g])(d,t,e)}return d}(i,t,l.getCurrentData().pluginHooks.eventDragMutationMassagers))&&(c=(0,r.on3)(n,l.getCurrentData().eventUiBases,s,l),g.mutatedEvents=c,(0,r.lVx)(g,t.dateProfile,l)||(d=!0,s=null,c=null,g.mutatedEvents=(0,r.H8x)())):l=null}o.displayDrag(l,g),d?(0,r.tOV)():(0,r.q2g)(),e||(a===l&&S(i,t)&&(s=null),o.dragging.setMirrorNeedsRevert(!s),o.dragging.setMirrorIsVisible(!t||!(0,r.UOc)(o.subjectEl).querySelector(".fc-event-mirror")),o.receivingContext=l,o.validMutation=s,o.mutatedRelevantEvents=c)}},o.handlePointerUp=function(){o.isDragging||o.cleanup()},o.handleDragEnd=function(t){if(o.isDragging){var e=o.component.context,n=e.viewApi,a=o,l=a.receivingContext,s=a.validMutation,c=o.eventRange.def,d=o.eventRange.instance,g=new r.fhX(e,c,d),u=o.relevantEvents,h=o.mutatedRelevantEvents,p=o.hitDragging.finalHit;if(o.clearDrag(),e.emitter.trigger("eventDragStop",{el:o.subjectEl,event:g,jsEvent:t.origEvent,view:n}),s){if(l===e){var v=new r.fhX(e,h.defs[c.defId],d?h.instances[d.instanceId]:null);e.dispatch({type:"MERGE_EVENTS",eventStore:h});for(var f={oldEvent:g,event:v,relatedEvents:(0,r.uEb)(h,e,d),revert:function(){e.dispatch({type:"MERGE_EVENTS",eventStore:u})}},E={},m=0,S=e.getCurrentData().pluginHooks.eventDropTransformers;m<S.length;m++){var y=S[m];(0,i.Cl)(E,y(s,e))}e.emitter.trigger("eventDrop",(0,i.Cl)((0,i.Cl)((0,i.Cl)({},f),E),{el:t.subjectEl,delta:s.datesDelta,jsEvent:t.origEvent,view:n})),e.emitter.trigger("eventChange",f)}else if(l){var w={event:g,relatedEvents:(0,r.uEb)(u,e,d),revert:function(){e.dispatch({type:"MERGE_EVENTS",eventStore:u})}};e.emitter.trigger("eventLeave",(0,i.Cl)((0,i.Cl)({},w),{draggedEl:t.subjectEl,view:n})),e.dispatch({type:"REMOVE_EVENTS",eventStore:u}),e.emitter.trigger("eventRemove",w);var T=h.defs[c.defId],M=h.instances[d.instanceId],C=new r.fhX(l,T,M);l.dispatch({type:"MERGE_EVENTS",eventStore:h});var b={event:C,relatedEvents:(0,r.uEb)(h,l,M),revert:function(){l.dispatch({type:"REMOVE_EVENTS",eventStore:h})}};l.emitter.trigger("eventAdd",b),t.isTouch&&l.dispatch({type:"SELECT_EVENT",eventInstanceId:d.instanceId}),l.emitter.trigger("drop",(0,i.Cl)((0,i.Cl)({},D(p.dateSpan,l)),{draggedEl:t.subjectEl,jsEvent:t.origEvent,view:p.context.viewApi})),l.emitter.trigger("eventReceive",(0,i.Cl)((0,i.Cl)({},b),{draggedEl:t.subjectEl,view:p.context.viewApi}))}}else e.emitter.trigger("_noEventDrop")}o.cleanup()};var a=o.component.context.options,l=o.dragging=new f(n.el);l.pointer.selector=e.SELECTOR,l.touchScrollAllowed=!1,l.autoScroller.isEnabled=a.dragScroll;var s=o.hitDragging=new m(o.dragging,r.BNQ);return s.useSubjectCenter=n.useEventCenter,s.emitter.on("pointerdown",o.handlePointerDown),s.emitter.on("dragstart",o.handleDragStart),s.emitter.on("hitupdate",o.handleHitUpdate),s.emitter.on("pointerup",o.handlePointerUp),s.emitter.on("dragend",o.handleDragEnd),o}return(0,i.C6)(e,t),e.prototype.destroy=function(){this.dragging.destroy()},e.prototype.displayDrag=function(t,e){var n=this.component.context,i=this.receivingContext;i&&i!==t&&(i===n?i.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:e.affectedEvents,mutatedEvents:(0,r.H8x)(),isEvent:!0}}):i.dispatch({type:"UNSET_EVENT_DRAG"})),t&&t.dispatch({type:"SET_EVENT_DRAG",state:e})},e.prototype.clearDrag=function(){var t=this.component.context,e=this.receivingContext;e&&e.dispatch({type:"UNSET_EVENT_DRAG"}),t!==e&&t.dispatch({type:"UNSET_EVENT_DRAG"})},e.prototype.cleanup=function(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null},e.SELECTOR=".fc-event-draggable, .fc-event-resizable",e}(r.N3M);var M=function(t){function e(e){var n=t.call(this,e)||this;n.draggingSegEl=null,n.draggingSeg=null,n.eventRange=null,n.relevantEvents=null,n.validMutation=null,n.mutatedRelevantEvents=null,n.handlePointerDown=function(t){var e=n.component,i=n.querySegEl(t),o=(0,r.VVT)(i),a=n.eventRange=o.eventRange;n.dragging.minDistance=e.context.options.eventDragMinDistance,n.dragging.setIgnoreMove(!n.component.isValidSegDownEl(t.origEvent.target)||t.isTouch&&n.component.props.eventSelection!==a.instance.instanceId)},n.handleDragStart=function(t){var e=n.component.context,i=n.eventRange;n.relevantEvents=(0,r.LkY)(e.getCurrentData().eventStore,n.eventRange.instance.instanceId);var o=n.querySegEl(t);n.draggingSegEl=o,n.draggingSeg=(0,r.VVT)(o),e.calendarApi.unselect(),e.emitter.trigger("eventResizeStart",{el:o,event:new r.fhX(e,i.def,i.instance),jsEvent:t.origEvent,view:e.viewApi})},n.handleHitUpdate=function(t,e,i){var o=n.component.context,a=n.relevantEvents,l=n.hitDragging.initialHit,s=n.eventRange.instance,c=null,d=null,g=!1,u={affectedEvents:a,mutatedEvents:(0,r.H8x)(),isEvent:!0};t&&(t.componentId===l.componentId&&n.isHitComboAllowed&&!n.isHitComboAllowed(l,t)||(c=function(t,e,n,i){var o=t.context.dateEnv,a=t.dateSpan.range.start,l=e.dateSpan.range.start,s=(0,r.FjJ)(a,l,o,t.largeUnit);if(n){if(o.add(i.start,s)<i.end)return{startDelta:s}}else if(o.add(i.end,s)>i.start)return{endDelta:s};return null}(l,t,i.subjectEl.classList.contains("fc-event-resizer-start"),s.range)));c&&(d=(0,r.on3)(a,o.getCurrentData().eventUiBases,c,o),u.mutatedEvents=d,(0,r.lVx)(u,t.dateProfile,o)||(g=!0,c=null,d=null,u.mutatedEvents=null)),d?o.dispatch({type:"SET_EVENT_RESIZE",state:u}):o.dispatch({type:"UNSET_EVENT_RESIZE"}),g?(0,r.tOV)():(0,r.q2g)(),e||(c&&S(l,t)&&(c=null),n.validMutation=c,n.mutatedRelevantEvents=d)},n.handleDragEnd=function(t){var e=n.component.context,o=n.eventRange.def,a=n.eventRange.instance,l=new r.fhX(e,o,a),s=n.relevantEvents,c=n.mutatedRelevantEvents;if(e.emitter.trigger("eventResizeStop",{el:n.draggingSegEl,event:l,jsEvent:t.origEvent,view:e.viewApi}),n.validMutation){var d=new r.fhX(e,c.defs[o.defId],a?c.instances[a.instanceId]:null);e.dispatch({type:"MERGE_EVENTS",eventStore:c});var g={oldEvent:l,event:d,relatedEvents:(0,r.uEb)(c,e,a),revert:function(){e.dispatch({type:"MERGE_EVENTS",eventStore:s})}};e.emitter.trigger("eventResize",(0,i.Cl)((0,i.Cl)({},g),{el:n.draggingSegEl,startDelta:n.validMutation.startDelta||(0,r.xCT)(0),endDelta:n.validMutation.endDelta||(0,r.xCT)(0),jsEvent:t.origEvent,view:e.viewApi})),e.emitter.trigger("eventChange",g)}else e.emitter.trigger("_noEventResize");n.draggingSeg=null,n.relevantEvents=null,n.validMutation=null};var o=e.component,a=n.dragging=new f(e.el);a.pointer.selector=".fc-event-resizer",a.touchScrollAllowed=!1,a.autoScroller.isEnabled=o.context.options.dragScroll;var l=n.hitDragging=new m(n.dragging,(0,r.qIM)(e));return l.emitter.on("pointerdown",n.handlePointerDown),l.emitter.on("dragstart",n.handleDragStart),l.emitter.on("hitupdate",n.handleHitUpdate),l.emitter.on("dragend",n.handleDragEnd),n}return(0,i.C6)(e,t),e.prototype.destroy=function(){this.dragging.destroy()},e.prototype.querySegEl=function(t){return(0,r.YAv)(t.subjectEl,".fc-event")},e}(r.N3M);var C=function(){function t(t){var e=this;this.context=t,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=function(t){t.jsEvent&&(e.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=function(t){var n=e.context.options.unselectCancel,i=(0,r.Mpm)(t.origEvent);e.matchesCancel=!!(0,r.YAv)(i,n),e.matchesEvent=!!(0,r.YAv)(i,T.SELECTOR)},this.onDocumentPointerUp=function(t){var n=e.context,r=e.documentPointer,i=n.getCurrentData();if(!r.wasTouchScroll){if(i.dateSelection&&!e.isRecentPointerDateSelect){var o=n.options.unselectAuto;!o||o&&e.matchesCancel||n.calendarApi.unselect(t)}i.eventSelection&&!e.matchesEvent&&n.dispatch({type:"UNSELECT_EVENT"})}e.isRecentPointerDateSelect=!1};var n=this.documentPointer=new s(document);n.shouldIgnoreMove=!0,n.shouldWatchScroll=!1,n.emitter.on("pointerdown",this.onDocumentPointerDown),n.emitter.on("pointerup",this.onDocumentPointerUp),t.emitter.on("select",this.onSelect)}return t.prototype.destroy=function(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()},t}(),b={fixedMirrorParent:r.D_O},R={dateClick:r.D_O,eventDragStart:r.D_O,eventDragStop:r.D_O,eventDrop:r.D_O,eventResizeStart:r.D_O,eventResizeStop:r.D_O,eventResize:r.D_O,drop:r.D_O,eventReceive:r.D_O,eventLeave:r.D_O},I=function(){function t(t,e){var n=this;this.receivingContext=null,this.droppableEvent=null,this.suppliedDragMeta=null,this.dragMeta=null,this.handleDragStart=function(t){n.dragMeta=n.buildDragMeta(t.subjectEl)},this.handleHitUpdate=function(t,e,o){var a=n.hitDragging.dragging,l=null,s=null,c=!1,d={affectedEvents:(0,r.H8x)(),mutatedEvents:(0,r.H8x)(),isEvent:n.dragMeta.create};t&&(l=t.context,n.canDropElOnCalendar(o.subjectEl,l)&&(s=function(t,e,n){for(var o=(0,i.Cl)({},e.leftoverProps),a=0,l=n.pluginHooks.externalDefTransforms;a<l.length;a++){var s=l[a];(0,i.Cl)(o,s(t,e))}var c=(0,r.Zl2)(o,n),d=c.refined,g=c.extra,u=(0,r.Rjd)(d,g,e.sourceId,t.allDay,n.options.forceEventDuration||Boolean(e.duration),n),h=t.range.start;t.allDay&&e.startTime&&(h=n.dateEnv.add(h,e.startTime));var p=e.duration?n.dateEnv.add(h,e.duration):(0,r.hax)(t.allDay,h,n),v=(0,r.OEO)(u.defId,{start:h,end:p});return{def:u,instance:v}}(t.dateSpan,n.dragMeta,l),d.mutatedEvents=(0,r.tbu)(s),(c=!(0,r.lVx)(d,t.dateProfile,l))&&(d.mutatedEvents=(0,r.H8x)(),s=null))),n.displayDrag(l,d),a.setMirrorIsVisible(e||!s||!document.querySelector(".fc-event-mirror")),c?(0,r.tOV)():(0,r.q2g)(),e||(a.setMirrorNeedsRevert(!s),n.receivingContext=l,n.droppableEvent=s)},this.handleDragEnd=function(t){var e=n,o=e.receivingContext,a=e.droppableEvent;if(n.clearDrag(),o&&a){var l=n.hitDragging.finalHit,s=l.context.viewApi,c=n.dragMeta;if(o.emitter.trigger("drop",(0,i.Cl)((0,i.Cl)({},D(l.dateSpan,o)),{draggedEl:t.subjectEl,jsEvent:t.origEvent,view:s})),c.create){var d=(0,r.tbu)(a);o.dispatch({type:"MERGE_EVENTS",eventStore:d}),t.isTouch&&o.dispatch({type:"SELECT_EVENT",eventInstanceId:a.instance.instanceId}),o.emitter.trigger("eventReceive",{event:new r.fhX(o,a.def,a.instance),relatedEvents:[],revert:function(){o.dispatch({type:"REMOVE_EVENTS",eventStore:d})},draggedEl:t.subjectEl,view:s})}}n.receivingContext=null,n.droppableEvent=null};var o=this.hitDragging=new m(t,r.BNQ);o.requireInitial=!1,o.emitter.on("dragstart",this.handleDragStart),o.emitter.on("hitupdate",this.handleHitUpdate),o.emitter.on("dragend",this.handleDragEnd),this.suppliedDragMeta=e}return t.prototype.buildDragMeta=function(t){return"object"==typeof this.suppliedDragMeta?(0,r.PWO)(this.suppliedDragMeta):"function"==typeof this.suppliedDragMeta?(0,r.PWO)(this.suppliedDragMeta(t)):(e=function(t,e){var n=r.$WB.dataAttrPrefix,i=(n?n+"-":"")+e;return t.getAttribute("data-"+i)||""}(t,"event"),n=e?JSON.parse(e):{create:!1},(0,r.PWO)(n));var e,n},t.prototype.displayDrag=function(t,e){var n=this.receivingContext;n&&n!==t&&n.dispatch({type:"UNSET_EVENT_DRAG"}),t&&t.dispatch({type:"SET_EVENT_DRAG",state:e})},t.prototype.clearDrag=function(){this.receivingContext&&this.receivingContext.dispatch({type:"UNSET_EVENT_DRAG"})},t.prototype.canDropElOnCalendar=function(t,e){var n=e.options.dropAccept;return"function"==typeof n?n.call(e.calendarApi,t):"string"!=typeof n||!n||Boolean((0,r.C4N)(t,n))},t}();r.$WB.dataAttrPrefix="";var P=function(){function t(t,e){var n=this;void 0===e&&(e={}),this.handlePointerDown=function(t){var e=n.dragging,i=n.settings,o=i.minDistance,a=i.longPressDelay;e.minDistance=null!=o?o:t.isTouch?0:r.p3z.eventDragMinDistance,e.delay=t.isTouch?null!=a?a:r.p3z.longPressDelay:0},this.handleDragStart=function(t){t.isTouch&&n.dragging.delay&&t.subjectEl.classList.contains("fc-event")&&n.dragging.mirror.getMirrorEl().classList.add("fc-event-selected")},this.settings=e;var i=this.dragging=new f(t);i.touchScrollAllowed=!1,null!=e.itemSelector&&(i.pointer.selector=e.itemSelector),null!=e.appendTo&&(i.mirror.parentNode=e.appendTo),i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),new I(i,e.eventData)}return t.prototype.destroy=function(){this.dragging.destroy()},t}(),x=function(t){function e(e){var n=t.call(this,e)||this;n.shouldIgnoreMove=!1,n.mirrorSelector="",n.currentMirrorEl=null,n.handlePointerDown=function(t){n.emitter.trigger("pointerdown",t),n.shouldIgnoreMove||n.emitter.trigger("dragstart",t)},n.handlePointerMove=function(t){n.shouldIgnoreMove||n.emitter.trigger("dragmove",t)},n.handlePointerUp=function(t){n.emitter.trigger("pointerup",t),n.shouldIgnoreMove||n.emitter.trigger("dragend",t)};var r=n.pointer=new s(e);return r.emitter.on("pointerdown",n.handlePointerDown),r.emitter.on("pointermove",n.handlePointerMove),r.emitter.on("pointerup",n.handlePointerUp),n}return(0,i.C6)(e,t),e.prototype.destroy=function(){this.pointer.destroy()},e.prototype.setIgnoreMove=function(t){this.shouldIgnoreMove=t},e.prototype.setMirrorIsVisible=function(t){if(t)this.currentMirrorEl&&(this.currentMirrorEl.style.visibility="",this.currentMirrorEl=null);else{var e=this.mirrorSelector?document.querySelector(this.mirrorSelector):null;e&&(this.currentMirrorEl=e,e.style.visibility="hidden")}},e}(r.WDw),L=function(){function t(t,e){var n=document;t===document||t instanceof Element?(n=t,e=e||{}):e=t||{};var r=this.dragging=new x(n);"string"==typeof e.itemSelector?r.pointer.selector=e.itemSelector:n===document&&(r.pointer.selector="[data-event]"),"string"==typeof e.mirrorSelector&&(r.mirrorSelector=e.mirrorSelector),new I(r,e.eventData)}return t.prototype.destroy=function(){this.dragging.destroy()},t}(),A=(0,r.i1g)({componentInteractions:[y,w,T,M],calendarInteractions:[C],elementDraggingImpl:f,optionRefiners:b,listenerRefiners:R});e.default=A}}]);
//# sourceMappingURL=91182.51fa0386f12391ec0383.min.js.map