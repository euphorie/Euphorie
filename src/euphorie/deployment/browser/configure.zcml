<configure
    xmlns="http://namespaces.zope.org/zope"
    xmlns:browser="http://namespaces.zope.org/browser"
    >

  <adapter
      provides="zope.publisher.interfaces.IPublishTraverse"
      factory=".site.SitePublishTraverser"
      />

  <browser:page
      name="nuplone-view"
      for="Products.CMFPlone.interfaces.IPloneSiteRoot"
      permission="zope2.Public"
      class=".site.Frontpage"
      layer="euphorie.content.interfaces.IEuphorieContentLayer"
      />

  <browser:page
      name="refresh-resources-timestamp"
      for="*"
      permission="cmf.ManagePortal"
      class=".site.EuphorieRefreshResourcesTimestamp"
      />

  <browser:page
      name="manage-ensure-interface"
      for="*"
      permission="cmf.ManagePortal"
      class=".site.ManageEnsureInterface"
      />

  <browser:page
      name="repair-solution-id"
      for="*"
      permission="cmf.ManagePortal"
      class=".site.RepairSolutionId"
      />

  <browser:page
      name="update-completion-percentage"
      for="*"
      permission="cmf.ManagePortal"
      class=".site.UpdateCompletionPercentage"
      template="templates/update-completion-percentage.pt"
      />

  <browser:page
      name="search"
      for="*"
      permission="zope2.View"
      class=".search.Search"
      template="templates/search.pt"
      layer="plonetheme.nuplone.skin.interfaces.NuPloneSkin"
      />

  <browser:page
      name="context-search"
      for="*"
      permission="zope2.View"
      class=".search.ContextSearch"
      template="templates/context_search.pt"
      layer="plonetheme.nuplone.skin.interfaces.NuPloneSkin"
      />

  <!-- override some classes, but re-use the template from NuPlone -->
  <configure package="plonetheme.nuplone.skin">
    <browser:page
        name="sitemenu"
        for="*"
        class="euphorie.deployment.browser.sitemenu.Sitemenu"
        layer="euphorie.content.interfaces.IEuphorieContentLayer"
        permission="zope2.Public"
        template="templates/sitemenu.pt"
        />
  </configure>


</configure>
